!function e(t,i,r){function n(o,_){if(!i[o]){if(!t[o]){var s="function"==typeof require&&require;if(!_&&s)return s(o,!0);if(a)return a(o,!0);var l=new Error("Cannot find module '"+o+"'");throw l.code="MODULE_NOT_FOUND",l}var u=i[o]={exports:{}};t[o][0].call(u.exports,(function(e){return n(t[o][1][e]||e)}),u,u.exports,e,t,i,r)}return i[o].exports}for(var a="function"==typeof require&&require,o=0;o<r.length;o++)n(r[o]);return n}({1:[function(e,t,i){},{}],2:[function(e,t,i){(function(e){function t(e,t){for(var i=0,r=e.length-1;r>=0;r--){var n=e[r];"."===n?e.splice(r,1):".."===n?(e.splice(r,1),i++):i&&(e.splice(r,1),i--)}if(t)for(;i--;i)e.unshift("..");return e}function r(e,t){if(e.filter)return e.filter(t);for(var i=[],r=0;r<e.length;r++)t(e[r],r,e)&&i.push(e[r]);return i}i.resolve=function(){for(var i="",n=!1,a=arguments.length-1;a>=-1&&!n;a--){var o=a>=0?arguments[a]:e.cwd();if("string"!=typeof o)throw new TypeError("Arguments to path.resolve must be strings");o&&(i=o+"/"+i,n="/"===o.charAt(0))}return(n?"/":"")+(i=t(r(i.split("/"),(function(e){return!!e})),!n).join("/"))||"."},i.normalize=function(e){var a=i.isAbsolute(e),o="/"===n(e,-1);return(e=t(r(e.split("/"),(function(e){return!!e})),!a).join("/"))||a||(e="."),e&&o&&(e+="/"),(a?"/":"")+e},i.isAbsolute=function(e){return"/"===e.charAt(0)},i.join=function(){var e=Array.prototype.slice.call(arguments,0);return i.normalize(r(e,(function(e,t){if("string"!=typeof e)throw new TypeError("Arguments to path.join must be strings");return e})).join("/"))},i.relative=function(e,t){function r(e){for(var t=0;t<e.length&&""===e[t];t++);for(var i=e.length-1;i>=0&&""===e[i];i--);return t>i?[]:e.slice(t,i-t+1)}e=i.resolve(e).substr(1),t=i.resolve(t).substr(1);for(var n=r(e.split("/")),a=r(t.split("/")),o=Math.min(n.length,a.length),_=o,s=0;s<o;s++)if(n[s]!==a[s]){_=s;break}var l=[];for(s=_;s<n.length;s++)l.push("..");return(l=l.concat(a.slice(_))).join("/")},i.sep="/",i.delimiter=":",i.dirname=function(e){if("string"!=typeof e&&(e+=""),0===e.length)return".";for(var t=e.charCodeAt(0),i=47===t,r=-1,n=!0,a=e.length-1;a>=1;--a)if(47===(t=e.charCodeAt(a))){if(!n){r=a;break}}else n=!1;return-1===r?i?"/":".":i&&1===r?"/":e.slice(0,r)},i.basename=function(e,t){var i=function(e){"string"!=typeof e&&(e+="");var t,i=0,r=-1,n=!0;for(t=e.length-1;t>=0;--t)if(47===e.charCodeAt(t)){if(!n){i=t+1;break}}else-1===r&&(n=!1,r=t+1);return-1===r?"":e.slice(i,r)}(e);return t&&i.substr(-1*t.length)===t&&(i=i.substr(0,i.length-t.length)),i},i.extname=function(e){"string"!=typeof e&&(e+="");for(var t=-1,i=0,r=-1,n=!0,a=0,o=e.length-1;o>=0;--o){var _=e.charCodeAt(o);if(47!==_)-1===r&&(n=!1,r=o+1),46===_?-1===t?t=o:1!==a&&(a=1):-1!==t&&(a=-1);else if(!n){i=o+1;break}}return-1===t||-1===r||0===a||1===a&&t===r-1&&t===i+1?"":e.slice(t,r)};var n="b"==="ab".substr(-1)?function(e,t,i){return e.substr(t,i)}:function(e,t,i){return t<0&&(t=e.length+t),e.substr(t,i)}}).call(this,e("_process"))},{_process:3}],3:[function(e,t,i){var r,n,a=t.exports={};function o(){throw new Error("setTimeout has not been defined")}function _(){throw new Error("clearTimeout has not been defined")}function s(e){if(r===setTimeout)return setTimeout(e,0);if((r===o||!r)&&setTimeout)return r=setTimeout,setTimeout(e,0);try{return r(e,0)}catch(t){try{return r.call(null,e,0)}catch(t){return r.call(this,e,0)}}}!function(){try{r="function"==typeof setTimeout?setTimeout:o}catch(e){r=o}try{n="function"==typeof clearTimeout?clearTimeout:_}catch(e){n=_}}();var l,u=[],d=!1,f=-1;function c(){d&&l&&(d=!1,l.length?u=l.concat(u):f=-1,u.length&&m())}function m(){if(!d){var e=s(c);d=!0;for(var t=u.length;t;){for(l=u,u=[];++f<t;)l&&l[f].run();f=-1,t=u.length}l=null,d=!1,function(e){if(n===clearTimeout)return clearTimeout(e);if((n===_||!n)&&clearTimeout)return n=clearTimeout,clearTimeout(e);try{n(e)}catch(t){try{return n.call(null,e)}catch(t){return n.call(this,e)}}}(e)}}function p(e,t){this.fun=e,this.array=t}function T(){}a.nextTick=function(e){var t=new Array(arguments.length-1);if(arguments.length>1)for(var i=1;i<arguments.length;i++)t[i-1]=arguments[i];u.push(new p(e,t)),1!==u.length||d||s(m)},p.prototype.run=function(){this.fun.apply(null,this.array)},a.title="browser",a.browser=!0,a.env={},a.argv=[],a.version="",a.versions={},a.on=T,a.addListener=T,a.once=T,a.off=T,a.removeListener=T,a.removeAllListeners=T,a.emit=T,a.prependListener=T,a.prependOnceListener=T,a.listeners=function(e){return[]},a.binding=function(e){throw new Error("process.binding is not supported")},a.cwd=function(){return"/"},a.chdir=function(e){throw new Error("process.chdir is not supported")},a.umask=function(){return 0}},{}],4:[function(e,t,i){window.GLOBAL_PTS=0;t.exports={BOOT_FRIST_TRUE:"first_true",BOOT_FRIST_FALSE:"first_false",GL_VIDEO_TEX_NAME:"tex",GL_VIDEO_TEX_LUT_NAME:"externTex",GL_CANVAS_CONT_ID:"canvas-render",GL_SCALE_MIN_1_STEP:.5,GL_ROI_RECT_BORDER_WEIGHT:5,GL_ROI_TOUCH_RECT_BORDER_WEIGHT:15,GL_ROI_RECT_BORDER_INFO:"rgba(255, 255, 255, 1.0) dashed 5px",GL_ROI_RECT_MVING_BORDER_INFO:"none",GL_ROI_RECT_MOVE_DOWN_POS_NONE:"none",GL_ROI_RECT_MOVE_DOWN_POS_LEFT:"left",GL_ROI_RECT_MOVE_DOWN_POS_RIGHT:"right",GL_ROI_RECT_MOVE_DOWN_POS_TOP:"top",GL_ROI_RECT_MOVE_DOWN_POS_BOTTOM:"bottom",GL_CROP_MAX_MV_DISTANCE_STEP:5,FIXED_FRAME_FPS:24,ONE_FRAME_DURATION:1/24,ONE_FRAME_DURATION_MS:1e3/24,TAG_LEVEL_UNIT:1e3,TRACE_MASTER_IDX:0,TRACE_TYPE_VIDEO:"VIDEO",TRACE_TYPE_AUDIO:"AUDIO",TRACE_TYPE_SUBTITLE:"SUBTITLE",NODE_TYPE_ALL:1e3,NODE_TYPE_VIDEO:1001,NODE_TYPE_AUDIO:1002,NODE_TYPE_LUT:1003,NODE_TYPE_TEXT:1004,NODE_TYPE_EXT_IMG:1005,MATERIAL_TYPE_VIDEO:"VIDEO",MATERIAL_TYPE_IMAGE:"IMAGE",MATERIAL_TYPE_AUDIO:"AUDIO",MATERIAL_TYPE_TEXT:"TEXT",MATERIAL_TYPE_UNKNOW:"UNKNOW",MATERIAL_APPEND_TYPE_NORMAL:"APPEND-NORMAL",MATERIAL_APPEND_TYPE_PIP:"VIDEO-IMAGE-PIP",MATERIAL_STATE_TRANSCODING:"TRANSCODING",MATERIAL_STATE_OK:"OK",MATERIAL_IMG_DEFAULT_DUR:3600,MATERIAL_IMG_DEFAULT_SHOW_DUR:5,FONT_FULL_WIDTH_TMP_ALIGN_DECR_PX:4,TEXT_ALIGN_LEFT_ENUM:0,TEXT_ALIGN_CENTER_ENUM:1,TEXT_ALIGN_RIGHT_ENUM:2,VIDEO_BTN_ID_PRE:"uuid-",FILTER_BTN_ID_PRE:"filter-shader-",COVER_AUDIO_IMAGE:"assets/audiotab.png",COVER_AUDIO_TEXT:"assets/texttab.png",MAIN_BG_COLOR:"#3F3F3F",MAIN_BORDER_COLOR:"#191919",OPERATION_BG_COLOR:"#1F1F3F",NAVIGATE_TAB_BG_COLOR:"#111111",NAVIGATE_TAB_CONT_COLOR:"#000000",MATERIAL_SCROLL_BG_COLOR:"#333333",MATERIAL_TYPES:["VIDEO","IMAGE","AUDIO","TEXT"],MATERIAL_TYPES_NAME:['<img class="nav-left-icon" align="absmiddle" width=\'20\' src="assets/typevideo.png"><span>视频</span>','<img class="nav-left-icon" align="absmiddle" width=\'20\' src="assets/typeimg.png"><span>图片</span>','<img class="nav-left-icon" align="absmiddle" width=\'20\' src="assets/typeaudio.png"><span>音频</span>','<img class="nav-left-icon" align="absmiddle" width=\'20\' src="assets/typetext.png"><span>文字</span>'],DEFAULT_MIN_TRACES_COUNT:4,DEFAULT_VIDEO_TRACE_HEIGHT:90,DEFAULT_AUDIO_TRACE_HEIGHT:35,DEFAULT_TEXT_TRACE_HEIGHT:35,DEFAULT_OTHERS_TRACE_HEIGHT:50,TOP_NAV_HEIGHT:30,CONST_MIN_TIMELINE_VERT_SLIDE:0,CONST_MAX_TIMELINE_VERT_SLIDE:1,CONST_MVS_TIMELINE_VERT_VALUE:.05,CONST_SUBTITLE_UUID:"subtitle",CONST_ResourceBoxVideoID:"resource-container-materials-video",CONST_ResourceBoxImgID:"resource-container-materials-img",CONST_ResourceBoxAudioID:"resource-container-materials-audio",CONST_ResourceBoxTextID:"resource-container-materials-text",CONST_FiltersBoxID:"resource-container-filters",CONST_PLAY_BTN_SEEK_FIRST:"FIRST",CONST_PLAY_BTN_SEEK_LAST:"LAST",CONST_PLAY_BTN_SEEK_FAST:"FAST",CONST_PLAY_BTN_SEEK_BACK:"BACK",CONST_PLAY_BTN_SEEK_NEXT1Frame:"NEXT-1-FRAME",CONST_PLAY_BTN_SEEK_BACK1Frame:"BACK-1-FRAME",LOAD_MATERIAL_LIMIT:100,LOAD_MATERIAL_TEXT:"加载中...",LOAD_MATERIAL_BTN_DEF_TEXT:"点击加载更多",TAG_ID_TMP_REPLACE_OFFSET:9e4,CONST_SHADER_MIRROR_HORI:"mirrorhori",CONST_SHADER_MIRROR_VERT:"mirrorvert",CONST_NODE_MIRROR_DEFAULT:11,CONST_NODE_MIRROR_HORI:-1,CONST_NODE_MIRROR_VERT:-1,CONST_SHADER_MIRROR_DEFAULT_ENUM:0,CONST_SHADER_MIRROR_HORI_ENUM:1,CONST_SHADER_MIRROR_VERT_ENUM:2,CONST_RESOLUTION_HORI_360P:"HORI_360P",CONST_RESOLUTION_HORI_480P:"HORI_480P",CONST_RESOLUTION_HORI_720P:"HORI_720P",CONST_RESOLUTION_HORI_1080P:"HORI_1080P",CONST_MATERIAL_SELE_BORDER_WIDTH:1,CONST_RESOLUTION_HORI_MAP:{HORI_360P:{w:640,h:360,desc:"低清"},HORI_480P:{w:854,h:480,desc:"标清"},HORI_720P:{w:1280,h:720,desc:"高清"},HORI_1080P:{w:1920,h:1080,desc:"超清"}},CONST_VIDEO_TYPES:["mp4","flv","m3u8","ts","mov","avi","rmvb","mkv","m4v","3gp","wmv","dat"],CONST_IMAGE_TYPES:["jpeg","jpg","png","tiff","gif"],CONST_AUDIO_TYPES:["mp3","aac","wav","pcm","ogg","flac","opus","ape","alac"],CONST_NavigateID:"resource-container-navigate",BOTTOM:null}},{}],5:[function(e,t,i){t.exports={Network_fetchMedia:function(e,t,i){fetch(e).then(e=>e.arrayBuffer()).then(e=>{let r=new Uint8Array(e);t(r,i),r=null})},Network_fetchJson:function(e,t,i=null){fetch(e).then(e=>e.json()).then(e=>{t(e,i)})},Network_fetchPostJson:function(e,t,i,r=null){fetch(e,{method:"POST",mode:"cors",headers:{"Content-Type":"application/json"},body:JSON.stringify(t)}).then(e=>e.json()).then(e=>{i(e,r)})},Network_fetchPostForm:function(e,t,i,r=null){let n=new FormData;for(let e in t)n.append(e,t[e]);fetch(e,{method:"POST",mode:"cors",body:n}).then(e=>e.json()).then(e=>{i(e,r)})}}},{}],6:[function(require,module,exports){const COMMON_DEF=require("./define");function TOOLS_GetMsTime(){return(new Date).getTime()}function INT2String(e){return""+e}function IntString2INT(e){return parseInt(e,10)}function GetArrDifference(e,t){return e.concat(t).filter((function(e,t,i){return i.indexOf(e)===i.lastIndexOf(e)}))}function GenerateTagOffset(e){return(e+1)*COMMON_DEF.TAG_LEVEL_UNIT}function GetBaseTagFromTagID(e){return e%COMMON_DEF.TAG_LEVEL_UNIT}function DecimalPrecisionDown(e,t=2){const i=Math.pow(10,t);return Math.floor(e*i)/i}function DecimalPrecision45(e,t=2){return parseFloat(e.toFixed(t))}function DurationFormatSubVal(e){let t=e.toString();return t.length<2?"0"+t:t}function DurationText(e){if(e<0)return"Play";let t=Math.round(e);return DurationFormatSubVal(Math.floor(t/3600))+":"+DurationFormatSubVal(Math.floor(t%3600/60))+":"+DurationFormatSubVal(Math.floor(t%60))}function CmpObject(e,t){if(e===t)return!0;if(!(e instanceof Object&&t instanceof Object))return!1;if(e.constructor!==t.constructor)return!1;for(var i in e)if(e.hasOwnProperty(i)){if(!t.hasOwnProperty(i))return!1;if(e[i]===t[i])continue;if("object"!=typeof e[i])return!1;if(!Object.equals(e[i],t[i]))return!1}for(i in t)if(t.hasOwnProperty(i)&&!e.hasOwnProperty(i))return!1;return!0}function CmpMatrixNodeDumpMat(e,t,i=COMMON_DEF.NODE_TYPE_ALL){if(e.length!==t.length)return!1;const r=e.length;for(let n=0;n<r;n++){if(e[n].length!==t[n].length)return!1;const r=e[n].length;for(let a=0;a<r;a++){const r=e[n][a],o=t[n][a];if(r.uuid!==o.uuid)return!1;if(r.targetId!==o.targetId)return!1;if(r.uniqueId!==o.uniqueId)return!1;if(r.split_start!==o.split_start)return!1;if(r.split_end!==o.split_end)return!1;if(r.show_start!==o.show_start)return!1;if(r.show_duration!==o.show_duration)return!1;if(r.volume!==o.volume)return!1;if(i!==COMMON_DEF.NODE_TYPE_TEXT){if(r.extra.hori_mirror!==o.extra.hori_mirror)return!1;if(r.extra.vert_mirror!==o.extra.vert_mirror)return!1;if(r.extra.angle!==o.extra.angle)return!1;if(r.extra.angle_w!==o.extra.angle_w)return!1;if(r.extra.angle_h!==o.extra.angle_h)return!1;if(r.extra.aspect_w!==o.extra.aspect_w)return!1;if(r.extra.aspect_h!==o.extra.aspect_h)return!1;if(r.extra.crop_x!==o.extra.crop_x)return!1;if(r.extra.crop_y!==o.extra.crop_y)return!1;if(r.extra.crop_w!==o.extra.crop_w)return!1;if(r.extra.crop_h!==o.extra.crop_h)return!1;if(r.extra.ctx_w!==o.extra.ctx_w)return!1;if(r.extra.ctx_h!==o.extra.ctx_h)return!1;if(r.extra.gl_y!==o.extra.gl_y)return!1;if(r.extra.gl_x!==o.extra.gl_x)return!1;if(r.extra.scale!==o.extra.scale)return!1}if(r.extra.level!==o.extra.level)return!1;if(r.extra.node_type!==o.extra.node_type)return!1;if(r.extra.tag!==o.extra.tag)return!1;if(r.extra.tag_offset!==o.extra.tag_offset)return!1;if(r.extra.shaders.length!==o.extra.shaders.length)return!1;if(r.extra.extraText.fontText!==o.extra.extraText.fontText)return!1;if(r.extra.extraText.fontSize!==o.extra.extraText.fontSize)return!1;if(r.extra.extraText.fontTop!==o.extra.extraText.fontTop)return!1;if(r.extra.extraText.fontLeft!==o.extra.extraText.fontLeft)return!1;if(r.extra.extraText.fontAlignEnum!==o.extra.extraText.fontAlignEnum)return!1;if(r.extra.extraText.fontColor!==o.extra.extraText.fontColor)return!1;if(r.extra.extraText.fontRectHeight!==o.extra.extraText.fontRectHeight)return!1}}return!0}function GetQueryString(e){var t=new RegExp("(^|&)"+e+"=([^&]*)(&|$)","i"),i=window.location.search.substr(1).match(t);return null!=i?unescape(i[2]):null}function DecodeJSON(jsonStr){return eval("("+jsonStr+")")}function IsEmptyDict(e){return"{}"===JSON.stringify(e)}function EncodeJSON(e){return JSON.stringify(e)}function Unicode2Utf8(str){return eval("'"+str+"'")}function IsNotChina(e){return!!/[\u4E00-\u9FA5]|[\uFE30-\uFFA0]/gi.exec(e)}function String2unicode(e){for(var t="",i=0;i<e.length;i++)if(IsNotChina(e[i])){var r=e.charCodeAt(i),n=r.toString(16);t+=r<15?"\\u000"+n:r<255?"\\u00"+n:r<4095?"\\u0"+n:"\\u"+n}else t+=e[i];return t}function Hex2rgb(e){if((e=e.toLowerCase())&&/^#([0-9a-fA-f]{3}|[0-9a-fA-f]{6})$/.test(e)){if(4===e.length){let t="#";for(let i=1;i<4;i+=1)t+=e.slice(i,i+1).concat(e.slice(i,i+1));e=t}var t=[];for(let i=1;i<7;i+=2)t.push(parseInt("0x"+e.slice(i,i+2)));return t}return[0,0,0]}function Stamp2Date(e,t){const i=new Date(e);t=t||"Y/m/d h:i:s";const r={y:i.getFullYear(),m:i.getMonth()+1,d:i.getDate(),h:i.getHours(),i:i.getMinutes(),s:i.getSeconds()};return t.replace(/\w/g,e=>{let t=r[e.toLocaleLowerCase()];return t>10||!(e=>/M|D|H|I|S/.test(e))(e)?t:"0"+t})}function GenerateRandTempTagID(){return Math.ceil(1e3*Math.random())+COMMON_DEF.TAG_ID_TMP_REPLACE_OFFSET}module.exports={TOOLS_GetMsTime:TOOLS_GetMsTime,INT2String:INT2String,IntString2INT:IntString2INT,GetArrDifference:GetArrDifference,GenerateTagOffset:GenerateTagOffset,GetBaseTagFromTagID:GetBaseTagFromTagID,DecimalPrecisionDown:DecimalPrecisionDown,DecimalPrecision45:DecimalPrecision45,DurationFormatSubVal:DurationFormatSubVal,DurationText:DurationText,CmpObject:CmpObject,CmpMatrixNodeDumpMat:CmpMatrixNodeDumpMat,GetQueryString:GetQueryString,DecodeJSON:DecodeJSON,EncodeJSON:EncodeJSON,IsEmptyDict:IsEmptyDict,Unicode2Utf8:Unicode2Utf8,IsNotChina:IsNotChina,String2unicode:String2unicode,Hex2rgb:Hex2rgb,Stamp2Date:Stamp2Date,GenerateRandTempTagID:GenerateRandTempTagID}},{"./define":4}],7:[function(e,t,i){(function(t){const r=e("../Interface/interface-avmaker"),n=(e("../Interface/interface-shader"),e("../Common/util-network"),e("../EditTrace/base-canvas"),e("../EditTrace/matrix-video")),a=e("../Common/define");class o{constructor(e){let t=this;this.m_config={ContainerID:e.PlayerContId,APP_CANVAS_W:e.APP_CANVAS_W||640,APP_CANVAS_H:e.APP_CANVAS_H||360,LOADING_GIF:e.LOADING_GIF},this.m_MainMatrix=new n.MatrixVideo({containerID:t.m_config.ContainerID}),this.m_MainMatrix.onPlayTime=function(e){t._videoOnPlayTime(e)},this.m_MainMatrix.onVideoProbe=function(e){t._videoProbeMedia(e)},this.m_MainMatrix.onTextFocus=function(e){t._videoTextFocus(e)},this.m_MainMatrix.onTextBlur=function(e){t._videoTextBlur(e)},this.m_MainMatrix.onAddHistory=function(e){t.onAddHistory(e)},this.m_mainContainer=null,this.m_drawContainer=null,this.m_AVMakerPtr=null,this.m_CanvasWidth=this.m_config.APP_CANVAS_W,this.m_CanvasHeight=this.m_config.APP_CANVAS_H,this.m_CanvasGL_Cont=null,this.m_CanvasGL_ContID=null,this.m_CanvasGL=null,this.m_CanvasGLDomID=null,this.m_CanvasGLClickTargetID=0,this.m_CanvasROIRect=null,this.m_loadingMask=null,this.m_cropMask=null,this.startX=0,this.startY=0,this.roiRect=null,this.roiLock=!1,this.moveRect=null,this.textLock=!1,this.autoScreenClose=!0,this.m_Interval_PLAY=null,this.onVideoProbe=null,this.onVideoPlayTime=null,this.onVideoPlayFinished=null,this.onAddHistory=null,this.onRectLockTagID=null,this.onClickTagID=null,this.onUnselectTagId=null,document.addEventListener("fullscreenchange",(function(e){t._isFullScreen()||!0===t.autoScreenClose&&t.closeFullScreen(!0)})),this.screenW=window.screen.width,this.screenH=window.screen.height}_videoProbeMedia(e){this.onVideoProbe&&this.onVideoProbe(e)}_videoOnPlayTime(e){this.onVideoPlayTime&&this.onVideoPlayTime(e)}_videoTextFocus(e){this.textLock=!0}_videoTextBlur(e){this.textLock=!1}dumpMat(e=!1){return this.m_MainMatrix.dumpMat(e)}clearGL(){this.m_MainMatrix.clearGL()}testReload(){this.m_MainMatrix.testReload()}reloadAllTraces(e){this.m_MainMatrix.reloadAllTraces(e)}transMatTimelineToPluginTimeline(e){return this.m_MainMatrix.transMatTimelineToPluginTimeline(e)}backStep(){this.m_MainMatrix.backStep()}pause(){this.m_MainMatrix.pause(),window.clearInterval(this.m_Interval_PLAY),this.m_Interval_PLAY=null}play(){let e=this;e.m_MainMatrix.preparePlay(),null===e.m_Interval_PLAY&&(e.m_Interval_PLAY=window.setInterval(()=>{1===e.m_MainMatrix.play1frame()&&(e.pause(),e.onVideoPlayFinished&&e.onVideoPlayFinished())},a.ONE_FRAME_DURATION_MS/3))}play1frame(){return this.m_MainMatrix.play1frame()}autoPlayPause(){return null===this.m_Interval_PLAY?(this.play(),0):(this.pause(),1)}removeAll(){this.m_MainMatrix.removeAllTraces()}removeTraceByIdx(e){this.m_MainMatrix.removeTraceByIdx(e)}getAVMakerPtr(){return this.m_AVMakerPtr}addShaderByTag(e,t){return this.m_MainMatrix.addShaderByTag(e,t)}setNode_GL_MvXY_ByTag(e,t,i){return this.m_MainMatrix.setNode_GL_MvXY_ByTag(e,t,i)}setNode_render_set_tag_GL_angle(e,t){return this.m_MainMatrix.setNode_render_set_tag_GL_angle(e,t)}setNode_render_set_tag_GL_scale(e,t){return this.m_MainMatrix.setNode_render_set_tag_GL_scale(e,t)}set_tag_GL_MvHoriMirror(e=-1,t=-1){return e<=0&&(e=this.m_CanvasGLClickTargetID),this.m_MainMatrix.set_tag_GL_MvHoriMirror(e,t)}set_tag_GL_MvVertMirror(e=-1,t=-1){return e<=0&&(e=this.m_CanvasGLClickTargetID),this.m_MainMatrix.set_tag_GL_MvVertMirror(e,t)}reset_tag_GL_HoriMirror(e=-1){return e<=0&&(e=this.m_CanvasGLClickTargetID),this.m_MainMatrix.reset_tag_GL_HoriMirror(e)}reset_tag_GL_VertMirror(e=-1){return e<=0&&(e=this.m_CanvasGLClickTargetID),this.m_MainMatrix.reset_tag_GL_VertMirror(e)}setNode_render_update_inside_by_canvas_size_and_angle(e){return this.m_MainMatrix.setNode_render_update_inside_by_canvas_size_and_angle(e)}prepareLUT(){if(void 0!==this.LUT_DATA&&null!==this.LUT_DATA){let e=r.AVMaker_renderPrepareLUT(this.m_AVMakerPtr,this.LUT_DATA,this.LUT_WIDTH,this.LUT_HEIGHT);return e}return 0}renderUpdateShader(){r.AVMaker_updateShader(this.m_AVMakerPtr)}angleTurn(e=!0){let t=this;if(!0===e?this.m_MainMatrix.renderAngle(this.m_CanvasGLClickTargetID,.25):this.m_MainMatrix.renderAngle(this.m_CanvasGLClickTargetID,-.25),void 0!==t.m_CanvasGLClickTargetID&&null!==t.m_CanvasGLClickTargetID&&t.m_CanvasGLClickTargetID>0){const e=r.AVMaker_getPosSize4CanvasByTag(t.m_AVMakerPtr,t.m_CanvasGLClickTargetID);t.drawRectBorder(t.m_CanvasGL,e),t.roiRect.moveDown=!1,t.roiRect.rectSelected=!0,t.roiRect.startX=e[0],t.roiRect.startY=e[1]}}drawAllNodes(e,t,i,r=0){let n=[];n.push({tag:this.m_CanvasGLClickTargetID,scale:e,mvX:t,mvY:i,mvAngle:r}),this.m_MainMatrix.play1frame(n,!0)}getShowMaxDuration(){return this.m_MainMatrix.getShowMaxDuration()}getMaxTraceLen(){return this.m_MainMatrix.getMaxTraceLen()}removeMoveRectBorder(){void 0!==this.moveRect&&null!==this.moveRect&&this.moveRect.remove()}setMoveRectBorder(e,t){let i=t[0],r=t[1],n=t[2],o=t[3],_=e.width,s=e.height;return this.removeMoveRectBorder(),this.moveRect=document.createElement("div"),this.moveRect.style.left=i*_+e.offsetLeft+"px",this.moveRect.style.top=r*s+e.offsetTop+"px",this.moveRect.style.border=a.GL_ROI_RECT_BORDER_INFO,this.moveRect.style.backgroundColor="rgba(0, 0, 0, 0.2)",this.moveRect.style.position="absolute",this.moveRect.style.zIndex="900",this.moveRect.style.width=n*_-2*a.GL_ROI_RECT_BORDER_WEIGHT+"px",this.moveRect.style.height=o*s-2*a.GL_ROI_RECT_BORDER_WEIGHT+"px",this.moveRect.style.left=i*_+e.offsetLeft+"px",this.moveRect.style.top=r*s+e.offsetTop+"px",this.m_drawContainer.appendChild(this.moveRect),0}drawRectBorder(e,t,i=!0){let r=t[0],n=t[1],o=t[2],_=t[3],s=e.width,l=e.height;const u="rectROI";let d=document.querySelector("#rectROI");return null==d&&(d=document.createElement("div")),d.style.left=r*s+e.offsetLeft+"px",d.style.top=n*l+e.offsetTop+"px",!1===i||(d.style.border=a.GL_ROI_RECT_BORDER_INFO,d.style.backgroundColor="rgba(0, 0, 0, 0.0)",d.style.position="absolute",d.style.zIndex="1000",d.style.width=o*s-2*a.GL_ROI_RECT_BORDER_WEIGHT+"px",d.style.height=_*l-2*a.GL_ROI_RECT_BORDER_WEIGHT+"px",d.style.left=r*s+e.offsetLeft+"px",d.style.top=n*l+e.offsetTop+"px",d.setAttribute("id",u),d.startX=r,d.startY=n),d}getCanvasNodeTagID(e){return this.m_MainMatrix.getCanvasNodeTagID(e)}pushNodeByIdx(e,t){return this.m_MainMatrix.pushNodeByIdx(e,t)}pushNodeByIdxWithTmpTag(e,t,i=0){return this.m_MainMatrix.pushNodeByIdxWithTmpTag(e,t,i)}onlyPushCanvasNodeToList(e,t){return this.m_MainMatrix.onlyPushCanvasNodeToList(e,t)}updateTagForMvNodeToNewTrace(e,t){return this.m_MainMatrix.updateTagForMvNodeToNewTrace(e,t)}splitNodeByTraceIdxNodeIdx(e,t,i,r){return this.m_MainMatrix.splitWithTraceIdxNodeIdx(e,t,i,r)}getExtraByTargetId(e){return this.m_MainMatrix.getExtraByTargetId(e)}moveByTraceIdxNodeIdx(e,t,i){return this.m_MainMatrix.moveWithTraceIdxNodeIdx(e,t,i)}refreshNewTrace(e,t){return this.m_MainMatrix.refreshNewTrace(e,t)}refreshNewTraceByTraceIdx(e,t){return this.m_MainMatrix.refreshNewTraceByTraceIdx(e,t)}rmNodeByTraceIdxNodeIdx(e,t){return this.m_MainMatrix.rmWithTraceIdxNodeIdx(e,t)}rmNodeByTagId(e){let t=this.getCanvasNodeTagID(e);if(null==t||void 0===t.node||null===t.node)return-1;const i=t.traceIdx,r=t.nodeIdx;return this.rmNodeByTraceIdxNodeIdx(i,r)}rmWithTraceIdxTagId(e,t){return this.m_MainMatrix.rmWithTraceIdxTagId(e,t)}rmSoftWithNodeByIdx(e,t){return this.m_MainMatrix.rmSoftWithNodeByIdx(e,t)}seek(e=null){return this.m_MainMatrix.seek(e)}createTrace(e=-1){if(e<0)return this.m_MainMatrix.createTrace();const t=e-this.getMaxTraceLen();for(let e=0;e<t;e++)this.createTrace();return 0}addShader(e){let t=this.m_MainMatrix.addShaderByTag(this.m_CanvasGLClickTargetID,e);return 0===t&&this.m_MainMatrix.dumpMat(!0),t}rmShader(e){let t=this.m_MainMatrix.rmShaderByTag(this.m_CanvasGLClickTargetID,e);return 0===t&&this.m_MainMatrix.dumpMat(!0),t}clearShader(){let e=this.m_MainMatrix.clearShaderByTag(this.m_CanvasGLClickTargetID);return 0===e&&this.m_MainMatrix.dumpMat(!0),e}removeNodeWasmSoft(e){r.AVMaker_removeRenderNode(this.m_AVMakerPtr,e)}testSubtitle(e=100,t=100){let i=document.createElement("font");i.style.color="yellow",i.style.position="absolute",i.style.left=e+this.m_CanvasGL_Cont.offsetLeft+"px",i.style.top=t+this.m_CanvasGL_Cont.offsetTop+"px",i.style.userSelect="none",i.innerHTML="aaaaaaaaaa<br>bbbbbbbbbbbb<br>ccccccccc",this.m_CanvasGL_Cont.appendChild(i)}fullScreen(){this.autoScreenClose=!0;let e=this._checkScreenDisplaySize(this.screenW,this.screenH,this.m_CanvasWidth,this.m_CanvasHeight);this.m_CanvasGL.style.marginTop=e[0]+"px",this.m_CanvasGL.style.marginLeft=e[1]+"px",this.m_CanvasGL.style.width=e[2]+"px",this.m_CanvasGL.style.height=e[3]+"px",this._requestFullScreen(this.m_CanvasGL)}closeFullScreen(e=!1){!1===e&&(this.autoScreenClose=!1,this._exitFull()),this.m_CanvasGL.style.marginTop="0px",this.m_CanvasGL.style.marginLeft="0px",this.m_CanvasGL.style.width=this.m_CanvasWidth+"px",this.m_CanvasGL.style.height=this.m_CanvasHeight+"px"}_checkScreenDisplaySize(e,t,i,r){let n=i/e>r/t,a=(e/i).toFixed(2),o=(t/r).toFixed(2),_=n?a:o,s=parseInt(i*_),l=parseInt(r*_);return[parseInt((t-l)/2),parseInt((e-s)/2),s,l]}_isFullScreen(){let e=document.fullscreenElement||document.mozFullscreenElement||document.webkitFullscreenElement;document.fullscreenEnabled||document.mozFullscreenEnabled||document.webkitFullscreenEnabled;return null!=e}_requestFullScreen(e){e.requestFullscreen?e.requestFullscreen():e.mozRequestFullScreen?e.mozRequestFullScreen():e.msRequestFullscreen?e.msRequestFullscreen():e.webkitRequestFullscreen&&e.webkitRequestFullScreen()}_exitFull(){document.exitFullscreen?document.exitFullscreen():document.webkitExitFullscreen?document.webkitExitFullscreen():document.mozCancelFullScreen?document.mozCancelFullScreen():document.msExitFullscreen&&document.msExitFullscreen()}_in_createROI_Rect_roiMouseRelease(e){let t=this;t.roiRect.style.border=a.GL_ROI_RECT_BORDER_INFO,t.roiRect.moveDownPos=a.GL_ROI_RECT_MOVE_DOWN_POS_NONE,t.roiRect.moveDown=!1,t.roiRect.mv_startLock=!1,t.roiRect.mv_startX=0,t.roiRect.mv_startY=0;const i=r.AVMaker_getPosSize4CanvasByTag(t.m_AVMakerPtr,t.m_CanvasGLClickTargetID);t.drawRectBorder(t.m_CanvasGL,i),t.removeMoveRectBorder(),t.m_MainMatrix.dumpMat(!0)}exitRoiRect(){let e=this;e.removeRect(),e.m_MainMatrix.dumpMat(!0),e.onRectLockTagID&&e.onRectLockTagID(0)}_createROI_Rect(e=[0,0,0,0]){let t=this;t.roiRect=t.drawRectBorder(t.m_CanvasGL,e),t.roiRect.ondblclick=e=>{t.exitRoiRect()},t.roiRect.onmousedown=e=>{t.roiRect.moveDown;let i=1*e.offsetX,n=1*e.offsetY,o=i/(1*t.roiRect.offsetWidth),_=n/(1*t.roiRect.offsetHeight);t.roiRect.mv_startX=o,t.roiRect.mv_startY=_,t.roiRect.mv_startLock=!0;const s=r.AVMaker_getPosSize4CanvasByTag(t.m_AVMakerPtr,t.m_CanvasGLClickTargetID);!0!==t.roiRect.rectSelected?(t.roiRect.moveDown=!0,t.roiRect.moveDownPos=a.GL_ROI_RECT_MOVE_DOWN_POS_NONE,t.roiRect.rectSelected=!0,t.roiRect.startX=s[0],t.roiRect.startY=s[1],e.offsetX<a.GL_ROI_TOUCH_RECT_BORDER_WEIGHT?(t.roiRect.startX,t.m_CanvasGLClickTargetID,t.roiRect.moveDown=!0,t.roiRect.mv_startLock=!1,t.roiRect.moveDownPos=a.GL_ROI_RECT_MOVE_DOWN_POS_LEFT,t.roiRect.startX=s[0],t.roiRect.startY=s[1]):e.offsetX>t.roiRect.offsetWidth-2*a.GL_ROI_TOUCH_RECT_BORDER_WEIGHT?(t.roiRect.startX,t.roiRect.moveDown=!0,t.roiRect.mv_startLock=!1,t.roiRect.moveDownPos=a.GL_ROI_RECT_MOVE_DOWN_POS_RIGHT,t.roiRect.startX+=s[2],t.roiRect.startY+=s[3]):t.roiRect.moveDown=!1):e.offsetX<a.GL_ROI_TOUCH_RECT_BORDER_WEIGHT?(t.roiRect.startX,t.m_CanvasGLClickTargetID,t.roiRect.moveDown=!0,t.roiRect.mv_startLock=!1,t.roiRect.moveDownPos=a.GL_ROI_RECT_MOVE_DOWN_POS_LEFT,t.roiRect.startX=s[0],t.roiRect.startY=s[1]):e.offsetX>t.roiRect.offsetWidth-2*a.GL_ROI_TOUCH_RECT_BORDER_WEIGHT?(t.roiRect.startX,t.roiRect.moveDown=!0,t.roiRect.mv_startLock=!1,t.roiRect.moveDownPos=a.GL_ROI_RECT_MOVE_DOWN_POS_RIGHT,t.roiRect.startX+=s[2],t.roiRect.startY+=s[3]):t.roiRect.moveDown=!1,t.roiRect.moveDown,t.roiRect.mv_startLock},t.roiRect.onmousemove=e=>{!1===t.roiRect.moveDown&&t.roiRect.mv_startLock},t.roiRect.onmouseup=t._in_createROI_Rect_roiMouseRelease.bind(this),t.roiRect.onmouseout=function(e){!1===t.roiRect.moveDown&&!0===t.roiRect.mv_startLock&&t._in_createROI_Rect_roiMouseRelease(e)}}removeRect(e=!0){let t=this;null!==t.roiRect&&(t.roiRect.remove(),t.roiLock=!1,t.roiRect=null),!0===e&&(t.m_CanvasGLClickTargetID=0,t.onUnselectTagId&&t.onUnselectTagId(),t.startX=0,t.startY=0)}roiLockByTagID(e=0){let t=this;(null!==t.roiRect||e<=0)&&(t.removeRect(),t.m_MainMatrix.dumpMat(!0)),t.m_CanvasGLClickTargetID=e;let i=r.AVMaker_getPosSize4CanvasByTag(t.m_AVMakerPtr,t.m_CanvasGLClickTargetID);t._createROI_Rect(i),t.m_drawContainer.appendChild(t.roiRect),t.roiLock=!0}beginCrop(e){const t=this.getCanvasNodeTagID(e).node;if(null===t)return-1;{const e=t.getMaterial().url,i=t.getRealType(),r=t.extra.aspect_w,n=t.extra.aspect_h;let o={url:e,showW:t.extra.ctx_w*r,showH:t.extra.ctx_h*n,seekPts:0,cropType:i};if(i===a.NODE_TYPE_VIDEO){let e=t.getVideoTag().AVCMaker_getPTS();(null==e||e<0)&&(e=0),o.seekPts=e}this.setCropMask(!0,o)}return 0}setCropMask(e=!1,t=null){let i=this;if(!0===e&&(null==t||void 0===t.url||null===t.url||void 0===t.showW||null===t.showW||null==t.showH||null===t.showH||null==t.seekPts||null===t.seekPts||void 0===t.cropType||null===t.cropType))return-1;if(void 0!==this.m_cropMask&&null!==this.m_cropMask&&(this.m_cropMask.remove(),this.m_cropMask=null),!1===e)return 0;i.m_cropMask=document.createElement("div"),i.m_cropMask.style.position="absolute",i.m_cropMask.style.top=i.m_CanvasGL_Cont.offsetTop+"px",i.m_cropMask.style.left=i.m_CanvasGL_Cont.offsetLeft+"px",i.m_cropMask.style.backgroundColor="rgba(0, 0, 0, 1.0)",i.m_cropMask.style.width=i.m_CanvasWidth+"px",i.m_cropMask.style.height=i.m_CanvasHeight+"px",i.m_drawContainer.appendChild(i.m_cropMask),i.m_cropMask.tagId=i.m_CanvasGLClickTargetID;let r=null;r=t.cropType===a.NODE_TYPE_VIDEO?document.createElement("video"):document.createElement("img"),r.src=t.url,r.style.margin="0px auto",r.style.display="block",r.style.width=t.showW+"px",r.style.height=t.showH+"px",t.seekPts>0&&(r.currentTime=t.seekPts),i.m_cropMask.appendChild(r);let n=document.createElement("div");return n.style.position="absolute",n.style.top=i.m_CanvasGL_Cont.offsetTop+"px",n.style.left=i.m_CanvasGL_Cont.offsetLeft+"px",n.style.backgroundColor="rgba(0, 0, 0, 0.5)",n.style.width=t.showW+"px",n.style.height=t.showH+"px",n.style.left=(i.m_CanvasGL_Cont.offsetWidth-r.offsetWidth)/2+"px",n.style.top=(i.m_CanvasGL_Cont.offsetHeight-r.offsetHeight)/2+"px",n.style.boxSizing="border-box",n.style.border="5px dashed blue",i.m_cropMask.appendChild(n),i.m_cropMask.regionLeft=n.offsetLeft,i.m_cropMask.regionRight=n.offsetLeft+n.offsetWidth,i.m_cropMask.regionTop=n.offsetTop,i.m_cropMask.regionBottom=n.offsetTop+n.offsetHeight,i.removeRect(!1),i.m_cropMask.ondblclick=e=>{const t=r.offsetLeft,a=r.offsetTop,o=r.offsetWidth,_=r.offsetHeight,s=n.offsetLeft,l=n.offsetTop,u=(s-t)/o,d=(l-a)/_,f=n.offsetWidth/o,c=n.offsetHeight/_;i.m_MainMatrix.crop(i.m_cropMask.tagId,u,d,f,c)>=0&&(i.m_MainMatrix.play1frame(),i.pause(),i.removeRect()),i.m_cropMask.remove(),i.m_cropMask=null},i.m_cropMask.onmousedown=e=>{n.moveDown,e.offsetX<a.GL_ROI_TOUCH_RECT_BORDER_WEIGHT?(n.moveDown=!0,n.moveDownPos=a.GL_ROI_RECT_MOVE_DOWN_POS_LEFT):e.offsetX>n.offsetWidth-2*a.GL_ROI_TOUCH_RECT_BORDER_WEIGHT?(n.moveDown=!0,n.moveDownPos=a.GL_ROI_RECT_MOVE_DOWN_POS_RIGHT):e.offsetX<n.offsetWidth?e.offsetY<a.GL_ROI_TOUCH_RECT_BORDER_WEIGHT?(n.moveDown=!0,n.moveDownPos=a.GL_ROI_RECT_MOVE_DOWN_POS_TOP):e.offsetY>n.offsetHeight-2*a.GL_ROI_TOUCH_RECT_BORDER_WEIGHT?(n.moveDown=!0,n.moveDownPos=a.GL_ROI_RECT_MOVE_DOWN_POS_BOTTOM):n.moveDown=!1:n.moveDown=!1,n.moveDown},i.m_cropMask.onmousemove=e=>{if(n.moveDown,n.moveDownPos,!0===n.moveDown)if(n.moveDownPos===a.GL_ROI_RECT_MOVE_DOWN_POS_LEFT){const t=Math.max(Math.min(a.GL_CROP_MAX_MV_DISTANCE_STEP,e.movementX),-1*a.GL_CROP_MAX_MV_DISTANCE_STEP),r=n.offsetLeft+t,o=n.offsetWidth-t;if(r>i.m_cropMask.regionRight||r<i.m_cropMask.regionLeft)return;n.style.left=r+"px",n.style.width=o+"px"}else if(n.moveDownPos===a.GL_ROI_RECT_MOVE_DOWN_POS_RIGHT){const t=Math.max(Math.min(a.GL_CROP_MAX_MV_DISTANCE_STEP,e.movementX),-1*a.GL_CROP_MAX_MV_DISTANCE_STEP),r=n.offsetWidth+t;if(r<0||n.offsetLeft+r>i.m_cropMask.regionRight)return;n.style.width=r+"px"}else if(n.moveDownPos===a.GL_ROI_RECT_MOVE_DOWN_POS_TOP){const t=Math.max(Math.min(a.GL_CROP_MAX_MV_DISTANCE_STEP,e.movementY),-1*a.GL_CROP_MAX_MV_DISTANCE_STEP),r=n.offsetTop+t,o=n.offsetHeight-t;if(r>i.m_cropMask.regionBottom||r<i.m_cropMask.regionTop)return;n.style.top=r+"px",n.style.height=o+"px"}else if(n.moveDownPos===a.GL_ROI_RECT_MOVE_DOWN_POS_BOTTOM){const t=Math.max(Math.min(a.GL_CROP_MAX_MV_DISTANCE_STEP,e.movementY),-1*a.GL_CROP_MAX_MV_DISTANCE_STEP),r=n.offsetHeight+t;if(r<0||n.offsetTop+r>i.m_cropMask.regionBottom)return;n.style.height=r+"px"}},i.m_cropMask.onmouseup=n.onmouseup=function(e){n.moveDown=!1},i.m_cropMask.onmouseout=function(e){},0}setLoadingMask(e=!1){let t=this;if(void 0===this.m_loadingMask||null===this.m_loadingMask){t.m_loadingMask=document.createElement("div"),t.m_loadingMask.style.position="absolute",t.m_loadingMask.style.top=t.m_CanvasGL_Cont.offsetTop+"px",t.m_loadingMask.style.left=t.m_CanvasGL_Cont.offsetLeft+"px",t.m_loadingMask.style.backgroundColor="rgba(0, 0, 0, 0.5)",t.m_loadingMask.style.width=t.m_CanvasWidth+"px",t.m_loadingMask.style.height=t.m_CanvasHeight+"px",t.m_CanvasGL_Cont.appendChild(t.m_loadingMask);let e=document.createElement("img");const i=100;e.src=t.m_config.LOADING_GIF,e.style.margin="0px auto",e.style.display="block",e.width=i,e.height=i,e.style.width=i+"px",e.style.height=i+"px",e.style.marginTop=(t.m_CanvasHeight-i)/2+"px",t.m_loadingMask.appendChild(e)}return e?this.m_loadingMask.removeAttribute("hidden"):this.m_loadingMask.setAttribute("hidden","hidden"),0}main(){let e=this;if(null===e.m_mainContainer&&(e.m_mainContainer=document.querySelector("#container")),e.m_drawContainer=document.querySelector("#"+e.m_config.ContainerID),void 0!==e.m_drawContainer&&null!==e.m_drawContainer&&e.m_drawContainer)return e.m_CanvasGL_ContID=a.GL_CANVAS_CONT_ID,e.m_CanvasGL_Cont=document.createElement("div"),e.m_CanvasGL_Cont.id=e.m_CanvasGL_ContID,e.m_CanvasGL_Cont.style.width=e.m_CanvasWidth+"px",e.m_CanvasGL_Cont.style.height=e.m_CanvasHeight+"px",e.m_CanvasGL_Cont.style.backgroundColor="black",e.m_drawContainer.appendChild(e.m_CanvasGL_Cont),e.m_CanvasGLDomID=e.m_CanvasGL_ContID+"-webgl",e.m_CanvasGL=document.createElement("canvas"),e.m_CanvasGL.id=e.m_CanvasGLDomID,e.m_CanvasGL.width=e.m_CanvasWidth,e.m_CanvasGL.height=e.m_CanvasHeight,e.m_CanvasGL_Cont.appendChild(e.m_CanvasGL),e.m_CanvasGL_Cont.onmousedown=t=>{if(!0===e.textLock)return;let i=1*t.offsetX,r=1*t.offsetY,n=i/(1*e.m_CanvasGL_Cont.offsetWidth),a=r/(1*e.m_CanvasGL_Cont.offsetHeight);e.startX=n,e.startY=a},e.m_CanvasGL_Cont.onmouseout=e=>{},e.m_CanvasGL_Cont.ondblclick=t=>{if(!0===e.textLock)return;null!==e.roiRect&&(e.removeRect(),e.m_MainMatrix.dumpMat(!0));let i=1*t.offsetX,n=1*t.offsetY,a=i/(1*e.m_CanvasGL_Cont.offsetWidth),o=n/(1*e.m_CanvasGL_Cont.offsetHeight);if(e.m_CanvasGLClickTargetID=r.AVMaker_findClickLayer(e.m_AVMakerPtr,a,o,e.m_MainMatrix.getPTS()),e.m_CanvasGLClickTargetID,e.m_CanvasGLClickTargetID<=0)return;const _=r.AVMaker_getPosSize4CanvasByTag(e.m_AVMakerPtr,e.m_CanvasGLClickTargetID);e._createROI_Rect(_),e.m_drawContainer.appendChild(e.roiRect),e.roiLock=!0,e.onRectLockTagID&&e.onRectLockTagID(e.m_CanvasGLClickTargetID)},e.m_CanvasGL_Cont.onmousemove=t=>{if(!0===e.textLock)return;let i=1*t.offsetX,n=1*t.offsetY,a=i/(1*e.m_CanvasGL_Cont.offsetWidth),o=n/(1*e.m_CanvasGL_Cont.offsetHeight);if(e.roiLock,e.m_CanvasGLClickTargetID,e.m_CanvasGLClickTargetID>0&&!1===e.roiLock){const t=1,i=r.AVMaker_transCanvasMvX_2_GlMvX(a-e.startX),n=r.AVMaker_transCanvasMvY_2_GlMvY(o-e.startY);e.startX=a,e.startY=o,e.drawAllNodes(t,i,n)}},e.m_drawContainer.onmousedown=t=>{if(!0===e.textLock)return;let i=1*t.offsetX,n=1*t.offsetY,a=i/(1*e.m_drawContainer.offsetWidth),o=n/(1*e.m_drawContainer.offsetHeight);!1===e.roiLock&&(e.m_AVMakerPtr,e.m_CanvasGLClickTargetID=r.AVMaker_findClickLayer(e.m_AVMakerPtr,a,o,e.m_MainMatrix.getPTS()),e.m_CanvasGLClickTargetID,e.onClickTagID&&e.onClickTagID(e.m_CanvasGLClickTargetID))},e.m_drawContainer.onmousemove=t=>{if(!0===e.textLock)return;let i=1*t.clientX-e.m_drawContainer.offsetLeft,n=1*t.clientY-e.m_drawContainer.offsetTop,o=1*e.m_drawContainer.offsetWidth,_=1*e.m_drawContainer.offsetHeight;if(e.roiRect)if(void 0!==e.roiRect.moveDown&&!0===e.roiRect.moveDown){let t=i/o,s=n/_,l=(e.roiRect.offsetWidth+2*(e.roiRect.startX-t)*o)/e.roiRect.offsetWidth;if(e.roiRect.moveDownPos===a.GL_ROI_RECT_MOVE_DOWN_POS_LEFT||e.roiRect.moveDownPos===a.GL_ROI_RECT_MOVE_DOWN_POS_RIGHT&&(l=(e.roiRect.offsetWidth+2*(t-e.roiRect.startX)*o)/e.roiRect.offsetWidth),e.m_CanvasGLClickTargetID,e.roiRect.moveDownPos,e.roiRect.startX,l<a.GL_SCALE_MIN_1_STEP)return;if(void 0!==e.m_CanvasGLClickTargetID&&null!==e.m_CanvasGLClickTargetID&&e.m_CanvasGLClickTargetID>0){e.m_CanvasGLClickTargetID,e.drawAllNodes(l,0,0);const t=r.AVMaker_getPosSize4CanvasByTag(e.m_AVMakerPtr,e.m_CanvasGLClickTargetID);e.drawRectBorder(e.m_CanvasGL,t)}e.roiRect.startX=t,e.roiRect.startY=s}else if(!1===e.roiRect.moveDown&&!0===e.roiRect.mv_startLock){e.roiRect.style.border=a.GL_ROI_RECT_MVING_BORDER_INFO;let i=1*t.offsetX,n=1*t.offsetY,o=i/(1*e.roiRect.offsetWidth),_=n/(1*e.roiRect.offsetHeight);const s=1,l=r.AVMaker_transCanvasMvX_2_GlMvX(o-e.roiRect.mv_startX),u=r.AVMaker_transCanvasMvY_2_GlMvY(_-e.roiRect.mv_startY);e.drawAllNodes(s,l,u);const d=r.AVMaker_getPosSize4CanvasByTag(e.m_AVMakerPtr,e.m_CanvasGLClickTargetID);e.setMoveRectBorder(e.m_CanvasGL,d),e.roiRect.mv_startX=o,e.roiRect.mv_startY=_}else e.roiRect.style.border=a.GL_ROI_RECT_BORDER_INFO},e.m_drawContainer.onmouseup=t=>{void 0===e.roiRect||null===e.roiRect||void 0===e.roiRect.moveDown||!0!==e.roiRect.moveDown||e._in_createROI_Rect_roiMouseRelease(t)},window.onmouseup=t=>{void 0===e.roiRect||null===e.roiRect||void 0===e.roiRect.moveDown||!0!==e.roiRect.moveDown||e._in_createROI_Rect_roiMouseRelease(t)},e.m_CanvasGL_Cont.onmouseup=t=>{let i=1*t.offsetX,r=1*t.offsetY;e.m_CanvasGL_Cont.offsetWidth,e.m_CanvasGL_Cont.offsetHeight;!1===e.roiLock&&e.m_CanvasGLClickTargetID>0&&(e.m_CanvasGLClickTargetID=0,e.onUnselectTagId&&e.onUnselectTagId(),e.startX=0,e.startY=0,e.m_MainMatrix.dumpMat(!0))},this.m_AVMakerPtr,e.m_AVMakerPtr=r.AVMaker_graphCreateBindCanvas(e.m_CanvasGLDomID),e.m_MainMatrix.bindAVMakerPtr(e.m_AVMakerPtr),r.AVMaker_bindMasterTex(e.m_AVMakerPtr,a.GL_VIDEO_TEX_NAME),r.AVMaker_bindMasterLut(e.m_AVMakerPtr,a.GL_VIDEO_TEX_LUT_NAME),r.AVMaker_uniformSetup(e.m_AVMakerPtr),e.setLoadingMask(!1),!0;e.m_config.ContainerID}}i.ControllerRender=o,window.CYL_createVideoEditRender=t.CYL_createVideoEditRender=e=>new o(e)}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"../Common/define":4,"../Common/util-network":5,"../EditTrace/base-canvas":10,"../EditTrace/matrix-video":14,"../Interface/interface-avmaker":17,"../Interface/interface-shader":18}],8:[function(e,t,i){const r=e("../Interface/interface-avmaker"),n=e("./base-audiotag"),a=e("../Common/define"),o=e("../Common/util-tools");t.exports=e=>{let t={config:{id:e.id,traceIdx:e.traceIdx||0},node_type:a.NODE_TYPE_AUDIO,real_type:a.NODE_TYPE_AUDIO,ptr:null,audioTag:null,targetID:0,extra:null,wantPlayStatus:!1,fps:a.FIXED_FRAME_FPS,duration:0,nodeSet:{url:null,duration:0,splitStart:0,showStart:0,showDuration:0,uuid:0,old_tag_id:0},material:null,Member_ProbeSuc:null,Member_Seeked:null,Member_OnPlayTime:null,Member_OnPlaying:null,BOTTOM:null,setMaterial:e=>{t.material=e},getMaterial:()=>t.material,standardDuration:e=>e-ONE_FRAME_DURATION,getNodeType:()=>t.node_type,getRealType:()=>t.real_type,onVideoProbe:e=>{t.duration=Math.min(t.nodeSet.duration,e.duration),t.nodeSet.duration=t.duration,t.videoSplit(t.nodeSet.splitStart,t.nodeSet.showDuration);let i=o.GenerateTagOffset(t.config.traceIdx),n=r.AVMaker_createNewAudioNode(t.ptr,i,t.nodeSet.showStart,t.nodeSet.showDuration);t.bindTargetID(n),e.targetID=n,e.oldTagID=t.nodeSet.old_tag_id||0,e.uuid=t.nodeSet.uuid,e.real_type=t.real_type,t.Member_ProbeSuc&&t.Member_ProbeSuc(e)},onSeeked:()=>{t.Member_Seeked&&t.Member_Seeked(),!0===t.wantPlayStatus&&(t.targetID,t.videoPlay())},onPlayTime:e=>{t.Member_OnPlayTime&&t.Member_OnPlayTime(e)},create:e=>{t.nodeSet=e;const i=t.config.id+"-audio";t.audioTag=n({id:i,uuid:e.uuid}),t.audioTag.AVCMaker_createMediaProc(t.nodeSet.url,{Member_ProbeSuc:t.onVideoProbe,Member_Seeked:t.onSeeked,Member_OnPlayTime:t.onPlayTime}),t.audioTag.onPlaying=function(){t.Member_OnPlaying&&t.Member_OnPlaying()}},getUUID:()=>t.nodeSet.uuid,getTargetID:()=>t.targetID,bindPTR:e=>{t.ptr=e},bindExtra:e=>{t.extra=e,void 0!==e.tag&&null!==e.tag&&(t.targetID=e.tag)},bindTargetID:e=>{t.targetID=e},bindVideoTag:e=>{t.audioTag=e},getVideoTag:()=>t.audioTag,seekToShowTime:e=>{let i=e-t.nodeSet.showStart+t.nodeSet.splitStart;t.audioTag.AVCMaker_seek(i)},videoPlay:()=>{t.audioTag.AVCMaker_play(),t.wantPlayStatus=!0},videoPause:()=>{t.audioTag.AVCMaker_pause(),t.wantPlayStatus=!1},setVolume:e=>{null!==t.audioTag&&t.audioTag.AVCmaker_setVolume(e)},getVolume:()=>null!==t.audioTag?t.audioTag.AVCmaker_getVolume():1,videoSplit:(e,i)=>{t.nodeSet.splitStart=e,t.nodeSet.showDuration=i,t.audioTag.AVCMaker_splitFrame(e,e+i),t.syncShowToWasm()},videoSplitObvious:(e,i,r=!1)=>{let n=t.nodeSet.splitStart+t.nodeSet.showDuration,a=t.nodeSet.splitStart+e,o=n+i;a<0&&(a=0),o>t.duration&&(o=t.duration);let _=o-a;if(!1===r){let e=a-t.nodeSet.splitStart;t.nodeSet.showStart+=e}t.videoSplit(a,_)},videoReset:()=>{let e=t.nodeSet.splitStart+t.nodeSet.showDuration;t.audioTag.AVCMaker_splitFrame(t.nodeSet.splitStart,e),t.syncShowToWasm()},getPTS:()=>t.audioTag.AVCMaker_getPTS()-t.nodeSet.splitStart,getRealPTS:()=>t.audioTag.pts,getDuration:()=>t.nodeSet.duration,getShowDuration:()=>t.nodeSet.showDuration,getPlusSeekShowDuration:(e=0)=>e<=t.nodeSet.showStart?t.nodeSet.showDuration:t.nodeSet.showDuration-(e-t.nodeSet.showStart),getPlayState:()=>t.audioTag.AVCMaker_playState(),getSplitStart:()=>t.nodeSet.splitStart,getSplitEnd:()=>t.nodeSet.splitStart+t.nodeSet.showDuration,setShowStart:e=>{t.nodeSet.showStart=e,t.syncShowToWasm()},syncShowToWasm:()=>{r.AVMaker_setRenderNodeShowTime(t.ptr,t.targetID,t.nodeSet.showStart,t.nodeSet.showDuration)},getShowStart:()=>t.nodeSet.showStart,getShowEnd:()=>t.nodeSet.showStart+t.nodeSet.showDuration};return t}},{"../Common/define":4,"../Common/util-tools":6,"../Interface/interface-avmaker":17,"./base-audiotag":9}],9:[function(e,t,i){t.exports=e=>{let t={config:{id:e.id,uuid:e.uuid||0},audio:null,volume:1,Member_Events:{Member_ProbeSuc:null,Member_Seeked:null,Member_OnPlayTime:null},onPlaying:null,split:{start:0,end:0},mediaInfo:{duration:0},pts:0,seekResolve:null,BOTTOM_NULL:null,AVCMaker_createMediaProc:(e,i)=>{let r=t.config.id;t.audio=document.createElement("audio"),t.audio.id=r,t.audio.src=e,t.audio.preload="auto",t.audio.setAttribute("crossOrigin",""),null!==i&&(t.Member_Events.Member_ProbeSuc=i.Member_ProbeSuc,t.Member_Events.Member_Seeked=i.Member_Seeked,t.Member_Events.Member_OnPlayTime=i.Member_OnPlayTime),t.audio.load(),t.audio.ontimeupdate=()=>{t.pts=t.audio.currentTime,t.Member_Events.Member_OnPlayTime&&t.Member_Events.Member_OnPlayTime(t.pts)},t.audio.oncanplaythrough=()=>{t.mediaInfo.duration<=0&&(t.mediaInfo.duration=t.audio.duration,t.config.uuid,t.AVCMaker_setSplitTimeVal(0,t.audio.duration),t.Member_Events.Member_ProbeSuc&&t.Member_Events.Member_ProbeSuc(t.mediaInfo))},t.audio.onseeked=()=>{t.seekResolve&&t.seekResolve(),t.Member_Events.Member_Seeked&&t.Member_Events.Member_Seeked()},t.audio.onerror=()=>{},t.audio.onplay=()=>{t.onPlaying&&t.onPlaying()},t.audio.onplaying=()=>{t.onPlaying&&t.onPlaying()},t.audio.onended=()=>{t.AVCMaker_pause()}},AVCmaker_setVolume:e=>{t.volume=e,null!==t.audio&&(t.audio.volume,t.volume,t.audio.volume=t.volume)},AVCmaker_getVolume:()=>t.volume,AVCMaker_addHidden:()=>{t.audio.setAttribute("hidden",!0)},AVCMaker_removeHidden:()=>{t.audio.removeAttribute("hidden")},AVCMaker_getPTS:()=>t.audio.currentTime,AVCMaker_seek:e=>{t.audio.currentTime=e},AVCMaker_play:()=>{t.audio.play()},AVCMaker_pause:()=>{t.AVCMaker_playState()&&t.audio.pause()},AVCMaker_setSplitTimeVal:(e,i)=>{e>=0&&(t.split.start=e),i>0&&(t.split.end=i)},AVCMaker_splitFrame:(e,i)=>(t.AVCMaker_setSplitTimeVal(e,i),t.split,t.AVCMaker_seek(t.split.start),t.pts=t.audio.currentTime,0),AVCMaker_playState:()=>!t.audio.paused};return t}},{}],10:[function(e,t,i){const r=e("../Interface/interface-avmaker"),n=e("./base-videotag"),a=e("../Common/define"),o=e("../Common/util-tools");t.exports=e=>{let t={config:{id:e.id,traceIdx:e.traceIdx||0},node_type:a.NODE_TYPE_VIDEO,real_type:a.NODE_TYPE_VIDEO,ptr:null,canvas:null,context:null,videoTag:null,targetID:0,extra:null,wantPlayStatus:!1,fps:a.FIXED_FRAME_FPS,width:0,height:0,duration:0,nodeSet:{url:null,duration:0,splitStart:0,showStart:0,showDuration:0,uuid:0,old_tag_id:0},material:null,Member_ProbeSuc:null,Member_Seeked:null,Member_OnPlayTime:null,Member_OnPlaying:null,BOTTOM:null,setMaterial:e=>{t.material=e},getMaterial:()=>t.material,standardDuration:e=>e-ONE_FRAME_DURATION,getNodeType:()=>t.node_type,getRealType:()=>t.real_type,onVideoProbe:e=>{t.canvas.width=e.width,t.canvas.height=e.height,t.width=e.width,t.height=e.height,t.duration=Math.min(t.nodeSet.duration,e.duration),t.nodeSet.duration=t.duration,t.videoSplit(t.nodeSet.splitStart,t.nodeSet.showDuration),t.setPoster();let i=o.GenerateTagOffset(t.config.traceIdx),n=r.AVMaker_createNewRenderNode(t.ptr,i,t.nodeSet.showStart,t.nodeSet.showDuration,e.width,e.height);t.bindTargetID(n),e.targetID=n,e.oldTagID=t.nodeSet.old_tag_id||0,e.uuid=t.nodeSet.uuid,e.origin_media=t.material.origin_media,e.real_type=t.real_type,t.Member_ProbeSuc&&t.Member_ProbeSuc(e)},onSeeked:()=>{t.Member_Seeked&&t.Member_Seeked(),!0===t.wantPlayStatus?(t.targetID,t.videoPlay()):t.setPoster()},onPlayTime:e=>{t.Member_OnPlayTime&&t.Member_OnPlayTime(e)},create:e=>{t.nodeSet=e;const i=t.config.id,r=i+"-video";t.canvas=document.createElement("canvas"),t.canvas.id=i,t.canvas.setAttribute("hidden",!0),t.context=t.canvas.getContext("2d"),t.videoTag=n({id:r,uuid:e.uuid}),t.videoTag.AVCMaker_createMediaProc(t.nodeSet.url,{Member_ProbeSuc:t.onVideoProbe,Member_Seeked:t.onSeeked,Member_OnPlayTime:t.onPlayTime}),t.videoTag.onPlaying=function(){t.Member_OnPlaying&&t.Member_OnPlaying()}},getUUID:()=>(t.nodeSet,t.nodeSet.uuid,t.nodeSet.uuid),getTargetID:()=>t.targetID,bindPTR:e=>{t.ptr=e},bindExtra:e=>{t.extra=e,void 0!==e.tag&&null!==e.tag&&(t.targetID=e.tag)},bindTargetID:e=>{t.targetID=e},bindVideoTag:e=>{t.videoTag=e},bindMediaInfo:(e,i)=>{t.canvas.width=e,t.canvas.height=i},getVideoTag:()=>t.videoTag,setPoster:()=>{t.context.drawImage(t.videoTag.video,0,0),t.videoTag.video.setAttribute("poster",t.canvas.toDataURL("image/png"))},seekToShowTime:e=>{let i=e-t.nodeSet.showStart+t.nodeSet.splitStart;t.videoTag.AVCMaker_seek(i)},getFrame:()=>{if(null===t.videoTag.video||void 0===t.videoTag.video)return null;if(null===t.canvas)return!1;if(null===t.context&&(t.context=t.canvas.getContext("2d"),t.canvas,t.context),t.width<=0||t.height<=0)return!1;t.canvas,t.context;t.context.drawImage(t.videoTag.video,0,0);return t.context.getImageData(0,0,t.width,t.height).data},videoPlay:()=>{t.videoTag.AVCMaker_play(),t.wantPlayStatus=!0},videoPause:()=>{t.videoTag.AVCMaker_pause(),t.wantPlayStatus=!1},setVolume:e=>{null!==t.videoTag&&t.videoTag.AVCmaker_setVolume(e)},getVolume:()=>null!==t.videoTag?t.videoTag.AVCmaker_getVolume():1,videoSplit:(e,i)=>{t.nodeSet.splitStart=e,t.nodeSet.showDuration=i,t.videoTag.AVCMaker_splitFrame(e,e+i),t.syncShowToWasm()},videoSplitObvious:(e,i,r=!1)=>{let n=t.nodeSet.splitStart+t.nodeSet.showDuration,a=t.nodeSet.splitStart+e,o=n+i;a<0&&(a=0),o>t.duration&&(o=t.duration);let _=o-a;if(!1===r){let e=a-t.nodeSet.splitStart;t.nodeSet.showStart+=e}t.videoSplit(a,_)},videoReset:()=>{let e=t.nodeSet.splitStart+t.nodeSet.showDuration;t.videoTag.AVCMaker_splitFrame(t.nodeSet.splitStart,e),t.syncShowToWasm()},getPTS:()=>(t.videoTag.AVCMaker_getPTS(),t.nodeSet.splitStart,t.videoTag.AVCMaker_getPTS(),t.nodeSet.splitStart,t.videoTag.AVCMaker_getPTS()-t.nodeSet.splitStart),getRealPTS:()=>t.videoTag.pts,getDuration:()=>t.nodeSet.duration,getShowDuration:()=>t.nodeSet.showDuration,getPlusSeekShowDuration:(e=0)=>e<=t.nodeSet.showStart?t.nodeSet.showDuration:t.nodeSet.showDuration-(e-t.nodeSet.showStart),getPlayState:()=>t.videoTag.AVCMaker_playState(),getSplitStart:()=>t.nodeSet.splitStart,getSplitEnd:()=>t.nodeSet.splitStart+t.nodeSet.showDuration,setShowStart:e=>{t.nodeSet.showStart=e,t.syncShowToWasm()},syncShowToWasm:()=>{r.AVMaker_setRenderNodeShowTime(t.ptr,t.targetID,t.nodeSet.showStart,t.nodeSet.showDuration)},getShowStart:()=>t.nodeSet.showStart,getShowEnd:()=>t.nodeSet.showStart+t.nodeSet.showDuration};return t}},{"../Common/define":4,"../Common/util-tools":6,"../Interface/interface-avmaker":17,"./base-videotag":13}],11:[function(e,t,i){const r=e("../Interface/interface-avmaker"),n=e("../Common/define"),a=e("../Common/util-tools");t.exports=e=>{let t={config:{id:e.id,traceIdx:e.traceIdx||0},node_type:n.NODE_TYPE_VIDEO,real_type:n.NODE_TYPE_EXT_IMG,ptr:null,canvas:null,context:null,image:null,targetID:0,extra:null,wantPlayStatus:!1,pts:0,seekPos:0,startTime:-1,fps:n.FIXED_FRAME_FPS,width:0,height:0,duration:0,nodeSet:{url:null,duration:0,splitStart:0,showStart:0,showDuration:0,uuid:0,old_tag_id:0},material:null,Member_ProbeSuc:null,Member_Seeked:null,Member_OnPlayTime:null,Member_OnPlaying:null,BOTTOM:null,setMaterial:e=>{t.material=e},getMaterial:()=>t.material,standardDuration:e=>e-ONE_FRAME_DURATION,getNodeType:()=>t.node_type,getRealType:()=>t.real_type,onVideoProbe:e=>{t.nodeSet,t.canvas.width=e.width,t.canvas.height=e.height,t.width=e.width,t.height=e.height,t.duration=Math.min(t.nodeSet.duration,e.duration),t.nodeSet.duration=t.duration,t.videoSplit(t.nodeSet.splitStart,t.nodeSet.showDuration),t.setPoster();let i=a.GenerateTagOffset(t.config.traceIdx),n=r.AVMaker_createNewRenderNode(t.ptr,i,t.nodeSet.showStart,t.nodeSet.showDuration,e.width,e.height);t.bindTargetID(n),e.targetID=n,e.oldTagID=t.nodeSet.old_tag_id||0,e.uuid=t.nodeSet.uuid,e.origin_media=t.material.origin_media,e.real_type=t.real_type,t.Member_ProbeSuc&&t.Member_ProbeSuc(e)},onSeeked:()=>{t.Member_Seeked&&t.Member_Seeked(),!0===t.wantPlayStatus?(t.targetID,t.videoPlay()):t.setPoster()},onPlayTime:e=>{t.Member_OnPlayTime&&t.Member_OnPlayTime(e)},create:e=>{t.nodeSet=e;const i=t.config.id,r=i+"-image";t.canvas=document.createElement("canvas"),t.canvas.id=i,t.canvas.setAttribute("hidden",!0),t.context=t.canvas.getContext("2d"),t.image=new Image,t.imageID=r,t.image.src=t.nodeSet.url,t.image.setAttribute("crossOrigin",""),t.image.uuid=e.uuid,t.image.onload=function(){const e={width:t.image.width,height:t.image.height,duration:n.MATERIAL_IMG_DEFAULT_DUR};t.onVideoProbe(e)}},getUUID:()=>t.nodeSet.uuid,getTargetID:()=>t.targetID,bindPTR:e=>{t.ptr=e},bindExtra:e=>{t.extra=e,void 0!==e.tag&&null!==e.tag&&(t.targetID=e.tag)},bindTargetID:e=>{t.targetID=e},bindMediaInfo:(e,i)=>{t.canvas.width=e,t.canvas.height=i},setPoster:()=>{t.context.drawImage(t.image,0,0)},updatePTS:()=>{if(t.wantPlayStatus){const e=a.TOOLS_GetMsTime();t.startTime<=-1&&(t.startTime=e);const i=e-t.startTime;t.pts=t.seekPos+i/1e3,t.Member_OnPlaying&&t.Member_OnPlaying()}return t.pts},seekToShowTime:e=>{let i=e-t.nodeSet.showStart;t.pts=i,t.seekPos=i,t.onSeeked()},getFrame:()=>{if(t.image,t.wantPlayStatus,null===t.image||void 0===t.image)return!1;if(null===t.canvas)return!1;if(t.pts>=t.nodeSet.showDuration)return t.pts,t.nodeSet.showDuration,!1;if(t.width<=0||t.height<=0)return!1;t.updatePTS(),t.pts,t.nodeSet.showDuration,t.onPlayTime(t.pts),null===t.context&&(t.context=t.canvas.getContext("2d"),t.canvas,t.context),t.canvas,t.context;t.context.drawImage(t.image,0,0);return t.context.getImageData(0,0,t.width,t.height).data},videoPlay:()=>{t.wantPlayStatus=!0,t.startTime=a.TOOLS_GetMsTime()},videoPause:()=>{t.wantPlayStatus=!1},videoSplit:(e,i)=>{t.nodeSet.splitStart=e,t.nodeSet.showDuration=i,t.onSeeked(),t.syncShowToWasm()},videoSplitObvious:(e,i,r=!1)=>{let n=t.nodeSet.splitStart+t.nodeSet.showDuration,a=t.nodeSet.splitStart+e,o=n+i;a<0&&(a=0),o>t.duration&&(o=t.duration);let _=o-a;if(!1===r){let e=a-t.nodeSet.splitStart;t.nodeSet.showStart+=e}t.videoSplit(a,_)},videoReset:()=>{t.startTime=-1,t.seekPos=0,t.pts=0,t.onSeeked(),t.syncShowToWasm()},getPTS:()=>t.getRealPTS(),getRealPTS:()=>t.updatePTS(),getDuration:()=>t.nodeSet.duration,getShowDuration:()=>t.nodeSet.showDuration,getPlusSeekShowDuration:(e=0)=>e<=t.nodeSet.showStart?t.nodeSet.showDuration:t.nodeSet.showDuration-(e-t.nodeSet.showStart),getPlayState:()=>t.wantPlayStatus,getSplitStart:()=>t.nodeSet.splitStart,getSplitEnd:()=>t.nodeSet.splitStart+t.nodeSet.showDuration,setShowStart:e=>{t.nodeSet.showStart=e,t.syncShowToWasm()},syncShowToWasm:()=>{r.AVMaker_setRenderNodeShowTime(t.ptr,t.targetID,t.nodeSet.showStart,t.nodeSet.showDuration)},getShowStart:()=>t.nodeSet.showStart,getShowEnd:()=>t.nodeSet.showStart+t.nodeSet.showDuration};return t}},{"../Common/define":4,"../Common/util-tools":6,"../Interface/interface-avmaker":17}],12:[function(e,t,i){const r=e("../Interface/interface-avmaker"),n=e("../Common/define"),a=e("../Common/util-tools");t.exports=e=>{let t={config:{id:e.id,insideContID:e.insideContID,traceIdx:e.traceIdx||0},node_type:n.NODE_TYPE_TEXT,real_type:n.NODE_TYPE_TEXT,ptr:null,canvasGlCont:null,font:null,fontTop:0,fontLeft:0,fontText:"",fontSize:15,fontAlignEnum:n.TEXT_ALIGN_LEFT_ENUM,fontColor:"#FFFFFF",fontRectHeight:15,targetID:0,extra:null,fontConfigView:null,wantPlayStatus:!1,pts:0,seekPos:0,startTime:-1,isDbSelected:!1,fps:n.FIXED_FRAME_FPS,duration:0,nodeSet:{url:null,duration:0,splitStart:0,showStart:0,showDuration:0,uuid:0,old_tag_id:0},material:null,Member_ProbeSuc:null,Member_Seeked:null,Member_OnPlayTime:null,Member_OnPlaying:null,Member_OnTextFocus:null,Member_OnTextBlur:null,Member_UpdateFont:null,BOTTOM:null,setMaterial:e=>{t.material=e},getMaterial:()=>t.material,standardDuration:e=>e-ONE_FRAME_DURATION,getNodeType:()=>t.node_type,getRealType:()=>t.real_type,onVideoProbe:e=>{t.duration=Math.min(t.nodeSet.duration,e.duration),t.nodeSet.duration=t.duration,t.videoSplit(t.nodeSet.splitStart,t.nodeSet.showDuration);let i=a.GenerateTagOffset(t.config.traceIdx),n=r.AVMaker_createNewTextNode(t.ptr,i,t.nodeSet.showStart,t.nodeSet.showDuration);t.bindTargetID(n),e.targetID=n,e.oldTagID=t.nodeSet.old_tag_id||0,e.uuid=t.nodeSet.uuid,e.real_type=t.real_type,t.Member_ProbeSuc&&t.Member_ProbeSuc(e)},onSeeked:()=>{t.Member_Seeked&&t.Member_Seeked(),!0===t.wantPlayStatus&&(t.targetID,t.videoPlay())},onPlayTime:e=>{t.Member_OnPlayTime&&t.Member_OnPlayTime(e)},create:e=>{if(t.extra,void 0!==t.extra&&null!==t.extra&&void 0!==t.extra.extraText&&null!==t.extra.extraText){const e=t.extra.extraText;t.fontAlignEnum=e.fontAlignEnum,t.fontColor=e.fontColor,t.fontLeft=e.fontLeft,t.fontSize=e.fontSize,t.fontText=e.fontText,t.fontTop=e.fontTop}t.nodeSet=e,t.canvasGlCont=document.querySelector("#"+t.config.insideContID);const i={duration:n.MATERIAL_IMG_DEFAULT_DUR};t.onVideoProbe(i)},transAlign:e=>{let t="left";switch(e){case 0:t="left";break;case 1:t="center";break;case 2:t="right"}return t},setText:e=>{t.fontText=e},getFont:()=>t.font,setSingleLineH:e=>{void 0!==t.font&&null!==t.font&&(t.font.style.lineHeight=e+"px")},resetFontMouseInfo:()=>{void 0!==t.font&&null!==t.font&&(t.font.onmousemove=null,t.Member_UpdateFont&&t.Member_UpdateFont())},updateFontMousePosition:()=>{void 0!==t.font&&null!==t.font&&void 0!==t.canvasGlCont&&null!==t.canvasGlCont&&(t.font.style.left=t.fontLeft+t.canvasGlCont.offsetLeft+"px",t.font.style.top=t.fontTop+t.canvasGlCont.offsetTop+"px",t.updateConfigViewPosByFont())},resetFullHeightWithContent:()=>{if(void 0!==t.font&&null!==t.font){t.font.value=t.fontText;const e=Math.max(t.font.value.split("\n").length,1);t.fontRectHeight=e*t.fontSize,t.font.style.height=t.fontRectHeight+"px",t.fontText}},updateConfigViewPosByFont:()=>{if(null!==t.font&&null!==t.fontConfigView){const e=t.font.offsetLeft,i=t.font.offsetTop+t.font.offsetHeight+2;t.fontConfigView.style.position="absolute",t.fontConfigView.style.top=i+"px",t.fontConfigView.style.left=e+"px"}},setConfigView:(e=!0)=>{if(null===t.fontConfigView){t.fontConfigView=document.createElement("div"),t.fontConfigView.style.backgroundColor="#1F1F1F",t.updateConfigViewPosByFont(),t.fontConfigView.style.zIndex=1001,t.fontConfigView.style.width="400px",t.fontConfigView.style.minHeight="200px",t.fontConfigView.setAttribute("hidden","hidden"),t.fontConfigView.downLock=!1,document.body.appendChild(t.fontConfigView);let e=document.createElement("div");e.style.width="100%",e.style.height="40px";let i=document.createElement("font");i.textContent="字体对齐 |",i.setAttribute("class","player-color-desc-font"),e.appendChild(i);let r=document.createElement("img");r.src="assets/text-align-left.png",r.setAttribute("class","player-text-container-btn"),r.onclick=function(){t.fontAlignEnum=n.TEXT_ALIGN_LEFT_ENUM,t.font.style.textAlign=t.transAlign(n.TEXT_ALIGN_LEFT_ENUM),t.Member_UpdateFont&&t.Member_UpdateFont()},e.appendChild(r);let a=document.createElement("img");a.src="assets/text-align-center.png",a.setAttribute("class","player-text-container-btn"),a.onclick=function(){t.fontAlignEnum=n.TEXT_ALIGN_CENTER_ENUM,t.font.style.textAlign=t.transAlign(n.TEXT_ALIGN_CENTER_ENUM),t.Member_UpdateFont&&t.Member_UpdateFont()},e.appendChild(a);let o=document.createElement("img");o.src="assets/text-align-right.png",o.onclick=function(){t.fontAlignEnum=n.TEXT_ALIGN_RIGHT_ENUM,t.font.style.textAlign=t.transAlign(n.TEXT_ALIGN_RIGHT_ENUM),t.Member_UpdateFont&&t.Member_UpdateFont()},o.setAttribute("class","player-text-container-btn"),e.appendChild(o),t.fontConfigView.appendChild(e);let _=document.createElement("div");_.style.width="100%",_.style.height="40px";let s=document.createElement("font");s.textContent="颜色选择 |",s.setAttribute("class","player-color-desc-font"),_.appendChild(s);let l=document.createElement("input");l.type="color",l.setAttribute("class","player-color-panel-btn"),l.onchange=function(){t.fontColor=l.value,t.font.style.color=l.value,t.Member_UpdateFont&&t.Member_UpdateFont()},_.appendChild(l),t.fontConfigView.appendChild(_);let u=document.createElement("div");u.style.width="100%",u.style.height="40px";let d=document.createElement("font");d.textContent="字号大小 |",d.setAttribute("class","player-color-desc-font"),u.appendChild(d);let f=document.createElement("input");f.type="range",f.min=5,f.max=100,f.value=t.fontSize,f.setAttribute("class","player-font-size-panel-btn"),u.appendChild(f);let c=document.createElement("input");c.type="number",c.min=5,c.max=100,c.value=t.fontSize,c.setAttribute("class","player-font-size-panel-btn"),u.appendChild(c),f.onchange=function(){t.setFontSeriesInfo(f.value),c.value=t.fontSize,t.Member_UpdateFont&&t.Member_UpdateFont()},c.onchange=function(){t.setFontSeriesInfo(c.value),f.value=t.fontSize,t.Member_UpdateFont&&t.Member_UpdateFont()},t.fontConfigView.appendChild(u);let m=document.createElement("div");m.style.marginTop="15px",m.style.marginLeft="15px",m.style.width="100%",m.style.height="20px",m.style.color="#666666",m.style.fontSize="10px",m.textContent="拖动此区域可以更新字幕位置",t.fontConfigView.appendChild(m)}e?(t.fontConfigView.setAttribute("hidden","hidden"),t.fontConfigView.onmousemove=t.fontConfigView.onmousedown=t.fontConfigView.onmouseup=null,t.fontConfigView.downLock=!1):(t.fontConfigView.removeAttribute("hidden"),t.fontConfigView.ondblclick=t.font.ondblclick,t.fontConfigView.onmousedown=e=>{t.fontConfigView.downLock=!0},t.fontConfigView.onmousemove=e=>{if(!0===t.fontConfigView.downLock){const i=e.movementY/1;t.fontTop+=i,t.updateFontMousePosition()}},t.fontConfigView.onmouseup=e=>{t.fontConfigView.downLock=!1})},setFontSeriesInfo:e=>{t.fontSize=e,t.font.style.fontSize=t.fontSize+"px",t.setSingleLineH(t.fontSize),t.resetFullHeightWithContent(),t.updateConfigViewPosByFont()},showFont:(e=!1)=>{if(!1===e&&void 0!==t.font&&null!==t.font)return 0;if(void 0===t.canvasGlCont||null===t.canvasGlCont)return-1;t.removeFont();const i=t.config.id+"-font";return t.font=document.createElement("textarea"),t.font.wrap="off",t.font.id=i,t.font.style.resize="none",t.font.style.overflowX="hidden",t.font.style.backgroundColor="transparent",t.font.style.borderStyle="none",t.font.style.textAlign=t.transAlign(t.fontAlignEnum),t.font.style.color=t.fontColor,t.font.style.position="absolute",t.updateFontMousePosition(),t.font.style.userSelect="none",t.font.style.width=t.canvasGlCont.clientWidth-n.FONT_FULL_WIDTH_TMP_ALIGN_DECR_PX+"px",t.setFontSeriesInfo(t.fontSize),t.resetFontMouseInfo(),t.font.oninput=()=>{t.fontText=t.font.value,t.font.scrollLeft=0,t.font.scrollLeft,t.resetFullHeightWithContent()},t.font.onpropertchange=()=>{t.fontText=t.font.value,t.font.scrollLeft=0},t.font.ondblclick=e=>{t.isDbSelected=!t.isDbSelected,t.isDbSelected?t.showPanel():(t.font.style.backgroundColor="transparent",t.font.removeAttribute("readonly"),t.resetFontMouseInfo(),t.setConfigView(!0))},t.font.onmousedown=e=>{t.isDbSelected&&(t.font.onmousemove=e=>{const i=e.movementY/2;return t.fontTop+=i,t.updateFontMousePosition(),0})},t.font.onmouseup=e=>{t.resetFontMouseInfo()},t.font.onmouseout=e=>{t.resetFontMouseInfo()},t.font.onfocus=e=>{t.Member_OnTextFocus&&t.Member_OnTextFocus(e)},t.font.onblur=e=>{t.font.scrollLeft=0,t.Member_OnTextBlur&&t.Member_OnTextBlur(e),t.Member_UpdateFont&&t.Member_UpdateFont()},t.canvasGlCont.appendChild(t.font),0},showPanel:()=>{t.font.style.backgroundColor="#e9e9e9",t.font.setAttribute("readonly","readonly"),t.setConfigView(!1),t.Member_UpdateFont&&t.Member_UpdateFont()},showFontRect:(e=100,i=100,r=!1)=>{if(!1===r&&void 0!==t.font&&null!==t.font)return 0;if(void 0===t.canvasGlCont||null===t.canvasGlCont)return-1;t.removeFont();const n=t.config.id+"-font";return t.font=document.createElement("textarea"),t.font.wrap="off",t.font.style.overflowX="hidden",t.font.id=n,t.font.style.backgroundColor="transparent",t.font.style.borderStyle="none",t.font.style.color=t.fontColor,t.font.style.position="absolute",t.font.style.left=e+t.canvasGlCont.offsetLeft+"px",t.font.style.top=i+t.canvasGlCont.offsetTop+"px",t.font.style.userSelect="none",t.font.text=t.fontText,t.font.oninput=()=>{t.fontText=t.font.value},t.font.onpropertchange=()=>{t.fontText=t.font.value},t.canvasGlCont.appendChild(t.font),0},removeFont:(e=0,i=0,r=100,n=100)=>{void 0!==t.font&&null!==t.font&&(t.isDbSelected=!1,t.font.remove(),t.font=null),null!==t.fontConfigView&&t.fontConfigView.setAttribute("hidden","hidden"),t.Member_OnTextBlur&&t.Member_OnTextBlur(null)},getUUID:()=>t.nodeSet.uuid,getTargetID:()=>t.targetID,bindPTR:e=>{t.ptr=e},bindExtra:e=>{t.extra=e,void 0!==e.tag&&null!==e.tag&&(t.targetID=e.tag)},bindTargetID:e=>{t.targetID=e},updatePTS:()=>{if(t.wantPlayStatus){const e=a.TOOLS_GetMsTime();t.startTime<=-1&&(t.startTime=e);const i=e-t.startTime;t.pts=t.seekPos+i/1e3,t.Member_OnPlaying&&t.Member_OnPlaying()}return t.pts},seekToShowTime:e=>{t.removeFont();let i=e-t.nodeSet.showStart;t.pts=i,t.seekPos=i,t.onSeeked()},videoPlay:()=>{t.wantPlayStatus=!0,t.startTime=a.TOOLS_GetMsTime()},videoPause:()=>{t.wantPlayStatus=!1},videoSplit:(e,i)=>{t.nodeSet.splitStart=e,t.nodeSet.showDuration=i,t.onSeeked(),t.syncShowToWasm()},videoSplitObvious:(e,i,r=!1)=>{let n=t.nodeSet.splitStart+t.nodeSet.showDuration,a=t.nodeSet.splitStart+e,o=n+i;a<0&&(a=0),o>t.duration&&(o=t.duration);let _=o-a;if(!1===r){let e=a-t.nodeSet.splitStart;t.nodeSet.showStart+=e}t.videoSplit(a,_)},videoReset:()=>{t.startTime=-1,t.seekPos=0,t.isDbSelected=!1,t.pts=0,t.onSeeked(),t.syncShowToWasm()},getPTS:()=>t.getRealPTS(),getRealPTS:()=>t.updatePTS(),getDuration:()=>t.nodeSet.duration,getShowDuration:()=>t.nodeSet.showDuration,getPlusSeekShowDuration:(e=0)=>e<=t.nodeSet.showStart?t.nodeSet.showDuration:t.nodeSet.showDuration-(e-t.nodeSet.showStart),getPlayState:()=>t.wantPlayStatus,getSplitStart:()=>t.nodeSet.splitStart,getSplitEnd:()=>t.nodeSet.splitStart+t.nodeSet.showDuration,setShowStart:e=>{t.nodeSet.showStart=e,t.syncShowToWasm()},syncShowToWasm:()=>{r.AVMaker_setRenderNodeShowTime(t.ptr,t.targetID,t.nodeSet.showStart,t.nodeSet.showDuration)},getShowStart:()=>t.nodeSet.showStart,getShowEnd:()=>t.nodeSet.showStart+t.nodeSet.showDuration};return t}},{"../Common/define":4,"../Common/util-tools":6,"../Interface/interface-avmaker":17}],13:[function(e,t,i){t.exports=e=>{let t={config:{id:e.id,uuid:e.uuid||0},video:null,volume:1,Member_Events:{Member_ProbeSuc:null,Member_Seeked:null,Member_OnPlayTime:null},onPlaying:null,split:{start:0,end:0},mediaInfo:{duration:0,width:0,height:0},pts:0,seekResolve:null,BOTTOM_NULL:null,AVCMaker_createMediaProc:(e,i)=>{let r=t.config.id;t.video=document.createElement("video"),t.video.id=r,t.video.src=e,t.video.preload="auto",t.video.setAttribute("crossOrigin",""),null!==i&&(t.Member_Events.Member_ProbeSuc=i.Member_ProbeSuc,t.Member_Events.Member_Seeked=i.Member_Seeked,t.Member_Events.Member_OnPlayTime=i.Member_OnPlayTime),t.video.load(),t.video.ontimeupdate=()=>{t.pts=t.video.currentTime,t.Member_Events.Member_OnPlayTime&&t.Member_Events.Member_OnPlayTime(t.pts)},t.video.oncanplaythrough=()=>{t.mediaInfo.duration<=0&&(t.mediaInfo.duration=t.video.duration,t.mediaInfo.width=t.video.videoWidth,t.mediaInfo.height=t.video.videoHeight,t.config.uuid,t.AVCMaker_setSplitTimeVal(0,t.video.duration),t.Member_Events.Member_ProbeSuc&&t.Member_Events.Member_ProbeSuc(t.mediaInfo))},t.video.onseeked=()=>{t.seekResolve&&t.seekResolve(),t.Member_Events.Member_Seeked&&t.Member_Events.Member_Seeked()},t.video.onerror=()=>{},t.video.onplay=()=>{t.onPlaying&&t.onPlaying()},t.video.onplaying=()=>{t.onPlaying&&t.onPlaying()},t.video.onended=()=>{t.AVCMaker_pause()}},AVCmaker_setVolume:e=>{t.volume=e,null!==t.video&&(t.video.volume=t.volume)},AVCmaker_getVolume:()=>t.volume,AVCMaker_addHidden:()=>{t.video.setAttribute("hidden",!0)},AVCMaker_removeHidden:()=>{t.video.removeAttribute("hidden")},AVCMaker_getPTS:()=>t.video.currentTime,AVCMaker_seek:e=>{t.video.currentTime=e},AVCMaker_play:()=>{t.video.play()},AVCMaker_pause:()=>{t.AVCMaker_playState()&&t.video.pause()},AVCMaker_setSplitTimeVal:(e,i)=>{e>=0&&(t.split.start=e),i>0&&(t.split.end=i)},AVCMaker_splitFrame:(e,i)=>(t.AVCMaker_setSplitTimeVal(e,i),t.split,t.AVCMaker_seek(t.split.start),t.pts=t.video.currentTime,0),AVCMaker_playState:()=>!t.video.paused};return t}},{}],14:[function(e,t,i){const r=e("../Interface/interface-avmaker"),n=e("./trace-video-list"),a=e("../Common/define"),o=e("../Common/util-tools");i.MatrixVideo=class{constructor(e){let t=this;this._configFormat={containerID:e.containerID},this._AVMakerPtr=null,this._videoTraceIdx=0,this._videoTraces=[],this._afterSeekState=!1,this._afterSeekReadyCount=0,this.historySelected=0,this.historyTimeline=[],this.onPlayTime=null,this.onVideoProbe=null,this.onTextFocus=null,this.onTextBlur=null,this.onAddHistory=null,this.createTrace(),this._videoTraces[a.TRACE_MASTER_IDX].EventOnPlayTime=function(e){t.onPlayTime&&t.onPlayTime(e)}}getExtraByTargetId(e){return r.AVMaker_GetNodeDumpWasmParam(this._AVMakerPtr,e)}dumpMat(e=!1,t=a.NODE_TYPE_ALL){let i=this,r=[];for(let e=0;e<this._videoTraces.length;e++){let t=[];const n=this._videoTraces[e].m_canvasList;for(let e=0;e<n.length;e++){const r=n[e];let _={fontTop:0,fontLeft:0,fontText:"",fontSize:15,fontAlignEnum:a.TEXT_ALIGN_LEFT_ENUM,fontColor:"white",fontRectHeight:15};r.getNodeType()===a.NODE_TYPE_TEXT&&(_.fontTop=r.fontTop,_.fontLeft=r.fontLeft,_.fontText=r.fontText,_.fontSize=r.fontSize,_.fontAlignEnum=r.fontAlignEnum,_.fontColor=r.fontColor,_.fontRectHeight=r.fontRectHeight);let s=1;r.getRealType()!==a.NODE_TYPE_AUDIO&&r.getRealType()!==a.NODE_TYPE_VIDEO||(s=r.getVolume());let l={show_start:o.DecimalPrecision45(r.getShowStart()),show_duration:o.DecimalPrecision45(r.getShowDuration()),split_start:o.DecimalPrecision45(r.getSplitStart()),split_end:o.DecimalPrecision45(r.getSplitEnd()),max_duration:r.getDuration(),volume:s,uuid:r.getUUID(),uniqueId:r.getTargetID(),targetId:r.getTargetID(),extra:i.getExtraByTargetId(r.getTargetID()),material:r.getMaterial(),extMetadata:o.EncodeJSON(r.getMaterial())};l.extra.extraText=_,t.push(l)}r.push(t)}return!0===e&&(this.historyTimeline.length<=0||!1===o.CmpMatrixNodeDumpMat(this.historyTimeline[this.historyTimeline.length-1],r,t))&&this._addHistory(r),this.historyTimeline,r}_addHistory(e){this.historySelected;const t=this.historySelected+1;t>0&&(this.historyTimeline=this.historyTimeline.splice(0,t),this.historyTimeline),this.historyTimeline.push(e),this.historySelected=this.historyTimeline.length-1,this.historyTimeline,this.onAddHistory&&this.onAddHistory(e)}getShowMaxDuration(){return this._videoTraces.length>0?this._videoTraces[0].m_func_getLastPTS():0}getMaxTraceLen(){return this._videoTraces.length}removeAllTraces(){for(let e=0;e<this._videoTraces.length;e++)this._videoTraces[e].m_func_removeAll();this.clearGL()}removeTraceByIdx(e){if(this._videoTraces.length,a.DEFAULT_MIN_TRACES_COUNT,this._videoTraces.length-1>=e){if(this._videoTraces[e].m_func_removeAll(),e>a.DEFAULT_MIN_TRACES_COUNT-1){let t=[];for(let i=0;i<this._videoTraces.length;i++)i!==e&&t.push(this._videoTraces[i]);this._videoTraces=t}this.clearGL()}}testReload(){this.reloadAllTraces(this.historyTimeline[1])}backStep(){this.historySelected=Math.max(this.historySelected-1,0),this.historySelected,this.reloadAllTraces(this.historyTimeline[this.historySelected])}reloadAllTraces(e){this.removeAllTraces();for(let t=this._videoTraces.length;t<e.length;t++)this.createTrace();for(let t=0;t<e.length;t++)this._videoTraces[t].m_func_reloadTrace(e[t])}_formatFontRectSize(e){return 2*e}_formatFontSize(e){return e/2}_formatMirrorListTypeBy2Mirror(e=a.CONST_NODE_MIRROR_DEFAULT,t=a.CONST_NODE_MIRROR_DEFAULT){let i=[];return a.CONST_NODE_MIRROR_HORI==e&&i.push(a.CONST_SHADER_MIRROR_HORI_ENUM),a.CONST_NODE_MIRROR_VERT==t&&i.push(a.CONST_SHADER_MIRROR_VERT_ENUM),i}transMatTimelineToPluginTimeline(e){let t=this,i={track_list:[]};for(let n=0;n<e.length;n++){const _=e[n];let s={fragment_list:[]};for(let e=0;e<_.length;e++){const i=_[e];let n={x:i.extra&&i.extra.gl_x?i.extra.gl_x:0,y:i.extra&&i.extra.gl_y?i.extra.gl_y:0,z:0};const l=i.extra&&i.extra.node_type?i.extra.node_type:a.NODE_TYPE_VIDEO;let u={color:i.extra.extraText&&i.extra.extraText.fontColor?i.extra.extraText.fontColor:0,b:0,g:0,r:0};if(i.extra&&i.extra.node_type===a.NODE_TYPE_TEXT){n.x=r.AVMaker_transCanvasMvX_2_GlMvX(i.extra.extraText&&i.extra.extraText.fontLeft?1*i.extra.extraText.fontLeft/(1*APP_CANVAS_W):0),n.y=r.AVMaker_transCanvasMvX_2_GlMvX(i.extra.extraText&&i.extra.extraText.fontTop?1*i.extra.extraText.fontTop/(1*APP_CANVAS_H):0);const e=o.Hex2rgb(u.color);u.r=e[0],u.g=e[1],u.b=e[2]}let d=o.DecodeJSON(i.extMetadata),f=o.String2unicode(d.origin_file_name);i.extra.node_type===a.NODE_TYPE_VIDEO&&(f="");let c={path:"",type:l,rotate:{x:0,y:0,z:i.extra&&i.extra.angle?i.extra.angle:0},pos:n,scale:{x:i.extra&&i.extra.scale?i.extra.scale:0,y:i.extra&&i.extra.scale?i.extra.scale:0,z:1},block_start:i.split_start,block_end:i.split_end,show_start:i.show_start,margin_left:0,max_duration:i.max_duration,volume:i.volume,align_mode:i.extra.extraText&&i.extra.extraText.fontAlignEnum?i.extra.extraText.fontAlignEnum:0,font_color:u,font_width:t._formatFontRectSize(1*APP_CANVAS_W/(1*APP_CANVAS_W)),font_height:t._formatFontRectSize(i.extra.extraText&&i.extra.extraText.fontRectHeight?1*i.extra.extraText.fontRectHeight/(1*APP_CANVAS_H):0),font_size:t._formatFontRectSize(i.extra.extraText&&i.extra.extraText.fontSize?1*i.extra.extraText.fontSize/(1*APP_CANVAS_H):0),text:o.String2unicode(i.extra.extraText&&i.extra.extraText.fontText.length>0?i.extra.extraText.fontText:""),origin_name:f,uuid:i.uuid,uniqueId:i.uniqueId,mirror_type:t._formatMirrorListTypeBy2Mirror(i.extra.hori_mirror,i.extra.vert_mirror),extMetadata:i.extMetadata};s.fragment_list.push(c)}i.track_list.push(s)}return i}bindAVMakerPtr(e){this._AVMakerPtr=e;for(let e=0;e<this._videoTraces.length;e++)this._videoTraces[e].m_func_BIND_PTR(this._AVMakerPtr)}createTrace(){let e=this,t=n({idx:this._videoTraceIdx,containerID:this._configFormat.containerID});return t.EventSeeked=function(){!0===e._afterSeekState&&(e._afterSeekReadyCount++,t.m_config.idx,e._afterSeekReadyCount,e._videoTraces.length,e._afterSeekReadyCount>=e._videoTraces.length&&(e.play1frame(null,!0),e._afterSeekReadyCount=0,e._afterSeekState=!1))},t.EventUpdateFont=function(){e.dumpMat(!0,a.NODE_TYPE_TEXT)},t.Events_ProbeSuc=function(t){t.isReload,e.onVideoProbe&&e.onVideoProbe(t),e.play1frame(null,!0)},t.EventTextFocus=function(t){e.onTextFocus&&e.onTextFocus(t)},t.EventTextBlur=function(t){e.onTextBlur&&e.onTextBlur(t)},this._videoTraceIdx++,void 0!==this._AVMakerPtr&&null!==this._AVMakerPtr&&t.m_func_BIND_PTR(this._AVMakerPtr),this._videoTraces.push(t),0}clearGL(){r.AVMaker_renderClear(this._AVMakerPtr)}pushNodeByIdx(e,t){if(e>this._videoTraces.length-1)for(let t=this._videoTraces.length;t<=e;t++)this.createTrace();return this._videoTraces[e].m_func_CREATE_PUSH(t),0}pushNodeByIdxWithTmpTag(e,t,i=0){if(e>this._videoTraces.length-1)for(let t=this._videoTraces.length;t<=e;t++)this.createTrace();return this._videoTraces[e].m_func_CREATE_PUSH(t,-1,-1,-1,!1,null,i),0}preparePlay(){for(let e=0;e<this._videoTraces.length;e++)this._videoTraces[e].m_func_allReset();for(let e=0;e<this._videoTraces.length;e++)this._videoTraces[e].m_func_localCanvasToActive()}renderAngle(e,t=0){let i=[];i.push({tag:e,scale:1,mvX:0,mvY:0,mvAngle:t}),this.play1frame(i,!0)}crop(e=0,t=0,i=0,n=1,a=1){return e<=0?-1:r.AVMaker_render_set_tag_GL_Crop(this._AVMakerPtr,e,t,i,n,a)}play1frame(e=null,t=!1){let i=0;for(let r=0;r<this._videoTraces.length;r++){let n=this._videoTraces[r].m_func_renderFrame(e,t);0===r&&1===n&&(i=1)}return i}play(){}pause(){for(let e=0;e<this._videoTraces.length;e++)this._videoTraces[e].m_func_allPause()}seek(e=null){this._afterSeekState=!0;let t=window.GLOBAL_PTS;null!=e&&(t=e);for(let e=0;e<this._videoTraces.length;e++)this._videoTraces[e].m_func_setPosition(t),this._videoTraces[e].m_func_clickLocalCanvasIdx();return 0}getPTS(){return this._videoTraces[a.TRACE_MASTER_IDX].m_func_getNowShowPTS()}splitWithTraceIdxNodeIdx(e,t,i,r){return e>this._videoTraces.length-1?-1:(this._afterSeekState=!0,this._afterSeekReadyCount+=this._videoTraces.length-1,this._videoTraces[e].m_func_canvasSplitWithIdx(t,i,r),this.dumpMat(!0),0)}moveWithTraceIdxNodeIdx(e,t,i){return e>this._videoTraces.length-1?-1:(this._videoTraces[e].m_func_canvasMoveWithIdx(t,i),this.seek(),this.dumpMat(!0),0)}refreshNewTrace(e,t){e.traceIdx>this._videoTraces.length-1&&this.createTrace();const i=e.traceIdx;return this._videoTraces[i].m_func_resortByNewOrder(t),0}refreshNewTraceByTraceIdx(e,t){return e>this._videoTraces.length-1&&this.createTrace(),this._videoTraces[e].m_func_resortByNewOrder(t),0}onlyPushCanvasNodeToList(e,t){return e>this._videoTraces.length-1&&this.createTrace(),this._videoTraces[e].m_func_onlyPushCanvasNodeToList(t),0}getCanvasNodeTagID(e){if(this._videoTraces.length<1||null===e||e<0)return null;let t={traceIdx:0,nodeIdx:0,tagId:e,node:null};for(let i=0;i<this._videoTraces.length;i++){let r=this._videoTraces[i].m_func_getNodeByTagID(e);if(null!==r&&null!==r.node){t.traceIdx=i,t.nodeIdx=r.nodeIdx,t.node=r.node;break}}return t}rmWithTraceIdxNodeIdx(e,t){return e>this._videoTraces.length-1?-1:(this._videoTraces[e].m_func_rmNodeByIdx(t),this.seek(),0)}rmWithTraceIdxTagId(e,t){return e>this._videoTraces.length-1?-1:(this._videoTraces[e].m_func_rmNodeByTagID(t),this.seek(),0)}rmSoftWithNodeByIdx(e,t){return e>this._videoTraces.length-1?-1:(this._videoTraces[e].m_func_rmSoftNodeByTag(e,t),0)}updateTagForMvNodeToNewTrace(e,t){const i=o.GenerateTagOffset(t),n=o.GetBaseTagFromTagID(e);return r.AVMaker_updateRenderNodeTagParam(this._AVMakerPtr,e,i,n)}addShaderByTag(e,t){let i=r.AVMaker_addShaderToRenderNode(this._AVMakerPtr,e,t);return 0===i&&this.seek(),i}rmShaderByTag(e,t){let i=r.AVMaker_rmShaderToRenderNode(this._AVMakerPtr,e,t);return 0===i&&this.seek(),i}clearShaderByTag(e){let t=r.AVMaker_clearShaderToRenderNode(this._AVMakerPtr,e);return 0===t&&this.seek(),t}setNode_GL_MvXY_ByTag(e,t,i){return r.AVMaker_render_set_tag_GL_MvXY(this._AVMakerPtr,e,t,i)}setNode_render_set_tag_GL_angle(e,t){return r.AVMaker_render_set_tag_GL_angle(this._AVMakerPtr,e,t)}setNode_render_set_tag_GL_scale(e,t){return r.AVMaker_render_set_tag_GL_scale(this._AVMakerPtr,e,t)}set_tag_GL_MvHoriMirror(e,t){let i=r.AVMaker_render_set_tag_GL_MvHoriMirror(this._AVMakerPtr,e,t);return 0===i&&this.seek(),i}set_tag_GL_MvVertMirror(e,t){let i=r.AVMaker_render_set_tag_GL_MvVertMirror(this._AVMakerPtr,e,t);return 0===i&&this.seek(),i}reset_tag_GL_HoriMirror(e){let t=r.AVMaker_render_reset_tag_GL_HoriMirror(this._AVMakerPtr,e);return 0===t&&this.seek(),t}reset_tag_GL_VertMirror(e){let t=r.AVMaker_render_reset_tag_GL_HoriMirror(this._AVMakerPtr,e);return 0===t&&this.seek(),t}setNode_render_update_inside_by_canvas_size_and_angle(e){return r.AVMaker_render_update_inside_by_canvas_size_and_angle(this._AVMakerPtr,e)}}},{"../Common/define":4,"../Common/util-tools":6,"../Interface/interface-avmaker":17,"./trace-video-list":15}],15:[function(e,t,i){const r=e("../Interface/interface-avmaker"),n=e("./base-canvas"),a=e("./base-imgcanvas"),o=e("./base-audio"),_=e("./base-text"),s=e("../Common/define");e("../Common/util-tools");t.exports=e=>{let t={m_config:{idx:e.idx||0,containerID:e.containerID||"draw-container"},m_ptr:null,m_maxTag:0,m_canvasList:[],m_showCanvasRendIdx:-1,m_playState:!1,EventOnPlayTime:null,EventSeeked:null,Events_ProbeSuc:null,EventTextFocus:null,EventTextBlur:null,EventUpdateFont:null,m_BOTTOM:null,m_func_BIND_PTR:e=>{t.m_ptr=e;for(let i=0;i<t.m_canvasList.length;i++)t.m_canvasList[i].bindPTR(e)},m_func_PUSH:e=>{t.m_maxTag++,t.m_canvasList.push(e),e.getTargetID(),t.m_canvasList.length},m_func_isMaster:()=>t.m_config.idx===s.TRACE_MASTER_IDX,m_func_getLastPTS:()=>t.m_canvasList.length>0?t.m_canvasList[t.m_canvasList.length-1].getShowEnd():0,m_func_setPosition:e=>{t.m_func_isMaster()&&(window.GLOBAL_PTS=e),t.EventOnPlayTime&&t.EventOnPlayTime(e)},m_func_checkRenderGetCanvasIdx:()=>{for(let e=0;e<t.m_canvasList.length;e++){let i=t.m_canvasList[e].getShowStart(),r=t.m_canvasList[e].getShowEnd();if(window.GLOBAL_PTS,window.GLOBAL_PTS>=i&&window.GLOBAL_PTS<r)return t.m_showCanvasRendIdx=e,e}return t.m_showCanvasRendIdx=-1,-1},m_func_clickLocalCanvasIdx:()=>{let e=t.m_func_checkRenderGetCanvasIdx();e<0?t.EventSeeked&&t.EventSeeked():t.m_canvasList[e].seekToShowTime(window.GLOBAL_PTS)},m_func_getNodeByTagID:e=>{let i={nodeIdx:0,node:null};for(let r=0;r<t.m_canvasList.length;r++){let n=t.m_canvasList[r];if(n.getTargetID()===e){i.nodeIdx=r,i.node=n;break}}return i},m_func_localCanvasToActive:()=>{let e=-1;for(let i=0;i<t.m_canvasList.length;i++){if(e<0){let r=t.m_canvasList[i].getShowStart(),n=t.m_canvasList[i].getShowEnd();if(window.GLOBAL_PTS>=r&&window.GLOBAL_PTS<n){t.m_canvasList[i].targetID,t.m_canvasList,window.GLOBAL_PTS,e=i,!1===t.m_canvasList[i].getPlayState()&&(t.m_canvasList[i].targetID,t.m_canvasList[i].seekToShowTime(window.GLOBAL_PTS),t.m_canvasList[i].videoPlay());continue}}t.m_canvasList[i].videoPause()}return t.m_showCanvasRendIdx=e,e},m_func_CREATE_PUSH:(e,i=-1,r=-1,l=-1,u=!1,d=null,f=0,c=1)=>{const m=e.type,p=e.url,T="canvas-2d-render-"+t.m_maxTag;let g=function(e,t){return t<0?e:t},h=null,v=0,C=0;if(m===s.MATERIAL_TYPE_VIDEO)h=n({id:T,traceIdx:t.m_config.idx}),v=e.duration,C=g(e.duration,l);else if(m===s.MATERIAL_TYPE_IMAGE)h=a({id:T,traceIdx:t.m_config.idx}),v=s.MATERIAL_IMG_DEFAULT_DUR,C=g(s.MATERIAL_IMG_DEFAULT_SHOW_DUR,l);else if(m===s.MATERIAL_TYPE_AUDIO)h=o({id:T,traceIdx:t.m_config.idx}),v=e.audio_duration,C=g(e.audio_duration,l);else{if(m!==s.MATERIAL_TYPE_TEXT)return-1;h=_({id:T,insideContID:s.GL_CANVAS_CONT_ID,traceIdx:t.m_config.idx}),v=s.MATERIAL_IMG_DEFAULT_DUR,C=g(s.MATERIAL_IMG_DEFAULT_SHOW_DUR,l),h.setText("请输入,双击设置文字属性状态,再次双击取消并且进入编辑状态")}t.m_config.idx,h.bindPTR(t.m_ptr),null!=d&&h.bindExtra(d),h.setMaterial(e);let M=t.m_func_getLastPTS(),E={url:p,duration:v,splitStart:g(0,i),showStart:g(M,r),showDuration:C,uuid:e.uuid,old_tag_id:null===d?f:d.tag};h.Member_ProbeSuc=function(e){e.extra=d,e.isReload=u,e.volume=c,t.Events_ProbeSuc&&t.Events_ProbeSuc(e)},h.Member_Seeked=function(){t.EventSeeked&&t.EventSeeked()},h.Member_UpdateFont=function(){t.EventUpdateFont&&t.EventUpdateFont()},h.Member_OnPlaying=function(){t.m_playState=!0},h.Member_OnTextFocus=function(e){t.EventTextFocus&&t.EventTextFocus(e)},h.Member_OnTextBlur=function(e){t.EventTextBlur&&t.EventTextBlur(e)},t.m_func_PUSH(h),h.create(E)},m_func_allPause:()=>{for(let e=0;e<t.m_canvasList.length;e++)t.m_canvasList[e].videoPause();t.m_func_isMaster()&&(window.GLOBAL_PTS=t.m_func_getNowShowPTS()),t.m_playState=!1},m_func_allReset:()=>{for(let e=0;e<t.m_canvasList.length;e++)t.m_canvasList[e].videoReset()},m_func_onlyPushCanvasNodeToList:e=>{t.m_canvasList.push(e),e.getTargetID(),t.m_canvasList.length},m_func_resortByNewOrder:e=>{let i=[];if(t.m_canvasList,e.length<=0)for(let e=0;e<t.m_canvasList.length;e++)t.m_canvasList[e].getNodeType()===s.NODE_TYPE_TEXT&&t.m_canvasList[e].removeFont();else for(let r=0;r<e.length;r++){const n=e[r],a=n.uniqueId;n.uuid;let o=t.m_func_getNodeByTagID(a);if(null===o||void 0===o.node||null===o.node)return-1;{let e=o.node;e.setShowStart(n.show_start),e.videoSplit(n.split_start,n.show_duration),i.push(e)}}return t.m_canvasList.length=0,t.m_canvasList=i,t.m_func_allReset(),0},m_func_findMoveTargetSwapPos:(e,i)=>{const r=t.m_canvasList.length;if(0===i||0===e&&i<0||e===r-1&&i>0)return null;const n=t.m_canvasList[e].getShowStart()+i;if(i>0)for(let i=e+1;i<r;i++){const e=t.m_canvasList[i],r=t.m_canvasList[i+1];if(e.getShowStart(),n>e.getShowStart()){if(null==r)return[i,null];if(r.getShowStart()>n)return[i,i+1]}}else for(let i=e-1;i>=0;i--){const e=t.m_canvasList[i-1];if(t.m_canvasList[i].getShowStart()>n){if(null==e)return[null,i];if(e.getShowStart()<n)return[i-1,i]}}return null},m_func_canvasMoveWithIdx:(e,i)=>{if(t.m_func_isMaster()){const n=t.m_func_findMoveTargetSwapPos(e,i);if(null===n)return-1;let a=t.m_canvasList.length,o=[],_=[],s=e;s=null===n[0]?n[1]:null===n[1]||i>0?n[0]:n[0]+1;let l=0;for(let i=0;i<a;i++)l===e&&l++,i===s?(o.push(t.m_canvasList[e]),_.push(e)):(o.push(t.m_canvasList[l]),_.push(l),l++);t.m_canvasList.length=0,t.m_canvasList=o;let u=0;for(let e=0;e<a;e++)t.m_canvasList[e].setShowStart(u),u+=t.m_canvasList[e].getShowDuration(),r.AVMaker_setRenderNodeShowTime(t.m_ptr,t.m_canvasList[e].targetID,t.m_canvasList[e].getShowStart(),t.m_canvasList[e].getShowDuration())}else{const n=Math.max(0,t.m_canvasList[e].getShowStart()+i);t.m_canvasList[e].setShowStart(n),t.m_canvasList[e].getShowStart(),r.AVMaker_setRenderNodeShowTime(t.m_ptr,t.m_canvasList[e].targetID,t.m_canvasList[e].getShowStart(),t.m_canvasList[e].getShowDuration())}return 0},m_func_rmFirstNode:()=>{let e=t.m_canvasList[0].getShowStart(),i=t.m_canvasList[0].targetID;if(t.m_config.idx,t.m_canvasList[0].getNodeType()===s.NODE_TYPE_TEXT&&t.m_canvasList[0].removeFont(),t.m_canvasList=t.m_canvasList.filter((function(t){return t.getShowStart()!=e})),t.m_func_isMaster()){const e=t.m_canvasList.length;let i=0;for(let n=0;n<e;n++)t.m_canvasList[n].setShowStart(i),i+=t.m_canvasList[n].getShowDuration(),r.AVMaker_setRenderNodeShowTime(t.m_ptr,t.m_canvasList[n].targetID,t.m_canvasList[n].getShowStart(),t.m_canvasList[n].getShowDuration())}i>0&&r.AVMaker_removeRenderNode(t.m_ptr,i)},m_func_rmNodeByIdx:e=>{let i=t.m_canvasList[e].getShowStart(),n=t.m_canvasList[e].targetID;if(t.m_canvasList[e].getNodeType()===s.NODE_TYPE_TEXT&&t.m_canvasList[e].removeFont(),t.m_canvasList=t.m_canvasList.filter((function(e){return e.getShowStart()!=i})),t.m_func_isMaster()){const e=t.m_canvasList.length;let i=0;for(let n=0;n<e;n++)t.m_canvasList[n].setShowStart(i),i+=t.m_canvasList[n].getShowDuration(),r.AVMaker_setRenderNodeShowTime(t.m_ptr,t.m_canvasList[n].targetID,t.m_canvasList[n].getShowStart(),t.m_canvasList[n].getShowDuration())}n>0&&r.AVMaker_removeRenderNode(t.m_ptr,n)},m_func_rmNodeByTagID:e=>{let i=t.m_func_getNodeByTagID(e);if(i.getNodeType()===s.NODE_TYPE_TEXT&&i.removeFont(),t.m_canvasList=t.m_canvasList.filter((function(t){return t.getTargetID()!==e})),t.m_func_isMaster()){const e=t.m_canvasList.length;let i=0;for(let n=0;n<e;n++)t.m_canvasList[n].setShowStart(i),i+=t.m_canvasList[n].getShowDuration(),r.AVMaker_setRenderNodeShowTime(t.m_ptr,t.m_canvasList[n].targetID,t.m_canvasList[n].getShowStart(),t.m_canvasList[n].getShowDuration())}e>0&&r.AVMaker_removeRenderNode(t.m_ptr,e)},m_func_rmSoftNodeByIdx:e=>{let i=t.m_canvasList[e].getShowStart();t.m_canvasList[e].targetID;if(t.m_canvasList=t.m_canvasList.filter((function(e){return e.getShowStart()!=i})),t.m_func_isMaster()){const e=t.m_canvasList.length;let i=0;for(let n=0;n<e;n++)t.m_canvasList[n].setShowStart(i),i+=t.m_canvasList[n].getShowDuration(),r.AVMaker_setRenderNodeShowTime(t.m_ptr,t.m_canvasList[n].targetID,t.m_canvasList[n].getShowStart(),t.m_canvasList[n].getShowDuration())}},m_func_rmSoftNodeByTag:e=>{if(t.m_canvasList=t.m_canvasList.filter((function(t){return t.getTargetID()!==e})),t.m_func_isMaster()){const e=t.m_canvasList.length;let i=0;for(let n=0;n<e;n++)t.m_canvasList[n].setShowStart(i),i+=t.m_canvasList[n].getShowDuration(),r.AVMaker_setRenderNodeShowTime(t.m_ptr,t.m_canvasList[n].targetID,t.m_canvasList[n].getShowStart(),t.m_canvasList[n].getShowDuration())}},m_func_canvasSplitWithIdx:(e,i,n)=>{t.m_canvasList[e].videoSplitObvious(i,n,t.m_func_isMaster()),r.AVMaker_setRenderNodeShowTime(t.m_ptr,t.m_canvasList[e].targetID,t.m_canvasList[e].getShowStart(),t.m_canvasList[e].getShowDuration());let a=t.m_canvasList[e].getShowEnd();for(let i=e+1;i<t.m_canvasList.length&&t.m_canvasList[i].getShowStart()!==a;i++)t.m_canvasList[i].setShowStart(a),a=t.m_canvasList[i].getShowEnd(),r.AVMaker_setRenderNodeShowTime(t.m_ptr,t.m_canvasList[i].targetID,t.m_canvasList[i].getShowStart(),t.m_canvasList[i].getShowDuration());t.m_func_renderFrame(null,!0)},m_func_getNowShowPTS:()=>{if(!0===t.m_func_isMaster()){if(void 0===t.m_canvasList[t.m_showCanvasRendIdx]||null===t.m_canvasList[t.m_showCanvasRendIdx])return 0;let e=t.m_canvasList[t.m_showCanvasRendIdx].getShowStart()+t.m_canvasList[t.m_showCanvasRendIdx].getPTS();return t.EventOnPlayTime&&t.EventOnPlayTime(e),e}return window.GLOBAL_PTS},m_func_clearFonts:()=>{for(let e=0;e<t.m_canvasList.length;e++)t.m_canvasList[e].getNodeType()===s.NODE_TYPE_TEXT&&t.m_canvasList[e].removeFont()},m_func_removeAll:()=>{t.m_func_clearFonts();const e=t.m_canvasList.length;for(let i=0;i<e;i++)t.m_func_rmFirstNode()},m_func_reloadTrace:e=>{for(let i=0;i<e.length;i++){const r=e[i];r.volume,t.m_func_CREATE_PUSH(r.material,r.split_start,r.show_start,r.show_duration,true,r.extra,0,r.volume)}},m_func_crop:(e,i,n,a,o)=>r.AVMaker_render_set_tag_GL_Crop(t.m_ptr,e,i,n,a,o),m_func_renderFrame:(e=null,i=!1)=>{const n=t.m_func_isMaster();if(t.m_func_clearFonts(),!n){if(t.m_func_checkRenderGetCanvasIdx()<0)return window.GLOBAL_PTS,t.m_config.idx,t.m_playState,t.m_func_checkRenderGetCanvasIdx(),t.m_func_allPause(),2;t.m_playState,t.m_canvasList[t.m_showCanvasRendIdx].getPlayState(),i||t.m_playState&&(!t.m_playState||!1!==t.m_canvasList[t.m_showCanvasRendIdx].getPlayState())||t.m_canvasList[t.m_showCanvasRendIdx].videoPlay()}t.m_showCanvasRendIdx<0&&t.m_func_checkRenderGetCanvasIdx();const a=t.m_showCanvasRendIdx,o=t.m_func_getLastPTS()-s.ONE_FRAME_DURATION;if(t.m_canvasList,a<0)return n&&r.AVMaker_renderClear(t.m_ptr),1;if(window.GLOBAL_PTS>o)return t.m_func_allPause(),1;const _=t.m_canvasList[a].getTargetID(),l=t.m_canvasList[a].getNodeType(),u=t.m_canvasList[a].getShowDuration(),d=(t.m_canvasList[a].getShowStart(),t.m_canvasList[a].getShowEnd());s.ONE_FRAME_DURATION;window.GLOBAL_PTS,t.m_canvasList[a].getPTS(),t.m_func_getNowShowPTS(),t.m_canvasList[a].getPlayState(),t.m_canvasList[a].getRealPTS(),t.m_canvasList[a].getDuration(),n&&(r.AVMaker_renderClear(t.m_ptr),window.GLOBAL_PTS=t.m_func_getNowShowPTS());const f=d,c=u,m=t.m_canvasList[a].getPTS();if(window.GLOBAL_PTS>=f||t.m_canvasList[a].getPTS()>=c)return n&&(window.GLOBAL_PTS=d),a===t.m_canvasList.length-1?(t.m_func_allPause(),1):(t.m_func_allPause(),t.m_func_localCanvasToActive(),l===s.NODE_TYPE_TEXT&&t.m_canvasList[a].removeFont(),0);if(l===s.NODE_TYPE_AUDIO)return 0;if(l===s.NODE_TYPE_TEXT)return t.m_canvasList[a].showFont(),0;let p=t.m_canvasList[a].getFrame(),T=new Uint8Array(p),g=1,h=0,v=0,C=0;if(null!=e)for(let t=0;t<e.length;t++){let i=e[t];if(void 0!==i.tag&&null!==i.tag&&i.tag>0&&i.tag===_){void 0!==i.scale&&null!==i.scale&&(g=i.scale),void 0!==i.mvX&&null!==i.mvX&&(h=i.mvX),void 0!==i.mvY&&null!==i.mvY&&(v=i.mvY),void 0!==i.mvAngle&&null!==i.mvAngle&&(C=i.mvAngle);break}}let M=0;return 0===t.m_config.idx&&(M=1),r.AVMaker_renderByPIPTag(t.m_ptr,M,_,m,T,t.m_canvasList[a].width,t.m_canvasList[a].height,g,h,v,C),T=null,0}};return t}},{"../Common/define":4,"../Common/util-tools":6,"../Interface/interface-avmaker":17,"./base-audio":8,"./base-canvas":10,"./base-imgcanvas":11,"./base-text":12}],16:[function(e,t,i){const r=e("../../libcpp/lib-numberwolf-xiaolaohu-avmaker.js"),n=e("../Common/define");function a(e,t){let i="";for(let n=0;n<t;n++)i+=String.fromCharCode(r.HEAPU8[e+n]);return i}function o(e){return r.cwrap("RenderNode_GetCtxW","number",["number"])(e)}function _(e){return r.cwrap("RenderNode_GetCtxH","number",["number"])(e)}function s(e,t){return r.cwrap("RenderNode_Dump_Level","number",["number","number"])(e,t)}function l(e,t){return r.cwrap("RenderNode_Dump_TagOffset","number",["number","number"])(e,t)}function u(e,t){return r.cwrap("RenderNode_Dump_Tag","number",["number","number"])(e,t)}function d(e,t,i){return r.cwrap("RenderNode_Dump_ShaderNameLengthByIdx","number",["number","number","number"])(e,t,i)}function f(e,t,i){return r.cwrap("RenderNode_Dump_ShaderNameByIdx","number",["number","number","number"])(e,t,i)}function c(e,t){return r.cwrap("RenderNode_Dump_NodeType","number",["number","number"])(e,t)}function m(e,t){return 1*r.cwrap("RenderNode_Dump_MediaInfo_AngleW","number",["number","number"])(e,t)}function p(e,t){return 1*r.cwrap("RenderNode_Dump_MediaInfo_AngleH","number",["number","number"])(e,t)}function T(e,t){return 1*r.cwrap("RenderNode_Dump_MediaInfo_AspectW","number",["number","number"])(e,t)}function g(e,t){return 1*r.cwrap("RenderNode_Dump_MediaInfo_AspectH","number",["number","number"])(e,t)}function h(e,t){return 1*r.cwrap("RenderNode_Dump_GL_Scale","number",["number","number"])(e,t)}function v(e,t){return 1*r.cwrap("RenderNode_Dump_GL_X","number",["number","number"])(e,t)}function C(e,t){return 1*r.cwrap("RenderNode_Dump_GL_Y","number",["number","number"])(e,t)}function M(e,t){return 1*r.cwrap("RenderNode_Dump_GL_Angle","number",["number","number"])(e,t)}function E(e,t){return 1*r.cwrap("RenderNode_Dump_GL_HoriMirror","number",["number","number"])(e,t)}function S(e,t){return 1*r.cwrap("RenderNode_Dump_GL_VertMirror","number",["number","number"])(e,t)}function w(e,t){return 1*r.cwrap("RenderNode_Dump_GL_CoreX","number",["number","number"])(e,t)}function y(e,t){return 1*r.cwrap("RenderNode_Dump_GL_CoreY","number",["number","number"])(e,t)}function R(e,t){return 1*r.cwrap("RenderNode_Dump_GL_CoreW","number",["number","number"])(e,t)}function b(e,t){return 1*r.cwrap("RenderNode_Dump_GL_CoreH","number",["number","number"])(e,t)}t.exports={AVMaker_graphCreateBindCanvas:function(e){let t=document.querySelector("#"+e);if(null==t||null===t||!t)return!1;let i=t.width,n=t.height;r.canvas=t;let a=r.cwrap("graph_create","number",["string","number","number","number"])(e,e.length,i,n);return r.cwrap("vbo_setup","number",["number"])(a),a},AVMaker_bindMasterTex:function(e,t){return r.cwrap("init_master_trace","number",["number","string","number"])(e,t,t.length)},AVMaker_bindMasterLut:function(e,t){return r.cwrap("init_master_lut","number",["number","string","number"])(e,t,t.length)},AVMaker_renderPrepareLUT:function(e,t,i,n){let a=r._malloc(t.length);return r.HEAP8.set(t,a),r.cwrap("render_prepare_lut","number",["number","number","number","number"])(e,a,i,n),r._free(a),a=null,!0},AVMaker_createNewRenderNode:function(e,t,i,n,a,o){return r.cwrap("create_new_render_node","number",["number","number","number","number","number","number"])(e,t,i,n,a,o)},AVMaker_createNewAudioNode:function(e,t,i,n){return r.cwrap("create_new_audio_node","number",["number","number","number","number"])(e,t,i,n)},AVMaker_createNewTextNode:function(e,t,i,n){return r.cwrap("create_new_text_node","number",["number","number","number","number"])(e,t,i,n)},AVMaker_removeRenderNode:function(e,t){return r.cwrap("remove_render_node","number",["number","number"])(e,t)},AVMaker_setRenderNodeShowTime:function(e,t,i,n){return r.cwrap("set_render_node_showTime","number",["number","number","number","number"])(e,t,i,n)},AVMaker_updateRenderNodeTagParam:function(e,t,i,n){return r.cwrap("update_node_tag_param","number",["number","number","number","number"])(e,t,i,n)},AVMaker_uniformSetup:function(e){return r.cwrap("uniform_setup","number",["number"])(e),!0},AVMaker_updateShader:function(e){return r.cwrap("update_shader","number",["number"])(e)},AVMaker_removeTex:function(e,t){return r.cwrap("render_removeTex","number",["number","number"])(e,t)},AVMaker_renderClear:function(e){return r.cwrap("render_clear","number",["number"])(e)},AVMaker_render:function(e,t){return r.cwrap("render","number",["number","number"])(e,t)},AVMaker_renderByPIPTag:function(e,t,i,n,a,o,_,s,l,u,d){let f=r._malloc(a.length);r.HEAP8.set(a,f);let c=r.cwrap("render_by_pipTag","number",["number","number","number","number","number","number","number","number","number","number"])(e,t,i,n,f,o,_,s,l,u,d);return r._free(f),f=null,c},AVMaker_findClickLayer:function(e,t,i,n=-1){return r.cwrap("find_click_layer","number",["number","number","number","number"])(e,t,i,n)},AVMaker_getPosSize4CanvasByTag:function(e,t){let i=r.cwrap("getPosSizeInfo4CanvasByTag","number",["number","number"])(e,t);return[r.HEAPF32[i/4],r.HEAPF32[i/4+1],r.HEAPF32[i/4+2],r.HEAPF32[i/4+3]]},AVMaker_getPosCropInfo4Canvas:function(e,t){let i=r.cwrap("getPosCropInfo4Canvas","number",["number","number"])(e,t);return[r.HEAPF32[i/4],r.HEAPF32[i/4+1],r.HEAPF32[i/4+2],r.HEAPF32[i/4+3]]},AVMaker_addShaderToRenderNode:function(e,t,i){return r.cwrap("add_shader_to_node","number",["number","number","string"])(e,t,i)},AVMaker_rmShaderToRenderNode:function(e,t,i){return r.cwrap("rm_shader_to_node","number",["number","number","string"])(e,t,i)},AVMaker_clearShaderToRenderNode:function(e,t){return r.cwrap("clear_shader_to_node","number",["number","number"])(e,t)},AVMaker_render_set_tag_GL_MvXY:function(e,t,i,n){return r.cwrap("render_set_tag_GL_MvXY","number",["number","number","number","number"])(e,t,i,n)},AVMaker_render_set_tag_GL_angle:function(e,t,i){return r.cwrap("render_set_tag_GL_angle","number",["number","number","number"])(e,t,i)},AVMaker_render_set_tag_GL_scale:function(e,t,i){return r.cwrap("render_set_tag_GL_scale","number",["number","number","number"])(e,t,i)},AVMaker_render_set_tag_GL_MvHoriMirror:function(e,t,i){return r.cwrap("render_set_tag_GL_MvHoriMirror","number",["number","number","number"])(e,t,i)},AVMaker_render_set_tag_GL_MvVertMirror:function(e,t,i){return r.cwrap("render_set_tag_GL_MvVertMirror","number",["number","number","number"])(e,t,i)},AVMaker_render_reset_tag_GL_HoriMirror:function(e,t){return r.cwrap("render_reset_tag_GL_HoriMirror","number",["number","number"])(e,t)},AVMaker_render_reset_tag_GL_VertMirror:function(e,t){return r.cwrap("render_reset_tag_GL_VertMirror","number",["number","number"])(e,t)},AVMaker_render_set_tag_GL_Crop:function(e,t,i,n,a,o){return r.cwrap("render_set_tag_GL_Crop","number",["number","number","number","number","number","number"])(e,t,i,n,a,o)},AVMaker_render_update_inside_by_canvas_size_and_angle:function(e,t){return r.cwrap("render_update_inside_by_canvas_size_and_angle","number",["number","number"])(e,t)},AVMaker_transCanvasMvX_2_GlMvX:function(e){return r.cwrap("transCanvasMvX_2_GlMvX","number",["number"])(e)},AVMaker_transCanvasMvY_2_GlMvY:function(e){return r.cwrap("transCanvasMvY_2_GlMvY","number",["number"])(e)},AVMaker_RenderNode_GetCtxW:o,AVMaker_RenderNode_GetCtxH:_,AVMaker_RenderNode_Dump_Level:s,AVMaker_RenderNode_Dump_TagOffset:l,AVMaker_RenderNode_Dump_Tag:u,AVMaker_RenderNode_Dump_NodeType:c,AVMaker_RenderNode_Dump_MediaInfo_AngleW:m,AVMaker_RenderNode_Dump_MediaInfo_AngleH:p,AVMaker_RenderNode_Dump_MediaInfo_AspectW:T,AVMaker_RenderNode_Dump_MediaInfo_AspectH:g,AVMaker_RenderNode_Dump_GL_Scale:h,AVMaker_RenderNode_Dump_GL_X:v,AVMaker_RenderNode_Dump_GL_Y:C,AVMaker_RenderNode_Dump_GL_Angle:M,AVMaker_RenderNode_Dump_ShaderNameLengthByIdx:d,AVMaker_RenderNode_Dump_ShaderNameByIdx:f,AVMaker_RenderNode_Dump_GL_HoriMirror:E,AVMaker_RenderNode_Dump_GL_VertMirror:S,AVMaker_RenderNode_Dump_GL_CoreX:w,AVMaker_RenderNode_Dump_GL_CoreY:y,AVMaker_RenderNode_Dump_GL_CoreW:R,AVMaker_RenderNode_Dump_GL_CoreH:b,AVMaker_GetNodeDumpWasmParam:function(e,t){let i={ctx_w:-1,ctx_h:-1,level:-1,tag_offset:-1,tag:-1,shaders:[],node_type:-1,angle_w:-1,angle_h:-1,aspect_w:-1,aspect_h:-1,scale:-1,gl_x:-1,gl_y:-1,angle:-1,hori_mirror:1,vert_mirror:1,crop_x:0,crop_y:0,crop_w:1,crop_h:1,extraText:{fontTop:0,fontLeft:0,fontText:"",fontSize:15,fontAlignEnum:n.TEXT_ALIGN_LEFT_ENUM,fontColor:"#FFFFFF",fontRectHeight:15}};i.ctx_w=o(e),i.ctx_h=_(e),i.level=s(e,t),i.tag_offset=l(e,t),i.tag=u(e,t);const A=function(e,t){return r.cwrap("RenderNode_Dump_ShaderCount","number",["number","number"])(e,t)}(e,t);for(let r=0;r<A;r++){const n=d(e,t,r);if(n>0){const o=f(e,t,r);if(!o)throw new Error("shaderItemNamePtr ptr is not a Number!");i.shaders.push(a(o,n))}}return i.node_type=c(e,t),i.angle_w=m(e,t),i.angle_h=p(e,t),i.aspect_w=T(e,t),i.aspect_h=g(e,t),i.scale=h(e,t),i.gl_x=v(e,t),i.gl_y=C(e,t),i.angle=M(e,t),i.hori_mirror=E(e,t),i.vert_mirror=S(e,t),i.crop_x=w(e,t),i.crop_y=y(e,t),i.crop_w=R(e,t),i.crop_h=b(e,t),i}}},{"../../libcpp/lib-numberwolf-xiaolaohu-avmaker.js":19,"../Common/define":4}],17:[function(e,t,i){const r=e("./interface-avmaker-render");var n={Member_ProbeSuc:null,Member_SplitPlayFin:null,Member_RenderFrame:null};function a(e,t,i,r,a,o,_,s,l){const u=Module.HEAPU8.subarray(l,l+10);let d="";for(let e=0;e<u.length;e++){d+=String.fromCharCode(u[e])}let f={duration:e,width:t,height:i,fps:r,audioIdx:a,sample_rate:o,channels:_,vcodec_name_id:s,sample_fmt:d};n.Member_ProbeSuc&&n.Member_ProbeSuc(f)}function o(e,t,i,r,n,a,o){let _=Module.HEAPU8.subarray(e,e+t),s=new Uint8Array(_);u(s,a,o),s=null,Module._free(_),_=null}function _(e,t,i,r,a){return n.Member_RenderFrame&&n.Member_RenderFrame(e,t,i,r,a),!0}function s(e,t,i,r){return!0}function l(e,t,i,r,n){return!0}function u(e,t,i){let r=Module._malloc(e.length);Module.HEAP8.set(e,r);let a=1e3*t,o=1e3*i,_=Module.cwrap("decoder_media_frame","number",["number","number","number","number"])(r,e.length,a,o);return Module._free(r),r=null,405===_&&n.Member_SplitPlayFin&&n.Member_SplitPlayFin(),!0}t.exports={AVMaker_graphCreateBindCanvas:r.AVMaker_graphCreateBindCanvas,AVMaker_bindMasterTex:r.AVMaker_bindMasterTex,AVMaker_bindMasterLut:r.AVMaker_bindMasterLut,AVMaker_createNewRenderNode:r.AVMaker_createNewRenderNode,AVMaker_createNewAudioNode:r.AVMaker_createNewAudioNode,AVMaker_createNewTextNode:r.AVMaker_createNewTextNode,AVMaker_removeRenderNode:r.AVMaker_removeRenderNode,AVMaker_setRenderNodeShowTime:r.AVMaker_setRenderNodeShowTime,AVMaker_uniformSetup:r.AVMaker_uniformSetup,AVMaker_updateShader:r.AVMaker_updateShader,AVMaker_removeTex:r.AVMaker_removeTex,AVMaker_renderClear:r.AVMaker_renderClear,AVMaker_render:r.AVMaker_render,AVMaker_renderPrepareLUT:r.AVMaker_renderPrepareLUT,AVMaker_renderByPIPTag:r.AVMaker_renderByPIPTag,AVMaker_findClickLayer:r.AVMaker_findClickLayer,AVMaker_getPosSize4CanvasByTag:r.AVMaker_getPosSize4CanvasByTag,AVMaker_getPosCropInfo4Canvas:r.AVMaker_getPosCropInfo4Canvas,AVMaker_addShaderToRenderNode:r.AVMaker_addShaderToRenderNode,AVMaker_rmShaderToRenderNode:r.AVMaker_rmShaderToRenderNode,AVMaker_clearShaderToRenderNode:r.AVMaker_clearShaderToRenderNode,AVMaker_updateRenderNodeTagParam:r.AVMaker_updateRenderNodeTagParam,AVMaker_render_set_tag_GL_MvXY:r.AVMaker_render_set_tag_GL_MvXY,AVMaker_render_set_tag_GL_angle:r.AVMaker_render_set_tag_GL_angle,AVMaker_render_set_tag_GL_scale:r.AVMaker_render_set_tag_GL_scale,AVMaker_render_set_tag_GL_MvHoriMirror:r.AVMaker_render_set_tag_GL_MvHoriMirror,AVMaker_render_set_tag_GL_MvVertMirror:r.AVMaker_render_set_tag_GL_MvVertMirror,AVMaker_render_reset_tag_GL_HoriMirror:r.AVMaker_render_reset_tag_GL_HoriMirror,AVMaker_render_reset_tag_GL_VertMirror:r.AVMaker_render_reset_tag_GL_VertMirror,AVMaker_render_set_tag_GL_Crop:r.AVMaker_render_set_tag_GL_Crop,AVMaker_render_update_inside_by_canvas_size_and_angle:r.AVMaker_render_update_inside_by_canvas_size_and_angle,AVMaker_transCanvasMvX_2_GlMvX:r.AVMaker_transCanvasMvX_2_GlMvX,AVMaker_transCanvasMvY_2_GlMvY:r.AVMaker_transCanvasMvY_2_GlMvY,AVMaker_RenderNode_GetCtxW:r.AVMaker_RenderNode_GetCtxW,AVMaker_RenderNode_GetCtxH:r.AVMaker_RenderNode_GetCtxH,AVMaker_RenderNode_Dump_Level:r.AVMaker_RenderNode_Dump_Level,AVMaker_RenderNode_Dump_TagOffset:r.AVMaker_RenderNode_Dump_TagOffset,AVMaker_RenderNode_Dump_Tag:r.AVMaker_RenderNode_Dump_Tag,AVMaker_RenderNode_Dump_NodeType:r.AVMaker_RenderNode_Dump_NodeType,AVMaker_RenderNode_Dump_MediaInfo_AngleW:r.AVMaker_RenderNode_Dump_MediaInfo_AngleW,AVMaker_RenderNode_Dump_MediaInfo_AngleH:r.AVMaker_RenderNode_Dump_MediaInfo_AngleH,AVMaker_RenderNode_Dump_MediaInfo_AspectW:r.AVMaker_RenderNode_Dump_MediaInfo_AspectW,AVMaker_RenderNode_Dump_MediaInfo_AspectH:r.AVMaker_RenderNode_Dump_MediaInfo_AspectH,AVMaker_RenderNode_Dump_GL_Scale:r.AVMaker_RenderNode_Dump_GL_Scale,AVMaker_RenderNode_Dump_GL_X:r.AVMaker_RenderNode_Dump_GL_X,AVMaker_RenderNode_Dump_GL_Y:r.AVMaker_RenderNode_Dump_GL_Y,AVMaker_RenderNode_Dump_GL_Angle:r.AVMaker_RenderNode_Dump_GL_Angle,AVMaker_RenderNode_Dump_ShaderNameLengthByIdx:r.AVMaker_RenderNode_Dump_ShaderNameLengthByIdx,AVMaker_RenderNode_Dump_ShaderNameByIdx:r.AVMaker_RenderNode_Dump_ShaderNameByIdx,AVMaker_RenderNode_Dump_GL_HoriMirror:r.AVMaker_RenderNode_Dump_GL_HoriMirror,AVMaker_RenderNode_Dump_GL_VertMirror:r.AVMaker_RenderNode_Dump_GL_VertMirror,AVMaker_RenderNode_Dump_GL_CoreX:r.AVMaker_RenderNode_Dump_GL_CoreX,AVMaker_RenderNode_Dump_GL_CoreY:r.AVMaker_RenderNode_Dump_GL_CoreY,AVMaker_RenderNode_Dump_GL_CoreW:r.AVMaker_RenderNode_Dump_GL_CoreW,AVMaker_RenderNode_Dump_GL_CoreH:r.AVMaker_RenderNode_Dump_GL_CoreH,AVMaker_GetNodeDumpWasmParam:r.AVMaker_GetNodeDumpWasmParam,AVMedia_createMediaProc:function(e){let t=Module.addFunction(a),i=Module.addFunction(_),r=Module.addFunction(o),u=Module.addFunction(s),d=Module.addFunction(l);n.Member_ProbeSuc=e.Member_ProbeSuc,n.Member_SplitPlayFin=e.Member_SplitPlayFin,n.Member_RenderFrame=e.Member_RenderFrame;let f=Module.cwrap("create_media_processor","number",["number","number","number","number","number","number"])(t,i,r,u,d);return f},AVMedia_pushBuffer:function(e,t){let i=Module._malloc(e.length);Module.HEAP8.set(e,i),e.length;const r=t/10;let n=Module.cwrap("send_media_data","number",["number","number","number","number"])(i,e.length,r,t);return Module._free(i),i=null,n},AVMedia_readPacket:function(){let e=Module.cwrap("read_media_pkg","number",[])();return e},AVMedia_decodeFrame:u,AVMedia_splitFrame:function(e,t){let i=Module.cwrap("split_media","number",["number","number"])(e,t);return i}}},{"./interface-avmaker-render":16}],18:[function(e,t,i){t.exports={SHADER_NAME_DEFAULT:"default",SHADER_NAME_LUT:"lut",SHADER_NAME_GRAY:"gray",SHADER_NAME_MIRROR_HORI:"mirrorhori",SHADER_NAME_MIRROR_VERT:"mirrorvert",SHADER_NAME_DEFAULT_NAME:"默认",SHADER_NAME_LUT_NAME:"lut",SHADER_NAME_GRAY_NAME:"灰度",SHADER_NAME_MIRROR_HORI_NAME:"水平镜像",SHADER_NAME_MIRROR_VERT_NAME:"垂直镜像",BOTTOM:null}},{}],19:[function(e,t,i){(function(i,r){var n,a=void 0!==a?a:{},o={};for(n in a)a.hasOwnProperty(n)&&(o[n]=a[n]);var _=[],s="./this.program",l=function(e,t){throw t},u=!1,d=!1,f=!1,c=!1;if(u="object"==typeof window,d="function"==typeof importScripts,f="object"==typeof i&&"object"==typeof i.versions&&"string"==typeof i.versions.node&&!u&&!d,c=!u&&!f&&!d,a.ENVIRONMENT)throw new Error("Module.ENVIRONMENT has been deprecated. To force the environment, use the ENVIRONMENT compile-time option (for example, -s ENVIRONMENT=web or -s ENVIRONMENT=node)");var m,p,T,g,h="";function v(e){return a.locateFile?a.locateFile(e,h):h+e}if(f)h=r+"/",m=function(t,i){var r;return T||(T=e("fs")),g||(g=e("path")),t=g.normalize(t),r=T.readFileSync(t),i?r:r.toString()},p=function(e){var t=m(e,!0);return t.buffer||(t=new Uint8Array(t)),N(t.buffer),t},i.argv.length>1&&(s=i.argv[1].replace(/\\/g,"/")),_=i.argv.slice(2),void 0!==t&&(t.exports=a),i.on("uncaughtException",(function(e){if(!(e instanceof vr))throw e})),i.on("unhandledRejection",Le),l=function(e){i.exit(e)},a.inspect=function(){return"[Emscripten Module object]"};else if(c)"undefined"!=typeof read&&(m=function(e){return read(e)}),p=function(e){var t;return"function"==typeof readbuffer?new Uint8Array(readbuffer(e)):(N("object"==typeof(t=read(e,"binary"))),t)},"undefined"!=typeof scriptArgs?_=scriptArgs:void 0!==arguments&&(_=arguments),"function"==typeof quit&&(l=function(e){quit(e)}),"undefined"!=typeof print&&("undefined"==typeof console&&(console={}),console.log=print,console.warn=console.error="undefined"!=typeof printErr?printErr:print);else{if(!u&&!d)throw new Error("environment detection error");d?h=self.location.href:document.currentScript&&(h=document.currentScript.src),h=0!==h.indexOf("blob:")?h.substr(0,h.lastIndexOf("/")+1):"",m=function(e){var t=new XMLHttpRequest;return t.open("GET",e,!1),t.send(null),t.responseText},d&&(p=function(e){var t=new XMLHttpRequest;return t.open("GET",e,!1),t.responseType="arraybuffer",t.send(null),new Uint8Array(t.response)}),function(e,t,i){var r=new XMLHttpRequest;r.open("GET",e,!0),r.responseType="arraybuffer",r.onload=function(){200==r.status||0==r.status&&r.response?t(r.response):i()},r.onerror=i,r.send(null)},function(e){document.title=e}}var C=a.print||console.log.bind(console),M=a.printErr||console.warn.bind(console);for(n in o)o.hasOwnProperty(n)&&(a[n]=o[n]);function E(e){E.shown||(E.shown={}),E.shown[e]||(E.shown[e]=1,M(e))}o=null,a.arguments&&(_=a.arguments),Object.getOwnPropertyDescriptor(a,"arguments")||Object.defineProperty(a,"arguments",{configurable:!0,get:function(){Le("Module.arguments has been replaced with plain arguments_")}}),a.thisProgram&&(s=a.thisProgram),Object.getOwnPropertyDescriptor(a,"thisProgram")||Object.defineProperty(a,"thisProgram",{configurable:!0,get:function(){Le("Module.thisProgram has been replaced with plain thisProgram")}}),a.quit&&(l=a.quit),Object.getOwnPropertyDescriptor(a,"quit")||Object.defineProperty(a,"quit",{configurable:!0,get:function(){Le("Module.quit has been replaced with plain quit_")}}),N(void 0===a.memoryInitializerPrefixURL,"Module.memoryInitializerPrefixURL option was removed, use Module.locateFile instead"),N(void 0===a.pthreadMainPrefixURL,"Module.pthreadMainPrefixURL option was removed, use Module.locateFile instead"),N(void 0===a.cdInitializerPrefixURL,"Module.cdInitializerPrefixURL option was removed, use Module.locateFile instead"),N(void 0===a.filePackagePrefixURL,"Module.filePackagePrefixURL option was removed, use Module.locateFile instead"),N(void 0===a.read,"Module.read option was removed (modify read_ in JS)"),N(void 0===a.readAsync,"Module.readAsync option was removed (modify readAsync in JS)"),N(void 0===a.readBinary,"Module.readBinary option was removed (modify readBinary in JS)"),N(void 0===a.setWindowTitle,"Module.setWindowTitle option was removed (modify setWindowTitle in JS)"),Object.getOwnPropertyDescriptor(a,"read")||Object.defineProperty(a,"read",{configurable:!0,get:function(){Le("Module.read has been replaced with plain read_")}}),Object.getOwnPropertyDescriptor(a,"readAsync")||Object.defineProperty(a,"readAsync",{configurable:!0,get:function(){Le("Module.readAsync has been replaced with plain readAsync")}}),Object.getOwnPropertyDescriptor(a,"readBinary")||Object.defineProperty(a,"readBinary",{configurable:!0,get:function(){Le("Module.readBinary has been replaced with plain readBinary")}}),hr=gr=Tr=function(){Le("cannot use the stack before compiled code is ready to run, and has provided stack access")};var S={"f64-rem":function(e,t){return e%t},debugger:function(){}},w=1,y=new Array(35);function R(e,t){N(void 0!==e);for(var i=0;i<35;i++)if(!y[i])return y[i]=e,w+i;throw"Finished up all reserved function pointers. Use a higher value for RESERVED_FUNCTION_POINTERS."}var b,A,x,O=0,I=function(){return O};a.wasmBinary&&(b=a.wasmBinary),Object.getOwnPropertyDescriptor(a,"wasmBinary")||Object.defineProperty(a,"wasmBinary",{configurable:!0,get:function(){Le("Module.wasmBinary has been replaced with plain wasmBinary")}}),a.noExitRuntime&&(A=a.noExitRuntime),Object.getOwnPropertyDescriptor(a,"noExitRuntime")||Object.defineProperty(a,"noExitRuntime",{configurable:!0,get:function(){Le("Module.noExitRuntime has been replaced with plain noExitRuntime")}}),"object"!=typeof WebAssembly&&Le("No WebAssembly support found. Build with -s WASM=0 to target JavaScript instead.");var D=new WebAssembly.Table({initial:1280,maximum:1280,element:"anyfunc"}),L=!1;function N(e,t){e||Le("Assertion failed: "+t)}function j(e){var t=a["_"+e];return N(t,"Cannot call unknown function "+e+", make sure it is exported"),t}function P(e,t,i,r,n){var a={string:function(e){var t=0;if(null!=e&&0!==e){var i=1+(e.length<<2);X(e,t=Tr(i),i)}return t},array:function(e){var t=Tr(e.length);return W(e,t),t}};var o=j(e),_=[],s=0;if(N("array"!==t,'Return type should not be "array".'),r)for(var l=0;l<r.length;l++){var u=a[i[l]];u?(0===s&&(s=hr()),_[l]=u(r[l])):_[l]=r[l]}var d=o.apply(null,_);return d=function(e){return"string"===t?G(e):"boolean"===t?Boolean(e):e}(d),0!==s&&gr(s),d}function k(e,t,i,r){return function(){return P(e,t,i,arguments)}}var V="undefined"!=typeof TextDecoder?new TextDecoder("utf8"):void 0;function F(e,t,i){for(var r=t+i,n=t;e[n]&&!(n>=r);)++n;if(n-t>16&&e.subarray&&V)return V.decode(e.subarray(t,n));for(var a="";t<n;){var o=e[t++];if(128&o){var _=63&e[t++];if(192!=(224&o)){var s=63&e[t++];if(224==(240&o)?o=(15&o)<<12|_<<6|s:(240!=(248&o)&&E("Invalid UTF-8 leading byte 0x"+o.toString(16)+" encountered when deserializing a UTF-8 string on the asm.js/wasm heap to a JS string!"),o=(7&o)<<18|_<<12|s<<6|63&e[t++]),o<65536)a+=String.fromCharCode(o);else{var l=o-65536;a+=String.fromCharCode(55296|l>>10,56320|1023&l)}}else a+=String.fromCharCode((31&o)<<6|_)}else a+=String.fromCharCode(o)}return a}function G(e,t){return e?F(Q,e,t):""}function U(e,t,i,r){if(!(r>0))return 0;for(var n=i,a=i+r-1,o=0;o<e.length;++o){var _=e.charCodeAt(o);if(_>=55296&&_<=57343)_=65536+((1023&_)<<10)|1023&e.charCodeAt(++o);if(_<=127){if(i>=a)break;t[i++]=_}else if(_<=2047){if(i+1>=a)break;t[i++]=192|_>>6,t[i++]=128|63&_}else if(_<=65535){if(i+2>=a)break;t[i++]=224|_>>12,t[i++]=128|_>>6&63,t[i++]=128|63&_}else{if(i+3>=a)break;_>=2097152&&E("Invalid Unicode code point 0x"+_.toString(16)+" encountered when serializing a JS string to an UTF-8 string on the asm.js/wasm heap! (Valid unicode code points should be in range 0-0x1FFFFF)."),t[i++]=240|_>>18,t[i++]=128|_>>12&63,t[i++]=128|_>>6&63,t[i++]=128|63&_}}return t[i]=0,i-n}function X(e,t,i){return N("number"==typeof i,"stringToUTF8(str, outPtr, maxBytesToWrite) is missing the third parameter that specifies the length of the output buffer!"),U(e,Q,t,i)}function H(e){for(var t=0,i=0;i<e.length;++i){var r=e.charCodeAt(i);r>=55296&&r<=57343&&(r=65536+((1023&r)<<10)|1023&e.charCodeAt(++i)),r<=127?++t:t+=r<=2047?2:r<=65535?3:4}return t}"undefined"!=typeof TextDecoder&&new TextDecoder("utf-16le");function B(e){var t=H(e)+1,i=Tr(t);return U(e,z,i,t),i}function W(e,t){N(e.length>=0,"writeArrayToMemory array must have a length (should be an array or typed array)"),z.set(e,t)}var Y,z,Q,q,K,J,Z,$=65536;function ee(e,t){return e%t>0&&(e+=t-e%t),e}function te(e){Y=e,a.HEAP8=z=new Int8Array(e),a.HEAP16=new Int16Array(e),a.HEAP32=K=new Int32Array(e),a.HEAPU8=Q=new Uint8Array(e),a.HEAPU16=q=new Uint16Array(e),a.HEAPU32=J=new Uint32Array(e),a.HEAPF32=Z=new Float32Array(e),a.HEAPF64=new Float64Array(e)}var ie=15520,re=5258400,ne=5258400,ae=15296;N(ie%16==0,"stack must start aligned"),N(ne%16==0,"heap must start aligned");var oe=5242880;a.TOTAL_STACK&&N(oe===a.TOTAL_STACK,"the stack size can no longer be determined at runtime");var _e=a.TOTAL_MEMORY||2147483648;function se(){N(0==(3&re)),J[(re>>2)-1]=34821223,J[(re>>2)-2]=2310721022,K[0]=1668509029}function le(){var e=J[(re>>2)-1],t=J[(re>>2)-2];34821223==e&&2310721022==t||Le("Stack overflow! Stack cookie has been overwritten, expected hex dwords 0x89BACDFE and 0x02135467, but received 0x"+t.toString(16)+" "+e.toString(16)),1668509029!==K[0]&&Le("Runtime error: The application has corrupted its heap memory area (address zero)!")}function ue(e){Le("Stack overflow! Attempted to allocate "+e+" bytes on the stack, but stack has only "+(re-hr()+e)+" bytes available!")}function de(e,t){var i="";for(var r in Si){var n=Si[r];n[e]&&(i+='as sig "'+r+'" pointing to function '+n[e]+", ")}Le("Invalid function pointer "+e+" called with signature '"+t+"'. Perhaps this is an invalid value (e.g. caused by calling a virtual method on a NULL pointer)? Or calling a function with an incorrect type, which will fail? (it is worth building your source files with -Werror (warnings are errors), as warnings can indicate undefined behavior which can cause this). This pointer might make sense in another type signature: "+i)}function fe(e){for(;e.length>0;){var t=e.shift();if("function"!=typeof t){var i=t.func;"number"==typeof i?void 0===t.arg?a.dynCall_v(i):a.dynCall_vi(i,t.arg):i(void 0===t.arg?null:t.arg)}else t()}}Object.getOwnPropertyDescriptor(a,"TOTAL_MEMORY")||Object.defineProperty(a,"TOTAL_MEMORY",{configurable:!0,get:function(){Le("Module.TOTAL_MEMORY has been replaced with plain INITIAL_TOTAL_MEMORY")}}),N(_e>=oe,"TOTAL_MEMORY should be larger than TOTAL_STACK, was "+_e+"! (TOTAL_STACK="+oe+")"),N("undefined"!=typeof Int32Array&&"undefined"!=typeof Float64Array&&void 0!==Int32Array.prototype.subarray&&void 0!==Int32Array.prototype.set,"JS engine does not provide full typed array support"),(x=a.wasmMemory?a.wasmMemory:new WebAssembly.Memory({initial:_e/$}))&&(Y=x.buffer),N((_e=Y.byteLength)%$==0),te(Y),K[ae>>2]=ne,function(){var e=new Int16Array(1),t=new Int8Array(e.buffer);if(e[0]=25459,115!==t[0]||99!==t[1])throw"Runtime error: expected the system to be little-endian!"}();var ce=[],me=[],pe=[],Te=[],ge=[],he=!1,ve=!1;function Ce(){if(a.preRun)for("function"==typeof a.preRun&&(a.preRun=[a.preRun]);a.preRun.length;)ye(a.preRun.shift());fe(ce)}function Me(){le(),N(!he),he=!0,fe(me)}function Ee(){le(),fe(pe)}function Se(){le(),ve=!0}function we(){if(le(),a.postRun)for("function"==typeof a.postRun&&(a.postRun=[a.postRun]);a.postRun.length;)Re(a.postRun.shift());fe(ge)}function ye(e){ce.unshift(e)}function Re(e){ge.unshift(e)}N(Math.imul,"This browser does not support Math.imul(), build with LEGACY_VM_SUPPORT or POLYFILL_OLD_MATH_FUNCTIONS to add in a polyfill"),N(Math.fround,"This browser does not support Math.fround(), build with LEGACY_VM_SUPPORT or POLYFILL_OLD_MATH_FUNCTIONS to add in a polyfill"),N(Math.clz32,"This browser does not support Math.clz32(), build with LEGACY_VM_SUPPORT or POLYFILL_OLD_MATH_FUNCTIONS to add in a polyfill"),N(Math.trunc,"This browser does not support Math.trunc(), build with LEGACY_VM_SUPPORT or POLYFILL_OLD_MATH_FUNCTIONS to add in a polyfill");var be=0,Ae=null,xe=null,Oe={};function Ie(e){be++,a.monitorRunDependencies&&a.monitorRunDependencies(be),e?(N(!Oe[e]),Oe[e]=1,null===Ae&&"undefined"!=typeof setInterval&&(Ae=setInterval((function(){if(L)return clearInterval(Ae),void(Ae=null);var e=!1;for(var t in Oe)e||(e=!0,M("still waiting on run dependencies:")),M("dependency: "+t);e&&M("(end of list)")}),1e4))):M("warning: run dependency added without ID")}function De(e){if(be--,a.monitorRunDependencies&&a.monitorRunDependencies(be),e?(N(Oe[e]),delete Oe[e]):M("warning: run dependency removed without ID"),0==be&&(null!==Ae&&(clearInterval(Ae),Ae=null),xe)){var t=xe;xe=null,t()}}function Le(e){a.onAbort&&a.onAbort(e),C(e+=""),M(e),L=!0,1;throw"abort("+e+") at "+ze()}a.preloadedImages={},a.preloadedAudios={};var Ne={error:function(){Le("Filesystem support (FS) was not included. The problem is that you are using files from JS, but files were not used from C/C++, so filesystem support was not auto-included. You can force-include filesystem support with  -s FORCE_FILESYSTEM=1")},init:function(){Ne.error()},createDataFile:function(){Ne.error()},createPreloadedFile:function(){Ne.error()},createLazyFile:function(){Ne.error()},open:function(){Ne.error()},mkdev:function(){Ne.error()},registerDevice:function(){Ne.error()},analyzePath:function(){Ne.error()},loadFilesFromDB:function(){Ne.error()},ErrnoError:function(){Ne.error()}};a.FS_createDataFile=Ne.createDataFile,a.FS_createPreloadedFile=Ne.createPreloadedFile;var je="data:application/octet-stream;base64,";function Pe(e){return String.prototype.startsWith?e.startsWith(je):0===e.indexOf(je)}var ke="lib-numberwolf-xiaolaohu-avmaker.wasm";function Ve(){try{if(b)return new Uint8Array(b);if(p)return p(ke);throw"both async and sync fetching of the wasm failed"}catch(e){Le(e)}}function Fe(){return b||!u&&!d||"function"!=typeof fetch?new Promise((function(e,t){e(Ve())})):fetch(ke,{credentials:"same-origin"}).then((function(e){if(!e.ok)throw"failed to load wasm binary file at '"+ke+"'";return e.arrayBuffer()})).catch((function(){return Ve()}))}function Ge(){var e={env:dr,wasi_unstable:dr,global:{NaN:NaN,Infinity:1/0},"global.Math":Math,asm2wasm:S};function t(e,t){var i=e.exports;a.asm=i,De("wasm-instantiate")}Ie("wasm-instantiate");var i=a;function r(e){N(a===i,"the Module object should not be replaced during async compilation - perhaps the order of HTML elements is wrong?"),i=null,t(e.instance)}function n(t){return Fe().then((function(t){return WebAssembly.instantiate(t,e)})).then(t,(function(e){M("failed to asynchronously prepare wasm: "+e),Le(e)}))}if(a.instantiateWasm)try{return a.instantiateWasm(e,t)}catch(e){return M("Module.instantiateWasm callback failed with error: "+e),!1}return function(){if(b||"function"!=typeof WebAssembly.instantiateStreaming||Pe(ke)||"function"!=typeof fetch)return n(r);fetch(ke,{credentials:"same-origin"}).then((function(t){return WebAssembly.instantiateStreaming(t,e).then(r,(function(e){M("wasm streaming compile failed: "+e),M("falling back to ArrayBuffer instantiation"),n(r)}))}))}(),{}}Pe(ke)||(ke=v(ke)),a.asm=Ge;var Ue=[function(){"undefined"!=typeof window&&window.dispatchEvent(new CustomEvent("wasmRenderEngineLoaded"))}];function Xe(e){return Ue[e]()}var He=15504;function Be(e){return E("warning: build with  -s DEMANGLE_SUPPORT=1  to link in libcxxabi demangling"),e}function We(e){return e.replace(/\b__Z[\w\d_]+/g,(function(e){var t=Be(e);return e===t?e:t+" ["+e+"]"}))}function Ye(){var e=new Error;if(!e.stack){try{throw new Error(0)}catch(t){e=t}if(!e.stack)return"(no stack trace available)"}return e.stack.toString()}function ze(){var e=Ye();return a.extraStackTrace&&(e+="\n"+a.extraStackTrace()),We(e)}function Qe(){}function qe(){}function Ke(){var e=a._fflush;e&&e(0);var t=Je.buffers;t[1].length&&Je.printChar(1,10),t[2].length&&Je.printChar(2,10)}N(He%8==0);var Je={buffers:[null,[],[]],printChar:function(e,t){var i=Je.buffers[e];N(i),0===t||10===t?((1===e?C:M)(F(i,0)),i.length=0):i.push(t)},varargs:0,get:function(e){return Je.varargs+=4,K[Je.varargs-4>>2]},getStr:function(){return G(Je.get())},get64:function(){var e=Je.get(),t=Je.get();return N(e>=0?0===t:-1===t),e},getZero:function(){N(0===Je.get())}};function Ze(e,t,i,r){try{for(var n=0,a=0;a<i;a++){for(var o=K[t+8*a>>2],_=K[t+(8*a+4)>>2],s=0;s<_;s++)Je.printChar(e,Q[o+s]);n+=_}return K[r>>2]=n,0}catch(e){return void 0!==Ne&&e instanceof Ne.ErrnoError||Le(e),e.errno}}function $e(){return Ze.apply(null,arguments)}function et(){return z.length}function tt(e){try{return x.grow(e-Y.byteLength+65535>>16),te(x.buffer),1}catch(t){console.error("emscripten_realloc_buffer: Attempted to grow heap from "+Y.byteLength+" bytes to "+e+" bytes, but got error: "+t)}}function it(e){var t=et();N(e>t);var i=65536,r=2147418112;if(e>r)return M("Cannot enlarge memory, asked to go up to "+e+" bytes, but the limit is "+r+" bytes!"),!1;for(var n=Math.max(t,16777216);n<e;)(n=n<=536870912?ee(2*n,i):Math.min(ee((3*n+2147483648)/4,i),r))===t&&E("Cannot ask for more memory since we reached the practical limit in browsers (which is just below 2GB), so the request would have failed. Requesting only "+z.length);return!!tt(n)||(M("Failed to grow the heap from "+t+" bytes to "+n+" bytes, not enough memory!"),!1)}var rt={counter:1,lastError:0,buffers:[],mappedBuffers:{},programs:[],framebuffers:[],renderbuffers:[],textures:[],uniforms:[],shaders:[],vaos:[],contexts:{},currentContext:null,offscreenCanvases:{},timerQueriesEXT:[],programInfos:{},stringCache:{},unpackAlignment:4,init:function(){rt.miniTempBuffer=new Float32Array(rt.MINI_TEMP_BUFFER_SIZE);for(var e=0;e<rt.MINI_TEMP_BUFFER_SIZE;e++)rt.miniTempBufferViews[e]=rt.miniTempBuffer.subarray(0,e+1)},recordError:function(e){rt.lastError||(rt.lastError=e)},getNewId:function(e){for(var t=rt.counter++,i=e.length;i<t;i++)e[i]=null;return t},MINI_TEMP_BUFFER_SIZE:256,miniTempBuffer:null,miniTempBufferViews:[0],getSource:function(e,t,i,r){for(var n="",a=0;a<t;++a){var o=r?K[r+4*a>>2]:-1;n+=G(K[i+4*a>>2],o<0?void 0:o)}return n},createContext:function(e,t){var i=e.getContext("webgl",t)||e.getContext("experimental-webgl",t);return i?rt.registerContext(i,t):0},registerContext:function(e,t){var i=pr(8),r={handle:i,attributes:t,version:t.majorVersion,GLctx:e};return e.canvas&&(e.canvas.GLctxObject=r),rt.contexts[i]=r,(void 0===t.enableExtensionsByDefault||t.enableExtensionsByDefault)&&rt.initExtensions(r),i},makeContextCurrent:function(e){return rt.currentContext=rt.contexts[e],a.ctx=Ht=rt.currentContext&&rt.currentContext.GLctx,!(e&&!Ht)},getContext:function(e){return rt.contexts[e]},deleteContext:function(e){rt.currentContext===rt.contexts[e]&&(rt.currentContext=null),"object"==typeof nt&&nt.removeAllHandlersOnTarget(rt.contexts[e].GLctx.canvas),rt.contexts[e]&&rt.contexts[e].GLctx.canvas&&(rt.contexts[e].GLctx.canvas.GLctxObject=void 0),mr(rt.contexts[e]),rt.contexts[e]=null},acquireInstancedArraysExtension:function(e){var t=e.getExtension("ANGLE_instanced_arrays");t&&(e.vertexAttribDivisor=function(e,i){t.vertexAttribDivisorANGLE(e,i)},e.drawArraysInstanced=function(e,i,r,n){t.drawArraysInstancedANGLE(e,i,r,n)},e.drawElementsInstanced=function(e,i,r,n,a){t.drawElementsInstancedANGLE(e,i,r,n,a)})},acquireVertexArrayObjectExtension:function(e){var t=e.getExtension("OES_vertex_array_object");t&&(e.createVertexArray=function(){return t.createVertexArrayOES()},e.deleteVertexArray=function(e){t.deleteVertexArrayOES(e)},e.bindVertexArray=function(e){t.bindVertexArrayOES(e)},e.isVertexArray=function(e){return t.isVertexArrayOES(e)})},acquireDrawBuffersExtension:function(e){var t=e.getExtension("WEBGL_draw_buffers");t&&(e.drawBuffers=function(e,i){t.drawBuffersWEBGL(e,i)})},initExtensions:function(e){if(e||(e=rt.currentContext),!e.initExtensionsDone){e.initExtensionsDone=!0;var t=e.GLctx;e.version<2&&(rt.acquireInstancedArraysExtension(t),rt.acquireVertexArrayObjectExtension(t),rt.acquireDrawBuffersExtension(t)),t.disjointTimerQueryExt=t.getExtension("EXT_disjoint_timer_query");var i=["OES_texture_float","OES_texture_half_float","OES_standard_derivatives","OES_vertex_array_object","WEBGL_compressed_texture_s3tc","WEBGL_depth_texture","OES_element_index_uint","EXT_texture_filter_anisotropic","EXT_frag_depth","WEBGL_draw_buffers","ANGLE_instanced_arrays","OES_texture_float_linear","OES_texture_half_float_linear","EXT_blend_minmax","EXT_shader_texture_lod","WEBGL_compressed_texture_pvrtc","EXT_color_buffer_half_float","WEBGL_color_buffer_float","EXT_sRGB","WEBGL_compressed_texture_etc1","EXT_disjoint_timer_query","WEBGL_compressed_texture_etc","WEBGL_compressed_texture_astc","EXT_color_buffer_float","WEBGL_compressed_texture_s3tc_srgb","EXT_disjoint_timer_query_webgl2"];(t.getSupportedExtensions()||[]).forEach((function(e){-1!=i.indexOf(e)&&t.getExtension(e)}))}},populateUniformTable:function(e){for(var t=rt.programs[e],i=rt.programInfos[e]={uniforms:{},maxUniformLength:0,maxAttributeLength:-1,maxUniformBlockNameLength:-1},r=i.uniforms,n=Ht.getProgramParameter(t,35718),a=0;a<n;++a){var o=Ht.getActiveUniform(t,a),_=o.name;i.maxUniformLength=Math.max(i.maxUniformLength,_.length+1),"]"==_.slice(-1)&&(_=_.slice(0,_.lastIndexOf("[")));var s=Ht.getUniformLocation(t,_);if(s){var l=rt.getNewId(rt.uniforms);r[_]=[o.size,l],rt.uniforms[l]=s;for(var u=1;u<o.size;++u){var d=_+"["+u+"]";s=Ht.getUniformLocation(t,d),l=rt.getNewId(rt.uniforms),rt.uniforms[l]=s}}}}},nt={keyEvent:0,mouseEvent:0,wheelEvent:0,uiEvent:0,focusEvent:0,deviceOrientationEvent:0,deviceMotionEvent:0,fullscreenChangeEvent:0,pointerlockChangeEvent:0,visibilityChangeEvent:0,touchEvent:0,previousFullscreenElement:null,previousScreenX:null,previousScreenY:null,removeEventListenersRegistered:!1,removeAllEventListeners:function(){for(var e=nt.eventHandlers.length-1;e>=0;--e)nt._removeHandler(e);nt.eventHandlers=[],nt.deferredCalls=[]},registerRemoveEventListeners:function(){nt.removeEventListenersRegistered||(Te.push(nt.removeAllEventListeners),nt.removeEventListenersRegistered=!0)},deferredCalls:[],deferCall:function(e,t,i){function r(e,t){if(e.length!=t.length)return!1;for(var i in e)if(e[i]!=t[i])return!1;return!0}for(var n in nt.deferredCalls){var a=nt.deferredCalls[n];if(a.targetFunction==e&&r(a.argsList,i))return}nt.deferredCalls.push({targetFunction:e,precedence:t,argsList:i}),nt.deferredCalls.sort((function(e,t){return e.precedence<t.precedence}))},removeDeferredCalls:function(e){for(var t=0;t<nt.deferredCalls.length;++t)nt.deferredCalls[t].targetFunction==e&&(nt.deferredCalls.splice(t,1),--t)},canPerformEventHandlerRequests:function(){return nt.inEventHandler&&nt.currentEventHandler.allowsDeferredCalls},runDeferredCalls:function(){if(nt.canPerformEventHandlerRequests())for(var e=0;e<nt.deferredCalls.length;++e){var t=nt.deferredCalls[e];nt.deferredCalls.splice(e,1),--e,t.targetFunction.apply(this,t.argsList)}},inEventHandler:0,currentEventHandler:null,eventHandlers:[],isInternetExplorer:function(){return-1!==navigator.userAgent.indexOf("MSIE")||navigator.appVersion.indexOf("Trident/")>0},removeAllHandlersOnTarget:function(e,t){for(var i=0;i<nt.eventHandlers.length;++i)nt.eventHandlers[i].target!=e||t&&t!=nt.eventHandlers[i].eventTypeString||nt._removeHandler(i--)},_removeHandler:function(e){var t=nt.eventHandlers[e];t.target.removeEventListener(t.eventTypeString,t.eventListenerFunc,t.useCapture),nt.eventHandlers.splice(e,1)},registerOrRemoveHandler:function(e){var t=function(t){++nt.inEventHandler,nt.currentEventHandler=e,nt.runDeferredCalls(),e.handlerFunc(t),nt.runDeferredCalls(),--nt.inEventHandler};if(e.callbackfunc)e.eventListenerFunc=t,e.target.addEventListener(e.eventTypeString,t,e.useCapture),nt.eventHandlers.push(e),nt.registerRemoveEventListeners();else for(var i=0;i<nt.eventHandlers.length;++i)nt.eventHandlers[i].target==e.target&&nt.eventHandlers[i].eventTypeString==e.eventTypeString&&nt._removeHandler(i--)},getBoundingClientRectOrZeros:function(e){return e.getBoundingClientRect?e.getBoundingClientRect():{left:0,top:0}},pageScrollPos:function(){return pageXOffset>0||pageYOffset>0?[pageXOffset,pageYOffset]:void 0!==document.documentElement.scrollLeft||void 0!==document.documentElement.scrollTop?[document.documentElement.scrollLeft,document.documentElement.scrollTop]:[0|document.body.scrollLeft,0|document.body.scrollTop]},getNodeNameForTarget:function(e){return e?e==window?"#window":e==screen?"#screen":e&&e.nodeName?e.nodeName:"":""},tick:function(){return window.performance&&window.performance.now?window.performance.now():Date.now()},fullscreenEnabled:function(){return document.fullscreenEnabled||document.mozFullScreenEnabled||document.webkitFullscreenEnabled||document.msFullscreenEnabled}},at=["default","low-power","high-performance"],ot=[0,"undefined"!=typeof document?document:0,"undefined"!=typeof window?window:0];function _t(e){E("Rules for selecting event targets in HTML5 API are changing: instead of using document.getElementById() that only can refer to elements by their DOM ID, new event target selection mechanism uses the more flexible function document.querySelector() that can look up element names, classes, and complex CSS selectors. Build with -s DISABLE_DEPRECATED_FIND_EVENT_TARGET_BEHAVIOR=1 to change to the new lookup rules. See https://github.com/emscripten-core/emscripten/pull/7977 for more details.");try{return e?("number"==typeof e&&(e=ot[e]||G(e)),"#window"===e?window:"#document"===e?document:"#screen"===e?screen:"#canvas"===e?a.canvas:"string"==typeof e?document.getElementById(e):e):window}catch(e){return null}}function st(e){return"number"==typeof e&&(e=G(e)),e&&"#canvas"!==e?void 0!==rt&&rt.offscreenCanvases[e]?rt.offscreenCanvases[e]:_t(e):void 0!==rt&&rt.offscreenCanvases.canvas?rt.offscreenCanvases.canvas:a.canvas}function lt(e,t){N(t);var i={},r=t>>2;i.alpha=!!K[r+0],i.depth=!!K[r+1],i.stencil=!!K[r+2],i.antialias=!!K[r+3],i.premultipliedAlpha=!!K[r+4],i.preserveDrawingBuffer=!!K[r+5];var n=K[r+6];i.powerPreference=at[n],i.failIfMajorPerformanceCaveat=!!K[r+7],i.majorVersion=K[r+8],i.minorVersion=K[r+9],i.enableExtensionsByDefault=K[r+10],i.explicitSwapControl=K[r+11],i.proxyContextToMainThread=K[r+12],i.renderViaOffscreenBackBuffer=K[r+13];var a=st(e);return a?i.explicitSwapControl?0:rt.createContext(a,i):0}function ut(e,t){return lt(e,t)}function dt(e){N(e);for(var t=e>>2,i=0;i<14;++i)K[t+i]=0;K[t+0]=K[t+1]=K[t+3]=K[t+4]=K[t+8]=K[t+10]=1}function ft(e){return rt.makeContextCurrent(e)?0:-5}function ct(e){Ht.activeTexture(e)}function mt(e,t){Ht.attachShader(rt.programs[e],rt.shaders[t])}function pt(e,t){Ht.bindBuffer(e,rt.buffers[t])}function Tt(e,t){Ht.bindFramebuffer(e,rt.framebuffers[t])}function gt(e,t){Ht.bindTexture(e,rt.textures[t])}function ht(e,t){Ht.blendFunc(e,t)}function vt(e,t,i,r){Ht.bufferData(e,i?Q.subarray(i,i+t):t,r)}function Ct(e){Ht.clear(e)}function Mt(e,t,i,r){Ht.clearColor(e,t,i,r)}function Et(e){Ht.compileShader(rt.shaders[e])}function St(){var e=rt.getNewId(rt.programs),t=Ht.createProgram();return t.name=e,rt.programs[e]=t,e}function wt(e){var t=rt.getNewId(rt.shaders);return rt.shaders[t]=Ht.createShader(e),t}function yt(e,t){for(var i=0;i<e;++i){var r=K[t+4*i>>2],n=rt.framebuffers[r];n&&(Ht.deleteFramebuffer(n),n.name=0,rt.framebuffers[r]=null)}}function Rt(e){if(e){var t=rt.shaders[e];t?(Ht.deleteShader(t),rt.shaders[e]=null):rt.recordError(1281)}}function bt(e,t){for(var i=0;i<e;i++){var r=K[t+4*i>>2],n=rt.textures[r];n&&(Ht.deleteTexture(n),n.name=0,rt.textures[r]=null)}}function At(e){Ht.depthFunc(e)}function xt(e,t,i){Ht.drawArrays(e,t,i)}function Ot(e){Ht.enable(e)}function It(e){Ht.enableVertexAttribArray(e)}function Dt(e,t,i,r,n){Ht.framebufferTexture2D(e,t,i,rt.textures[r],n)}function Lt(e,t,i,r){for(var n=0;n<e;n++){var a=Ht[i](),o=a&&rt.getNewId(r);a?(a.name=o,r[o]=a):rt.recordError(1282),K[t+4*n>>2]=o}}function Nt(e,t){Lt(e,t,"createBuffer",rt.buffers)}function jt(e,t){Lt(e,t,"createFramebuffer",rt.framebuffers)}function Pt(e,t){Lt(e,t,"createTexture",rt.textures)}function kt(e,t){return Ht.getAttribLocation(rt.programs[e],G(t))}function Vt(e,t,i){if(i)if(e>=rt.counter)rt.recordError(1281);else{var r=rt.programInfos[e];if(r)if(35716==t){var n=Ht.getProgramInfoLog(rt.programs[e]);null===n&&(n="(unknown error)"),K[i>>2]=n.length+1}else if(35719==t)K[i>>2]=r.maxUniformLength;else if(35722==t){if(-1==r.maxAttributeLength){e=rt.programs[e];var a=Ht.getProgramParameter(e,35721);r.maxAttributeLength=0;for(var o=0;o<a;++o){var _=Ht.getActiveAttrib(e,o);r.maxAttributeLength=Math.max(r.maxAttributeLength,_.name.length+1)}}K[i>>2]=r.maxAttributeLength}else if(35381==t){if(-1==r.maxUniformBlockNameLength){e=rt.programs[e];var s=Ht.getProgramParameter(e,35382);r.maxUniformBlockNameLength=0;for(o=0;o<s;++o){var l=Ht.getActiveUniformBlockName(e,o);r.maxUniformBlockNameLength=Math.max(r.maxUniformBlockNameLength,l.length+1)}}K[i>>2]=r.maxUniformBlockNameLength}else K[i>>2]=Ht.getProgramParameter(rt.programs[e],t);else rt.recordError(1282)}else rt.recordError(1281)}function Ft(e,t){var i=0;if("]"==(t=G(t))[t.length-1]){var r=t.lastIndexOf("[");i="]"!=t[r+1]?parseInt(t.slice(r+1)):0,t=t.slice(0,r)}var n=rt.programInfos[e]&&rt.programInfos[e].uniforms[t];return n&&i>=0&&i<n[0]?n[1]+i:-1}function Gt(e){Ht.linkProgram(rt.programs[e]),rt.populateUniformTable(e)}function Ut(e,t,i,r){var n=rt.getSource(e,t,i,r);Ht.shaderSource(rt.shaders[e],n)}function Xt(e,t,i,r){var n;return t*(e*i+(n=r)-1&-n)}var Ht,Bt={6402:1,6406:1,6407:3,6408:4,6409:1,6410:2,35904:3,35906:4},Wt={5121:1,5123:2,5125:4,5126:4,32819:2,32820:2,33635:2,34042:4,36193:2};function Yt(e,t,i,r,n,a){var o=Bt[t]*Wt[e];if(o){var _=n+Xt(i,r,o,rt.unpackAlignment);switch(e){case 5121:return Q.subarray(n,_);case 5126:return Z.subarray(n>>2,_>>2);case 5125:case 34042:return J.subarray(n>>2,_>>2);case 5123:case 33635:case 32819:case 32820:case 36193:return q.subarray(n>>1,_>>1);default:rt.recordError(1280)}}else rt.recordError(1280)}function zt(e,t,i,r,n,a,o,_,s){Ht.texImage2D(e,t,i,r,n,a,o,_,s?Yt(_,o,r,n,s):null)}function Qt(e,t,i){Ht.texParameterf(e,t,i)}function qt(e,t,i){Ht.texParameteri(e,t,i)}function Kt(e,t){Ht.uniform1f(rt.uniforms[e],t)}function Jt(e,t){Ht.uniform1i(rt.uniforms[e],t)}function Zt(e,t,i,r,n){Ht.uniform4f(rt.uniforms[e],t,i,r,n)}function $t(e){Ht.useProgram(rt.programs[e])}function ei(e,t,i,r,n,a){Ht.vertexAttribPointer(e,t,i,!!r,n,a)}function ti(e,t,i,r){Ht.viewport(e,t,i,r)}function ii(e,t,i){Q.set(Q.subarray(t,t+i),e)}rt.init();var ri=[0,"jsCall_ff_0","jsCall_ff_1","jsCall_ff_2","jsCall_ff_3","jsCall_ff_4","jsCall_ff_5","jsCall_ff_6","jsCall_ff_7","jsCall_ff_8","jsCall_ff_9","jsCall_ff_10","jsCall_ff_11","jsCall_ff_12","jsCall_ff_13","jsCall_ff_14","jsCall_ff_15","jsCall_ff_16","jsCall_ff_17","jsCall_ff_18","jsCall_ff_19","jsCall_ff_20","jsCall_ff_21","jsCall_ff_22","jsCall_ff_23","jsCall_ff_24","jsCall_ff_25","jsCall_ff_26","jsCall_ff_27","jsCall_ff_28","jsCall_ff_29","jsCall_ff_30","jsCall_ff_31","jsCall_ff_32","jsCall_ff_33","jsCall_ff_34","_func_transCanvasMvX_2_GlMvX","_func_transCanvasMvY_2_GlMvY",0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],ni=[0,"jsCall_fii_0","jsCall_fii_1","jsCall_fii_2","jsCall_fii_3","jsCall_fii_4","jsCall_fii_5","jsCall_fii_6","jsCall_fii_7","jsCall_fii_8","jsCall_fii_9","jsCall_fii_10","jsCall_fii_11","jsCall_fii_12","jsCall_fii_13","jsCall_fii_14","jsCall_fii_15","jsCall_fii_16","jsCall_fii_17","jsCall_fii_18","jsCall_fii_19","jsCall_fii_20","jsCall_fii_21","jsCall_fii_22","jsCall_fii_23","jsCall_fii_24","jsCall_fii_25","jsCall_fii_26","jsCall_fii_27","jsCall_fii_28","jsCall_fii_29","jsCall_fii_30","jsCall_fii_31","jsCall_fii_32","jsCall_fii_33","jsCall_fii_34","_func_RenderNodeDump_MediaInfo_AngleW","_func_RenderNodeDump_MediaInfo_AngleH","_func_RenderNodeDump_MediaInfo_AspectW","_func_RenderNodeDump_MediaInfo_AspectH","_func_RenderNodeDump_GL_Scale","_func_RenderNodeDump_GL_X","_func_RenderNodeDump_GL_Y","_func_RenderNodeDump_GL_Angle","_func_RenderNodeDump_GL_horiMirror","_func_RenderNodeDump_GL_vertMirror","_func_RenderNodeDump_GL_CropX","_func_RenderNodeDump_GL_CropY","_func_RenderNodeDump_GL_CropW","_func_RenderNodeDump_GL_CropH",0,0,0,0,0,0,0,0,0,0,0,0,0,0],ai=[0,"jsCall_ii_0","jsCall_ii_1","jsCall_ii_2","jsCall_ii_3","jsCall_ii_4","jsCall_ii_5","jsCall_ii_6","jsCall_ii_7","jsCall_ii_8","jsCall_ii_9","jsCall_ii_10","jsCall_ii_11","jsCall_ii_12","jsCall_ii_13","jsCall_ii_14","jsCall_ii_15","jsCall_ii_16","jsCall_ii_17","jsCall_ii_18","jsCall_ii_19","jsCall_ii_20","jsCall_ii_21","jsCall_ii_22","jsCall_ii_23","jsCall_ii_24","jsCall_ii_25","jsCall_ii_26","jsCall_ii_27","jsCall_ii_28","jsCall_ii_29","jsCall_ii_30","jsCall_ii_31","jsCall_ii_32","jsCall_ii_33","jsCall_ii_34","___emscripten_stdout_close","_func_vbo_setup","_func_uniform_setup","_func_render_clear","_func_update_shader","_func_getCtxW","_func_getCtxH",0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],oi=[0,"jsCall_iidiiii_0","jsCall_iidiiii_1","jsCall_iidiiii_2","jsCall_iidiiii_3","jsCall_iidiiii_4","jsCall_iidiiii_5","jsCall_iidiiii_6","jsCall_iidiiii_7","jsCall_iidiiii_8","jsCall_iidiiii_9","jsCall_iidiiii_10","jsCall_iidiiii_11","jsCall_iidiiii_12","jsCall_iidiiii_13","jsCall_iidiiii_14","jsCall_iidiiii_15","jsCall_iidiiii_16","jsCall_iidiiii_17","jsCall_iidiiii_18","jsCall_iidiiii_19","jsCall_iidiiii_20","jsCall_iidiiii_21","jsCall_iidiiii_22","jsCall_iidiiii_23","jsCall_iidiiii_24","jsCall_iidiiii_25","jsCall_iidiiii_26","jsCall_iidiiii_27","jsCall_iidiiii_28","jsCall_iidiiii_29","jsCall_iidiiii_30","jsCall_iidiiii_31","jsCall_iidiiii_32","jsCall_iidiiii_33","jsCall_iidiiii_34","_fmt_fp",0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],_i=[0,"jsCall_iif_0","jsCall_iif_1","jsCall_iif_2","jsCall_iif_3","jsCall_iif_4","jsCall_iif_5","jsCall_iif_6","jsCall_iif_7","jsCall_iif_8","jsCall_iif_9","jsCall_iif_10","jsCall_iif_11","jsCall_iif_12","jsCall_iif_13","jsCall_iif_14","jsCall_iif_15","jsCall_iif_16","jsCall_iif_17","jsCall_iif_18","jsCall_iif_19","jsCall_iif_20","jsCall_iif_21","jsCall_iif_22","jsCall_iif_23","jsCall_iif_24","jsCall_iif_25","jsCall_iif_26","jsCall_iif_27","jsCall_iif_28","jsCall_iif_29","jsCall_iif_30","jsCall_iif_31","jsCall_iif_32","jsCall_iif_33","jsCall_iif_34","_func_render",0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],si=[0,"jsCall_iifff_0","jsCall_iifff_1","jsCall_iifff_2","jsCall_iifff_3","jsCall_iifff_4","jsCall_iifff_5","jsCall_iifff_6","jsCall_iifff_7","jsCall_iifff_8","jsCall_iifff_9","jsCall_iifff_10","jsCall_iifff_11","jsCall_iifff_12","jsCall_iifff_13","jsCall_iifff_14","jsCall_iifff_15","jsCall_iifff_16","jsCall_iifff_17","jsCall_iifff_18","jsCall_iifff_19","jsCall_iifff_20","jsCall_iifff_21","jsCall_iifff_22","jsCall_iifff_23","jsCall_iifff_24","jsCall_iifff_25","jsCall_iifff_26","jsCall_iifff_27","jsCall_iifff_28","jsCall_iifff_29","jsCall_iifff_30","jsCall_iifff_31","jsCall_iifff_32","jsCall_iifff_33","jsCall_iifff_34","_func_find_click_layer",0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],li=[0,"jsCall_iii_0","jsCall_iii_1","jsCall_iii_2","jsCall_iii_3","jsCall_iii_4","jsCall_iii_5","jsCall_iii_6","jsCall_iii_7","jsCall_iii_8","jsCall_iii_9","jsCall_iii_10","jsCall_iii_11","jsCall_iii_12","jsCall_iii_13","jsCall_iii_14","jsCall_iii_15","jsCall_iii_16","jsCall_iii_17","jsCall_iii_18","jsCall_iii_19","jsCall_iii_20","jsCall_iii_21","jsCall_iii_22","jsCall_iii_23","jsCall_iii_24","jsCall_iii_25","jsCall_iii_26","jsCall_iii_27","jsCall_iii_28","jsCall_iii_29","jsCall_iii_30","jsCall_iii_31","jsCall_iii_32","jsCall_iii_33","jsCall_iii_34","_func_push","_func_removeTexture","_func_removeTextureSoft","_func_getTexture","_func_removeRenderNode","_func_render_removeTexID","_func_render_reset_tag_GL_HoriMirror","_func_render_reset_tag_GL_VertMirror","_func_render_update_inside_by_canvas_size_and_angle","_func_getPosSizeInfo4CanvasByTag","_func_getPosCropInfo4Canvas","_func_clearShaderToRenderNode","_func_RenderNodeDump_Level","_func_RenderNodeDump_TagOffset","_func_RenderNodeDump_Tag","_func_RenderNodeDump_NodeType",0,0,0,0,0,0,0,0,0,0,0,0],ui=[0,"jsCall_iiif_0","jsCall_iiif_1","jsCall_iiif_2","jsCall_iiif_3","jsCall_iiif_4","jsCall_iiif_5","jsCall_iiif_6","jsCall_iiif_7","jsCall_iiif_8","jsCall_iiif_9","jsCall_iiif_10","jsCall_iiif_11","jsCall_iiif_12","jsCall_iiif_13","jsCall_iiif_14","jsCall_iiif_15","jsCall_iiif_16","jsCall_iiif_17","jsCall_iiif_18","jsCall_iiif_19","jsCall_iiif_20","jsCall_iiif_21","jsCall_iiif_22","jsCall_iiif_23","jsCall_iiif_24","jsCall_iiif_25","jsCall_iiif_26","jsCall_iiif_27","jsCall_iiif_28","jsCall_iiif_29","jsCall_iiif_30","jsCall_iiif_31","jsCall_iiif_32","jsCall_iiif_33","jsCall_iiif_34","_func_render_set_tag_GL_angle","_func_render_set_tag_GL_scale","_func_render_set_tag_GL_MvHoriMirror","_func_render_set_tag_GL_MvVertMirror",0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],di=[0,"jsCall_iiiff_0","jsCall_iiiff_1","jsCall_iiiff_2","jsCall_iiiff_3","jsCall_iiiff_4","jsCall_iiiff_5","jsCall_iiiff_6","jsCall_iiiff_7","jsCall_iiiff_8","jsCall_iiiff_9","jsCall_iiiff_10","jsCall_iiiff_11","jsCall_iiiff_12","jsCall_iiiff_13","jsCall_iiiff_14","jsCall_iiiff_15","jsCall_iiiff_16","jsCall_iiiff_17","jsCall_iiiff_18","jsCall_iiiff_19","jsCall_iiiff_20","jsCall_iiiff_21","jsCall_iiiff_22","jsCall_iiiff_23","jsCall_iiiff_24","jsCall_iiiff_25","jsCall_iiiff_26","jsCall_iiiff_27","jsCall_iiiff_28","jsCall_iiiff_29","jsCall_iiiff_30","jsCall_iiiff_31","jsCall_iiiff_32","jsCall_iiiff_33","jsCall_iiiff_34","_func_createNewAudioNode","_func_createNewTextNode","_func_setNodeShowTime","_func_render_set_tag_GL_MvXY",0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],fi=[0,"jsCall_iiiffff_0","jsCall_iiiffff_1","jsCall_iiiffff_2","jsCall_iiiffff_3","jsCall_iiiffff_4","jsCall_iiiffff_5","jsCall_iiiffff_6","jsCall_iiiffff_7","jsCall_iiiffff_8","jsCall_iiiffff_9","jsCall_iiiffff_10","jsCall_iiiffff_11","jsCall_iiiffff_12","jsCall_iiiffff_13","jsCall_iiiffff_14","jsCall_iiiffff_15","jsCall_iiiffff_16","jsCall_iiiffff_17","jsCall_iiiffff_18","jsCall_iiiffff_19","jsCall_iiiffff_20","jsCall_iiiffff_21","jsCall_iiiffff_22","jsCall_iiiffff_23","jsCall_iiiffff_24","jsCall_iiiffff_25","jsCall_iiiffff_26","jsCall_iiiffff_27","jsCall_iiiffff_28","jsCall_iiiffff_29","jsCall_iiiffff_30","jsCall_iiiffff_31","jsCall_iiiffff_32","jsCall_iiiffff_33","jsCall_iiiffff_34","_func_render_set_tag_GL_Crop",0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],ci=[0,"jsCall_iiiffii_0","jsCall_iiiffii_1","jsCall_iiiffii_2","jsCall_iiiffii_3","jsCall_iiiffii_4","jsCall_iiiffii_5","jsCall_iiiffii_6","jsCall_iiiffii_7","jsCall_iiiffii_8","jsCall_iiiffii_9","jsCall_iiiffii_10","jsCall_iiiffii_11","jsCall_iiiffii_12","jsCall_iiiffii_13","jsCall_iiiffii_14","jsCall_iiiffii_15","jsCall_iiiffii_16","jsCall_iiiffii_17","jsCall_iiiffii_18","jsCall_iiiffii_19","jsCall_iiiffii_20","jsCall_iiiffii_21","jsCall_iiiffii_22","jsCall_iiiffii_23","jsCall_iiiffii_24","jsCall_iiiffii_25","jsCall_iiiffii_26","jsCall_iiiffii_27","jsCall_iiiffii_28","jsCall_iiiffii_29","jsCall_iiiffii_30","jsCall_iiiffii_31","jsCall_iiiffii_32","jsCall_iiiffii_33","jsCall_iiiffii_34","_func_createNewRenderNode",0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],mi=[0,"jsCall_iiii_0","jsCall_iiii_1","jsCall_iiii_2","jsCall_iiii_3","jsCall_iiii_4","jsCall_iiii_5","jsCall_iiii_6","jsCall_iiii_7","jsCall_iiii_8","jsCall_iiii_9","jsCall_iiii_10","jsCall_iiii_11","jsCall_iiii_12","jsCall_iiii_13","jsCall_iiii_14","jsCall_iiii_15","jsCall_iiii_16","jsCall_iiii_17","jsCall_iiii_18","jsCall_iiii_19","jsCall_iiii_20","jsCall_iiii_21","jsCall_iiii_22","jsCall_iiii_23","jsCall_iiii_24","jsCall_iiii_25","jsCall_iiii_26","jsCall_iiii_27","jsCall_iiii_28","jsCall_iiii_29","jsCall_iiii_30","jsCall_iiii_31","jsCall_iiii_32","jsCall_iiii_33","jsCall_iiii_34","___stdio_write","__ZNK10__cxxabiv117__class_type_info9can_catchEPKNS_16__shim_type_infoERPv","_func_init_master_trace","_func_init_master_lut","_func_addShaderToRenderNode","_func_rmShaderToRenderNode","_func_RenderNodeDump_ShaderNameLengthByIdx","_func_RenderNodeDump_ShaderNameByIdx",0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],pi=[0,"jsCall_iiiififfffff_0","jsCall_iiiififfffff_1","jsCall_iiiififfffff_2","jsCall_iiiififfffff_3","jsCall_iiiififfffff_4","jsCall_iiiififfffff_5","jsCall_iiiififfffff_6","jsCall_iiiififfffff_7","jsCall_iiiififfffff_8","jsCall_iiiififfffff_9","jsCall_iiiififfffff_10","jsCall_iiiififfffff_11","jsCall_iiiififfffff_12","jsCall_iiiififfffff_13","jsCall_iiiififfffff_14","jsCall_iiiififfffff_15","jsCall_iiiififfffff_16","jsCall_iiiififfffff_17","jsCall_iiiififfffff_18","jsCall_iiiififfffff_19","jsCall_iiiififfffff_20","jsCall_iiiififfffff_21","jsCall_iiiififfffff_22","jsCall_iiiififfffff_23","jsCall_iiiififfffff_24","jsCall_iiiififfffff_25","jsCall_iiiififfffff_26","jsCall_iiiififfffff_27","jsCall_iiiififfffff_28","jsCall_iiiififfffff_29","jsCall_iiiififfffff_30","jsCall_iiiififfffff_31","jsCall_iiiififfffff_32","jsCall_iiiififfffff_33","jsCall_iiiififfffff_34","_func_render_by_pipTag",0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],Ti=[0,"jsCall_iiiii_0","jsCall_iiiii_1","jsCall_iiiii_2","jsCall_iiiii_3","jsCall_iiiii_4","jsCall_iiiii_5","jsCall_iiiii_6","jsCall_iiiii_7","jsCall_iiiii_8","jsCall_iiiii_9","jsCall_iiiii_10","jsCall_iiiii_11","jsCall_iiiii_12","jsCall_iiiii_13","jsCall_iiiii_14","jsCall_iiiii_15","jsCall_iiiii_16","jsCall_iiiii_17","jsCall_iiiii_18","jsCall_iiiii_19","jsCall_iiiii_20","jsCall_iiiii_21","jsCall_iiiii_22","jsCall_iiiii_23","jsCall_iiiii_24","jsCall_iiiii_25","jsCall_iiiii_26","jsCall_iiiii_27","jsCall_iiiii_28","jsCall_iiiii_29","jsCall_iiiii_30","jsCall_iiiii_31","jsCall_iiiii_32","jsCall_iiiii_33","jsCall_iiiii_34","_func_setNodeTagParam","_func_render_lut",0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],gi=[0,"jsCall_jiji_0","jsCall_jiji_1","jsCall_jiji_2","jsCall_jiji_3","jsCall_jiji_4","jsCall_jiji_5","jsCall_jiji_6","jsCall_jiji_7","jsCall_jiji_8","jsCall_jiji_9","jsCall_jiji_10","jsCall_jiji_11","jsCall_jiji_12","jsCall_jiji_13","jsCall_jiji_14","jsCall_jiji_15","jsCall_jiji_16","jsCall_jiji_17","jsCall_jiji_18","jsCall_jiji_19","jsCall_jiji_20","jsCall_jiji_21","jsCall_jiji_22","jsCall_jiji_23","jsCall_jiji_24","jsCall_jiji_25","jsCall_jiji_26","jsCall_jiji_27","jsCall_jiji_28","jsCall_jiji_29","jsCall_jiji_30","jsCall_jiji_31","jsCall_jiji_32","jsCall_jiji_33","jsCall_jiji_34","___emscripten_stdout_seek",0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],hi=[0,"jsCall_vi_0","jsCall_vi_1","jsCall_vi_2","jsCall_vi_3","jsCall_vi_4","jsCall_vi_5","jsCall_vi_6","jsCall_vi_7","jsCall_vi_8","jsCall_vi_9","jsCall_vi_10","jsCall_vi_11","jsCall_vi_12","jsCall_vi_13","jsCall_vi_14","jsCall_vi_15","jsCall_vi_16","jsCall_vi_17","jsCall_vi_18","jsCall_vi_19","jsCall_vi_20","jsCall_vi_21","jsCall_vi_22","jsCall_vi_23","jsCall_vi_24","jsCall_vi_25","jsCall_vi_26","jsCall_vi_27","jsCall_vi_28","jsCall_vi_29","jsCall_vi_30","jsCall_vi_31","jsCall_vi_32","jsCall_vi_33","jsCall_vi_34","__ZN10__cxxabiv116__shim_type_infoD2Ev","__ZN10__cxxabiv117__class_type_infoD0Ev","__ZNK10__cxxabiv116__shim_type_info5noop1Ev","__ZNK10__cxxabiv116__shim_type_info5noop2Ev","__ZN10__cxxabiv120__si_class_type_infoD0Ev",0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],vi=[0,"jsCall_vii_0","jsCall_vii_1","jsCall_vii_2","jsCall_vii_3","jsCall_vii_4","jsCall_vii_5","jsCall_vii_6","jsCall_vii_7","jsCall_vii_8","jsCall_vii_9","jsCall_vii_10","jsCall_vii_11","jsCall_vii_12","jsCall_vii_13","jsCall_vii_14","jsCall_vii_15","jsCall_vii_16","jsCall_vii_17","jsCall_vii_18","jsCall_vii_19","jsCall_vii_20","jsCall_vii_21","jsCall_vii_22","jsCall_vii_23","jsCall_vii_24","jsCall_vii_25","jsCall_vii_26","jsCall_vii_27","jsCall_vii_28","jsCall_vii_29","jsCall_vii_30","jsCall_vii_31","jsCall_vii_32","jsCall_vii_33","jsCall_vii_34","_pop_arg_long_double",0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],Ci=[0,"jsCall_viiii_0","jsCall_viiii_1","jsCall_viiii_2","jsCall_viiii_3","jsCall_viiii_4","jsCall_viiii_5","jsCall_viiii_6","jsCall_viiii_7","jsCall_viiii_8","jsCall_viiii_9","jsCall_viiii_10","jsCall_viiii_11","jsCall_viiii_12","jsCall_viiii_13","jsCall_viiii_14","jsCall_viiii_15","jsCall_viiii_16","jsCall_viiii_17","jsCall_viiii_18","jsCall_viiii_19","jsCall_viiii_20","jsCall_viiii_21","jsCall_viiii_22","jsCall_viiii_23","jsCall_viiii_24","jsCall_viiii_25","jsCall_viiii_26","jsCall_viiii_27","jsCall_viiii_28","jsCall_viiii_29","jsCall_viiii_30","jsCall_viiii_31","jsCall_viiii_32","jsCall_viiii_33","jsCall_viiii_34","__ZNK10__cxxabiv117__class_type_info27has_unambiguous_public_baseEPNS_19__dynamic_cast_infoEPvi","__ZNK10__cxxabiv120__si_class_type_info27has_unambiguous_public_baseEPNS_19__dynamic_cast_infoEPvi",0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],Mi=[0,"jsCall_viiiii_0","jsCall_viiiii_1","jsCall_viiiii_2","jsCall_viiiii_3","jsCall_viiiii_4","jsCall_viiiii_5","jsCall_viiiii_6","jsCall_viiiii_7","jsCall_viiiii_8","jsCall_viiiii_9","jsCall_viiiii_10","jsCall_viiiii_11","jsCall_viiiii_12","jsCall_viiiii_13","jsCall_viiiii_14","jsCall_viiiii_15","jsCall_viiiii_16","jsCall_viiiii_17","jsCall_viiiii_18","jsCall_viiiii_19","jsCall_viiiii_20","jsCall_viiiii_21","jsCall_viiiii_22","jsCall_viiiii_23","jsCall_viiiii_24","jsCall_viiiii_25","jsCall_viiiii_26","jsCall_viiiii_27","jsCall_viiiii_28","jsCall_viiiii_29","jsCall_viiiii_30","jsCall_viiiii_31","jsCall_viiiii_32","jsCall_viiiii_33","jsCall_viiiii_34","__ZNK10__cxxabiv117__class_type_info16search_below_dstEPNS_19__dynamic_cast_infoEPKvib","__ZNK10__cxxabiv120__si_class_type_info16search_below_dstEPNS_19__dynamic_cast_infoEPKvib",0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],Ei=[0,"jsCall_viiiiii_0","jsCall_viiiiii_1","jsCall_viiiiii_2","jsCall_viiiiii_3","jsCall_viiiiii_4","jsCall_viiiiii_5","jsCall_viiiiii_6","jsCall_viiiiii_7","jsCall_viiiiii_8","jsCall_viiiiii_9","jsCall_viiiiii_10","jsCall_viiiiii_11","jsCall_viiiiii_12","jsCall_viiiiii_13","jsCall_viiiiii_14","jsCall_viiiiii_15","jsCall_viiiiii_16","jsCall_viiiiii_17","jsCall_viiiiii_18","jsCall_viiiiii_19","jsCall_viiiiii_20","jsCall_viiiiii_21","jsCall_viiiiii_22","jsCall_viiiiii_23","jsCall_viiiiii_24","jsCall_viiiiii_25","jsCall_viiiiii_26","jsCall_viiiiii_27","jsCall_viiiiii_28","jsCall_viiiiii_29","jsCall_viiiiii_30","jsCall_viiiiii_31","jsCall_viiiiii_32","jsCall_viiiiii_33","jsCall_viiiiii_34","__ZNK10__cxxabiv117__class_type_info16search_above_dstEPNS_19__dynamic_cast_infoEPKvS4_ib","__ZNK10__cxxabiv120__si_class_type_info16search_above_dstEPNS_19__dynamic_cast_infoEPKvS4_ib",0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],Si={ff:ri,fii:ni,ii:ai,iidiiii:oi,iif:_i,iifff:si,iii:li,iiif:ui,iiiff:di,iiiffff:fi,iiiffii:ci,iiii:mi,iiiififfffff:pi,iiiii:Ti,jiji:gi,vi:hi,vii:vi,viiii:Ci,viiiii:Mi,viiiiii:Ei};function wi(e){de(e,"ff")}function yi(e){de(e,"fii")}function Ri(e){de(e,"ii")}function bi(e){de(e,"iidiiii")}function Ai(e){de(e,"iif")}function xi(e){de(e,"iifff")}function Oi(e){de(e,"iii")}function Ii(e){de(e,"iiif")}function Di(e){de(e,"iiiff")}function Li(e){de(e,"iiiffff")}function Ni(e){de(e,"iiiffii")}function ji(e){de(e,"iiii")}function Pi(e){de(e,"iiiififfffff")}function ki(e){de(e,"iiiii")}function Vi(e){de(e,"jiji")}function Fi(e){de(e,"vi")}function Gi(e){de(e,"vii")}function Ui(e){de(e,"viiii")}function Xi(e){de(e,"viiiii")}function Hi(e){de(e,"viiiiii")}function Bi(e,t){return y[e](t)}function Wi(e,t,i){return y[e](t,i)}function Yi(e,t){return y[e](t)}function zi(e,t,i,r,n,a,o){return y[e](t,i,r,n,a,o)}function Qi(e,t,i){return y[e](t,i)}function qi(e,t,i,r,n){return y[e](t,i,r,n)}function Ki(e,t,i){return y[e](t,i)}function Ji(e,t,i,r){return y[e](t,i,r)}function Zi(e,t,i,r,n){return y[e](t,i,r,n)}function $i(e,t,i,r,n,a,o){return y[e](t,i,r,n,a,o)}function er(e,t,i,r,n,a,o){return y[e](t,i,r,n,a,o)}function tr(e,t,i,r){return y[e](t,i,r)}function ir(e,t,i,r,n,a,o,_,s,l,u,d){return y[e](t,i,r,n,a,o,_,s,l,u,d)}function rr(e,t,i,r,n){return y[e](t,i,r,n)}function nr(e,t,i,r){return y[e](t,i,r)}function ar(e,t){y[e](t)}function or(e,t,i){y[e](t,i)}function _r(e,t,i,r,n){y[e](t,i,r,n)}function sr(e,t,i,r,n,a){y[e](t,i,r,n,a)}function lr(e,t,i,r,n,a,o){y[e](t,i,r,n,a,o)}var ur={},dr={___lock:Qe,___unlock:qe,___wasi_fd_write:$e,__memory_base:1024,__table_base:0,_emscripten_asm_const_i:Xe,_emscripten_get_heap_size:et,_emscripten_memcpy_big:ii,_emscripten_resize_heap:it,_emscripten_webgl_create_context:ut,_emscripten_webgl_init_context_attributes:dt,_emscripten_webgl_make_context_current:ft,_glActiveTexture:ct,_glAttachShader:mt,_glBindBuffer:pt,_glBindFramebuffer:Tt,_glBindTexture:gt,_glBlendFunc:ht,_glBufferData:vt,_glClear:Ct,_glClearColor:Mt,_glCompileShader:Et,_glCreateProgram:St,_glCreateShader:wt,_glDeleteFramebuffers:yt,_glDeleteShader:Rt,_glDeleteTextures:bt,_glDepthFunc:At,_glDrawArrays:xt,_glEnable:Ot,_glEnableVertexAttribArray:It,_glFramebufferTexture2D:Dt,_glGenBuffers:Nt,_glGenFramebuffers:jt,_glGenTextures:Pt,_glGetAttribLocation:kt,_glGetProgramiv:Vt,_glGetUniformLocation:Ft,_glLinkProgram:Gt,_glShaderSource:Ut,_glTexImage2D:zt,_glTexParameterf:Qt,_glTexParameteri:qt,_glUniform1f:Kt,_glUniform1i:Jt,_glUniform4f:Zt,_glUseProgram:$t,_glVertexAttribPointer:ei,_glViewport:ti,abortStackOverflow:ue,getTempRet0:I,jsCall_ff:Bi,jsCall_fii:Wi,jsCall_ii:Yi,jsCall_iidiiii:zi,jsCall_iif:Qi,jsCall_iifff:qi,jsCall_iii:Ki,jsCall_iiif:Ji,jsCall_iiiff:Zi,jsCall_iiiffff:$i,jsCall_iiiffii:er,jsCall_iiii:tr,jsCall_iiiififfffff:ir,jsCall_iiiii:rr,jsCall_jiji:nr,jsCall_vi:ar,jsCall_vii:or,jsCall_viiii:_r,jsCall_viiiii:sr,jsCall_viiiiii:lr,memory:x,nullFunc_ff:wi,nullFunc_fii:yi,nullFunc_ii:Ri,nullFunc_iidiiii:bi,nullFunc_iif:Ai,nullFunc_iifff:xi,nullFunc_iii:Oi,nullFunc_iiif:Ii,nullFunc_iiiff:Di,nullFunc_iiiffff:Li,nullFunc_iiiffii:Ni,nullFunc_iiii:ji,nullFunc_iiiififfffff:Pi,nullFunc_iiiii:ki,nullFunc_jiji:Vi,nullFunc_vi:Fi,nullFunc_vii:Gi,nullFunc_viiii:Ui,nullFunc_viiiii:Xi,nullFunc_viiiiii:Hi,table:D},fr=a.asm(ur,dr,Y);a.asm=fr;a._RenderNode_Dump_GL_Angle=function(){return N(he,"you need to wait for the runtime to be ready (e.g. wait for main() to be called)"),N(!ve,"the runtime was exited (use NO_EXIT_RUNTIME to keep it alive after main() exits)"),a.asm._RenderNode_Dump_GL_Angle.apply(null,arguments)},a._RenderNode_Dump_GL_CoreH=function(){return N(he,"you need to wait for the runtime to be ready (e.g. wait for main() to be called)"),N(!ve,"the runtime was exited (use NO_EXIT_RUNTIME to keep it alive after main() exits)"),a.asm._RenderNode_Dump_GL_CoreH.apply(null,arguments)},a._RenderNode_Dump_GL_CoreW=function(){return N(he,"you need to wait for the runtime to be ready (e.g. wait for main() to be called)"),N(!ve,"the runtime was exited (use NO_EXIT_RUNTIME to keep it alive after main() exits)"),a.asm._RenderNode_Dump_GL_CoreW.apply(null,arguments)},a._RenderNode_Dump_GL_CoreX=function(){return N(he,"you need to wait for the runtime to be ready (e.g. wait for main() to be called)"),N(!ve,"the runtime was exited (use NO_EXIT_RUNTIME to keep it alive after main() exits)"),a.asm._RenderNode_Dump_GL_CoreX.apply(null,arguments)},a._RenderNode_Dump_GL_CoreY=function(){return N(he,"you need to wait for the runtime to be ready (e.g. wait for main() to be called)"),N(!ve,"the runtime was exited (use NO_EXIT_RUNTIME to keep it alive after main() exits)"),a.asm._RenderNode_Dump_GL_CoreY.apply(null,arguments)},a._RenderNode_Dump_GL_HoriMirror=function(){return N(he,"you need to wait for the runtime to be ready (e.g. wait for main() to be called)"),N(!ve,"the runtime was exited (use NO_EXIT_RUNTIME to keep it alive after main() exits)"),a.asm._RenderNode_Dump_GL_HoriMirror.apply(null,arguments)},a._RenderNode_Dump_GL_Scale=function(){return N(he,"you need to wait for the runtime to be ready (e.g. wait for main() to be called)"),N(!ve,"the runtime was exited (use NO_EXIT_RUNTIME to keep it alive after main() exits)"),a.asm._RenderNode_Dump_GL_Scale.apply(null,arguments)},a._RenderNode_Dump_GL_VertMirror=function(){return N(he,"you need to wait for the runtime to be ready (e.g. wait for main() to be called)"),N(!ve,"the runtime was exited (use NO_EXIT_RUNTIME to keep it alive after main() exits)"),a.asm._RenderNode_Dump_GL_VertMirror.apply(null,arguments)},a._RenderNode_Dump_GL_X=function(){return N(he,"you need to wait for the runtime to be ready (e.g. wait for main() to be called)"),N(!ve,"the runtime was exited (use NO_EXIT_RUNTIME to keep it alive after main() exits)"),a.asm._RenderNode_Dump_GL_X.apply(null,arguments)},a._RenderNode_Dump_GL_Y=function(){return N(he,"you need to wait for the runtime to be ready (e.g. wait for main() to be called)"),N(!ve,"the runtime was exited (use NO_EXIT_RUNTIME to keep it alive after main() exits)"),a.asm._RenderNode_Dump_GL_Y.apply(null,arguments)},a._RenderNode_Dump_Level=function(){return N(he,"you need to wait for the runtime to be ready (e.g. wait for main() to be called)"),N(!ve,"the runtime was exited (use NO_EXIT_RUNTIME to keep it alive after main() exits)"),a.asm._RenderNode_Dump_Level.apply(null,arguments)},a._RenderNode_Dump_MediaInfo_AngleH=function(){return N(he,"you need to wait for the runtime to be ready (e.g. wait for main() to be called)"),N(!ve,"the runtime was exited (use NO_EXIT_RUNTIME to keep it alive after main() exits)"),a.asm._RenderNode_Dump_MediaInfo_AngleH.apply(null,arguments)},a._RenderNode_Dump_MediaInfo_AngleW=function(){return N(he,"you need to wait for the runtime to be ready (e.g. wait for main() to be called)"),N(!ve,"the runtime was exited (use NO_EXIT_RUNTIME to keep it alive after main() exits)"),a.asm._RenderNode_Dump_MediaInfo_AngleW.apply(null,arguments)},a._RenderNode_Dump_MediaInfo_AspectH=function(){return N(he,"you need to wait for the runtime to be ready (e.g. wait for main() to be called)"),N(!ve,"the runtime was exited (use NO_EXIT_RUNTIME to keep it alive after main() exits)"),a.asm._RenderNode_Dump_MediaInfo_AspectH.apply(null,arguments)},a._RenderNode_Dump_MediaInfo_AspectW=function(){return N(he,"you need to wait for the runtime to be ready (e.g. wait for main() to be called)"),N(!ve,"the runtime was exited (use NO_EXIT_RUNTIME to keep it alive after main() exits)"),a.asm._RenderNode_Dump_MediaInfo_AspectW.apply(null,arguments)},a._RenderNode_Dump_NodeType=function(){return N(he,"you need to wait for the runtime to be ready (e.g. wait for main() to be called)"),N(!ve,"the runtime was exited (use NO_EXIT_RUNTIME to keep it alive after main() exits)"),a.asm._RenderNode_Dump_NodeType.apply(null,arguments)},a._RenderNode_Dump_ShaderCount=function(){return N(he,"you need to wait for the runtime to be ready (e.g. wait for main() to be called)"),N(!ve,"the runtime was exited (use NO_EXIT_RUNTIME to keep it alive after main() exits)"),a.asm._RenderNode_Dump_ShaderCount.apply(null,arguments)},a._RenderNode_Dump_ShaderNameByIdx=function(){return N(he,"you need to wait for the runtime to be ready (e.g. wait for main() to be called)"),N(!ve,"the runtime was exited (use NO_EXIT_RUNTIME to keep it alive after main() exits)"),a.asm._RenderNode_Dump_ShaderNameByIdx.apply(null,arguments)},a._RenderNode_Dump_ShaderNameLengthByIdx=function(){return N(he,"you need to wait for the runtime to be ready (e.g. wait for main() to be called)"),N(!ve,"the runtime was exited (use NO_EXIT_RUNTIME to keep it alive after main() exits)"),a.asm._RenderNode_Dump_ShaderNameLengthByIdx.apply(null,arguments)},a._RenderNode_Dump_Tag=function(){return N(he,"you need to wait for the runtime to be ready (e.g. wait for main() to be called)"),N(!ve,"the runtime was exited (use NO_EXIT_RUNTIME to keep it alive after main() exits)"),a.asm._RenderNode_Dump_Tag.apply(null,arguments)},a._RenderNode_Dump_TagOffset=function(){return N(he,"you need to wait for the runtime to be ready (e.g. wait for main() to be called)"),N(!ve,"the runtime was exited (use NO_EXIT_RUNTIME to keep it alive after main() exits)"),a.asm._RenderNode_Dump_TagOffset.apply(null,arguments)},a._RenderNode_GetCtxH=function(){return N(he,"you need to wait for the runtime to be ready (e.g. wait for main() to be called)"),N(!ve,"the runtime was exited (use NO_EXIT_RUNTIME to keep it alive after main() exits)"),a.asm._RenderNode_GetCtxH.apply(null,arguments)},a._RenderNode_GetCtxW=function(){return N(he,"you need to wait for the runtime to be ready (e.g. wait for main() to be called)"),N(!ve,"the runtime was exited (use NO_EXIT_RUNTIME to keep it alive after main() exits)"),a.asm._RenderNode_GetCtxW.apply(null,arguments)},a._add_shader_to_node=function(){return N(he,"you need to wait for the runtime to be ready (e.g. wait for main() to be called)"),N(!ve,"the runtime was exited (use NO_EXIT_RUNTIME to keep it alive after main() exits)"),a.asm._add_shader_to_node.apply(null,arguments)},a._clear_shader_to_node=function(){return N(he,"you need to wait for the runtime to be ready (e.g. wait for main() to be called)"),N(!ve,"the runtime was exited (use NO_EXIT_RUNTIME to keep it alive after main() exits)"),a.asm._clear_shader_to_node.apply(null,arguments)},a._create_new_audio_node=function(){return N(he,"you need to wait for the runtime to be ready (e.g. wait for main() to be called)"),N(!ve,"the runtime was exited (use NO_EXIT_RUNTIME to keep it alive after main() exits)"),a.asm._create_new_audio_node.apply(null,arguments)},a._create_new_render_node=function(){return N(he,"you need to wait for the runtime to be ready (e.g. wait for main() to be called)"),N(!ve,"the runtime was exited (use NO_EXIT_RUNTIME to keep it alive after main() exits)"),a.asm._create_new_render_node.apply(null,arguments)},a._create_new_text_node=function(){return N(he,"you need to wait for the runtime to be ready (e.g. wait for main() to be called)"),N(!ve,"the runtime was exited (use NO_EXIT_RUNTIME to keep it alive after main() exits)"),a.asm._create_new_text_node.apply(null,arguments)},a._fflush=function(){return N(he,"you need to wait for the runtime to be ready (e.g. wait for main() to be called)"),N(!ve,"the runtime was exited (use NO_EXIT_RUNTIME to keep it alive after main() exits)"),a.asm._fflush.apply(null,arguments)},a._find_click_layer=function(){return N(he,"you need to wait for the runtime to be ready (e.g. wait for main() to be called)"),N(!ve,"the runtime was exited (use NO_EXIT_RUNTIME to keep it alive after main() exits)"),a.asm._find_click_layer.apply(null,arguments)};var cr,mr=a._free=function(){return N(he,"you need to wait for the runtime to be ready (e.g. wait for main() to be called)"),N(!ve,"the runtime was exited (use NO_EXIT_RUNTIME to keep it alive after main() exits)"),a.asm._free.apply(null,arguments)},pr=(a._getPosCropInfo4Canvas=function(){return N(he,"you need to wait for the runtime to be ready (e.g. wait for main() to be called)"),N(!ve,"the runtime was exited (use NO_EXIT_RUNTIME to keep it alive after main() exits)"),a.asm._getPosCropInfo4Canvas.apply(null,arguments)},a._getPosSizeInfo4CanvasByTag=function(){return N(he,"you need to wait for the runtime to be ready (e.g. wait for main() to be called)"),N(!ve,"the runtime was exited (use NO_EXIT_RUNTIME to keep it alive after main() exits)"),a.asm._getPosSizeInfo4CanvasByTag.apply(null,arguments)},a._graph_create=function(){return N(he,"you need to wait for the runtime to be ready (e.g. wait for main() to be called)"),N(!ve,"the runtime was exited (use NO_EXIT_RUNTIME to keep it alive after main() exits)"),a.asm._graph_create.apply(null,arguments)},a._init_master_lut=function(){return N(he,"you need to wait for the runtime to be ready (e.g. wait for main() to be called)"),N(!ve,"the runtime was exited (use NO_EXIT_RUNTIME to keep it alive after main() exits)"),a.asm._init_master_lut.apply(null,arguments)},a._init_master_trace=function(){return N(he,"you need to wait for the runtime to be ready (e.g. wait for main() to be called)"),N(!ve,"the runtime was exited (use NO_EXIT_RUNTIME to keep it alive after main() exits)"),a.asm._init_master_trace.apply(null,arguments)},a._main=function(){return N(he,"you need to wait for the runtime to be ready (e.g. wait for main() to be called)"),N(!ve,"the runtime was exited (use NO_EXIT_RUNTIME to keep it alive after main() exits)"),a.asm._main.apply(null,arguments)},a._malloc=function(){return N(he,"you need to wait for the runtime to be ready (e.g. wait for main() to be called)"),N(!ve,"the runtime was exited (use NO_EXIT_RUNTIME to keep it alive after main() exits)"),a.asm._malloc.apply(null,arguments)}),Tr=(a._remove_render_node=function(){return N(he,"you need to wait for the runtime to be ready (e.g. wait for main() to be called)"),N(!ve,"the runtime was exited (use NO_EXIT_RUNTIME to keep it alive after main() exits)"),a.asm._remove_render_node.apply(null,arguments)},a._render=function(){return N(he,"you need to wait for the runtime to be ready (e.g. wait for main() to be called)"),N(!ve,"the runtime was exited (use NO_EXIT_RUNTIME to keep it alive after main() exits)"),a.asm._render.apply(null,arguments)},a._render_by_pipTag=function(){return N(he,"you need to wait for the runtime to be ready (e.g. wait for main() to be called)"),N(!ve,"the runtime was exited (use NO_EXIT_RUNTIME to keep it alive after main() exits)"),a.asm._render_by_pipTag.apply(null,arguments)},a._render_clear=function(){return N(he,"you need to wait for the runtime to be ready (e.g. wait for main() to be called)"),N(!ve,"the runtime was exited (use NO_EXIT_RUNTIME to keep it alive after main() exits)"),a.asm._render_clear.apply(null,arguments)},a._render_prepare_lut=function(){return N(he,"you need to wait for the runtime to be ready (e.g. wait for main() to be called)"),N(!ve,"the runtime was exited (use NO_EXIT_RUNTIME to keep it alive after main() exits)"),a.asm._render_prepare_lut.apply(null,arguments)},a._render_removeTex=function(){return N(he,"you need to wait for the runtime to be ready (e.g. wait for main() to be called)"),N(!ve,"the runtime was exited (use NO_EXIT_RUNTIME to keep it alive after main() exits)"),a.asm._render_removeTex.apply(null,arguments)},a._render_reset_tag_GL_HoriMirror=function(){return N(he,"you need to wait for the runtime to be ready (e.g. wait for main() to be called)"),N(!ve,"the runtime was exited (use NO_EXIT_RUNTIME to keep it alive after main() exits)"),a.asm._render_reset_tag_GL_HoriMirror.apply(null,arguments)},a._render_reset_tag_GL_VertMirror=function(){return N(he,"you need to wait for the runtime to be ready (e.g. wait for main() to be called)"),N(!ve,"the runtime was exited (use NO_EXIT_RUNTIME to keep it alive after main() exits)"),a.asm._render_reset_tag_GL_VertMirror.apply(null,arguments)},a._render_set_tag_GL_Crop=function(){return N(he,"you need to wait for the runtime to be ready (e.g. wait for main() to be called)"),N(!ve,"the runtime was exited (use NO_EXIT_RUNTIME to keep it alive after main() exits)"),a.asm._render_set_tag_GL_Crop.apply(null,arguments)},a._render_set_tag_GL_MvHoriMirror=function(){return N(he,"you need to wait for the runtime to be ready (e.g. wait for main() to be called)"),N(!ve,"the runtime was exited (use NO_EXIT_RUNTIME to keep it alive after main() exits)"),a.asm._render_set_tag_GL_MvHoriMirror.apply(null,arguments)},a._render_set_tag_GL_MvVertMirror=function(){return N(he,"you need to wait for the runtime to be ready (e.g. wait for main() to be called)"),N(!ve,"the runtime was exited (use NO_EXIT_RUNTIME to keep it alive after main() exits)"),a.asm._render_set_tag_GL_MvVertMirror.apply(null,arguments)},a._render_set_tag_GL_MvXY=function(){return N(he,"you need to wait for the runtime to be ready (e.g. wait for main() to be called)"),N(!ve,"the runtime was exited (use NO_EXIT_RUNTIME to keep it alive after main() exits)"),a.asm._render_set_tag_GL_MvXY.apply(null,arguments)},a._render_set_tag_GL_angle=function(){return N(he,"you need to wait for the runtime to be ready (e.g. wait for main() to be called)"),N(!ve,"the runtime was exited (use NO_EXIT_RUNTIME to keep it alive after main() exits)"),a.asm._render_set_tag_GL_angle.apply(null,arguments)},a._render_set_tag_GL_scale=function(){return N(he,"you need to wait for the runtime to be ready (e.g. wait for main() to be called)"),N(!ve,"the runtime was exited (use NO_EXIT_RUNTIME to keep it alive after main() exits)"),a.asm._render_set_tag_GL_scale.apply(null,arguments)},a._render_update_inside_by_canvas_size_and_angle=function(){return N(he,"you need to wait for the runtime to be ready (e.g. wait for main() to be called)"),N(!ve,"the runtime was exited (use NO_EXIT_RUNTIME to keep it alive after main() exits)"),a.asm._render_update_inside_by_canvas_size_and_angle.apply(null,arguments)},a._rm_shader_to_node=function(){return N(he,"you need to wait for the runtime to be ready (e.g. wait for main() to be called)"),N(!ve,"the runtime was exited (use NO_EXIT_RUNTIME to keep it alive after main() exits)"),a.asm._rm_shader_to_node.apply(null,arguments)},a._set_render_node_showTime=function(){return N(he,"you need to wait for the runtime to be ready (e.g. wait for main() to be called)"),N(!ve,"the runtime was exited (use NO_EXIT_RUNTIME to keep it alive after main() exits)"),a.asm._set_render_node_showTime.apply(null,arguments)},a._transCanvasMvX_2_GlMvX=function(){return N(he,"you need to wait for the runtime to be ready (e.g. wait for main() to be called)"),N(!ve,"the runtime was exited (use NO_EXIT_RUNTIME to keep it alive after main() exits)"),a.asm._transCanvasMvX_2_GlMvX.apply(null,arguments)},a._transCanvasMvY_2_GlMvY=function(){return N(he,"you need to wait for the runtime to be ready (e.g. wait for main() to be called)"),N(!ve,"the runtime was exited (use NO_EXIT_RUNTIME to keep it alive after main() exits)"),a.asm._transCanvasMvY_2_GlMvY.apply(null,arguments)},a._uniform_setup=function(){return N(he,"you need to wait for the runtime to be ready (e.g. wait for main() to be called)"),N(!ve,"the runtime was exited (use NO_EXIT_RUNTIME to keep it alive after main() exits)"),a.asm._uniform_setup.apply(null,arguments)},a._update_node_tag_param=function(){return N(he,"you need to wait for the runtime to be ready (e.g. wait for main() to be called)"),N(!ve,"the runtime was exited (use NO_EXIT_RUNTIME to keep it alive after main() exits)"),a.asm._update_node_tag_param.apply(null,arguments)},a._update_shader=function(){return N(he,"you need to wait for the runtime to be ready (e.g. wait for main() to be called)"),N(!ve,"the runtime was exited (use NO_EXIT_RUNTIME to keep it alive after main() exits)"),a.asm._update_shader.apply(null,arguments)},a._vbo_setup=function(){return N(he,"you need to wait for the runtime to be ready (e.g. wait for main() to be called)"),N(!ve,"the runtime was exited (use NO_EXIT_RUNTIME to keep it alive after main() exits)"),a.asm._vbo_setup.apply(null,arguments)},a.establishStackSpace=function(){return N(he,"you need to wait for the runtime to be ready (e.g. wait for main() to be called)"),N(!ve,"the runtime was exited (use NO_EXIT_RUNTIME to keep it alive after main() exits)"),a.asm.establishStackSpace.apply(null,arguments)},a.stackAlloc=function(){return N(he,"you need to wait for the runtime to be ready (e.g. wait for main() to be called)"),N(!ve,"the runtime was exited (use NO_EXIT_RUNTIME to keep it alive after main() exits)"),a.asm.stackAlloc.apply(null,arguments)}),gr=a.stackRestore=function(){return N(he,"you need to wait for the runtime to be ready (e.g. wait for main() to be called)"),N(!ve,"the runtime was exited (use NO_EXIT_RUNTIME to keep it alive after main() exits)"),a.asm.stackRestore.apply(null,arguments)},hr=a.stackSave=function(){return N(he,"you need to wait for the runtime to be ready (e.g. wait for main() to be called)"),N(!ve,"the runtime was exited (use NO_EXIT_RUNTIME to keep it alive after main() exits)"),a.asm.stackSave.apply(null,arguments)};a.dynCall_vi=function(){return N(he,"you need to wait for the runtime to be ready (e.g. wait for main() to be called)"),N(!ve,"the runtime was exited (use NO_EXIT_RUNTIME to keep it alive after main() exits)"),a.asm.dynCall_vi.apply(null,arguments)};function vr(e){this.name="ExitStatus",this.message="Program terminated with exit("+e+")",this.status=e}a.asm=fr,Object.getOwnPropertyDescriptor(a,"intArrayFromString")||(a.intArrayFromString=function(){Le("'intArrayFromString' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(a,"intArrayToString")||(a.intArrayToString=function(){Le("'intArrayToString' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")}),a.ccall=P,a.cwrap=k,Object.getOwnPropertyDescriptor(a,"setValue")||(a.setValue=function(){Le("'setValue' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(a,"getValue")||(a.getValue=function(){Le("'getValue' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(a,"allocate")||(a.allocate=function(){Le("'allocate' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(a,"getMemory")||(a.getMemory=function(){Le("'getMemory' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ). Alternatively, forcing filesystem support (-s FORCE_FILESYSTEM=1) can export this for you")}),Object.getOwnPropertyDescriptor(a,"AsciiToString")||(a.AsciiToString=function(){Le("'AsciiToString' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(a,"stringToAscii")||(a.stringToAscii=function(){Le("'stringToAscii' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(a,"UTF8ArrayToString")||(a.UTF8ArrayToString=function(){Le("'UTF8ArrayToString' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(a,"UTF8ToString")||(a.UTF8ToString=function(){Le("'UTF8ToString' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(a,"stringToUTF8Array")||(a.stringToUTF8Array=function(){Le("'stringToUTF8Array' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")}),a.stringToUTF8=X,Object.getOwnPropertyDescriptor(a,"lengthBytesUTF8")||(a.lengthBytesUTF8=function(){Le("'lengthBytesUTF8' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(a,"UTF16ToString")||(a.UTF16ToString=function(){Le("'UTF16ToString' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(a,"stringToUTF16")||(a.stringToUTF16=function(){Le("'stringToUTF16' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(a,"lengthBytesUTF16")||(a.lengthBytesUTF16=function(){Le("'lengthBytesUTF16' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(a,"UTF32ToString")||(a.UTF32ToString=function(){Le("'UTF32ToString' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(a,"stringToUTF32")||(a.stringToUTF32=function(){Le("'stringToUTF32' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(a,"lengthBytesUTF32")||(a.lengthBytesUTF32=function(){Le("'lengthBytesUTF32' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(a,"allocateUTF8")||(a.allocateUTF8=function(){Le("'allocateUTF8' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(a,"stackTrace")||(a.stackTrace=function(){Le("'stackTrace' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(a,"addOnPreRun")||(a.addOnPreRun=function(){Le("'addOnPreRun' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(a,"addOnInit")||(a.addOnInit=function(){Le("'addOnInit' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(a,"addOnPreMain")||(a.addOnPreMain=function(){Le("'addOnPreMain' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(a,"addOnExit")||(a.addOnExit=function(){Le("'addOnExit' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(a,"addOnPostRun")||(a.addOnPostRun=function(){Le("'addOnPostRun' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(a,"writeStringToMemory")||(a.writeStringToMemory=function(){Le("'writeStringToMemory' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(a,"writeArrayToMemory")||(a.writeArrayToMemory=function(){Le("'writeArrayToMemory' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(a,"writeAsciiToMemory")||(a.writeAsciiToMemory=function(){Le("'writeAsciiToMemory' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(a,"addRunDependency")||(a.addRunDependency=function(){Le("'addRunDependency' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ). Alternatively, forcing filesystem support (-s FORCE_FILESYSTEM=1) can export this for you")}),Object.getOwnPropertyDescriptor(a,"removeRunDependency")||(a.removeRunDependency=function(){Le("'removeRunDependency' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ). Alternatively, forcing filesystem support (-s FORCE_FILESYSTEM=1) can export this for you")}),Object.getOwnPropertyDescriptor(a,"ENV")||(a.ENV=function(){Le("'ENV' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(a,"FS")||(a.FS=function(){Le("'FS' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(a,"FS_createFolder")||(a.FS_createFolder=function(){Le("'FS_createFolder' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ). Alternatively, forcing filesystem support (-s FORCE_FILESYSTEM=1) can export this for you")}),Object.getOwnPropertyDescriptor(a,"FS_createPath")||(a.FS_createPath=function(){Le("'FS_createPath' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ). Alternatively, forcing filesystem support (-s FORCE_FILESYSTEM=1) can export this for you")}),Object.getOwnPropertyDescriptor(a,"FS_createDataFile")||(a.FS_createDataFile=function(){Le("'FS_createDataFile' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ). Alternatively, forcing filesystem support (-s FORCE_FILESYSTEM=1) can export this for you")}),Object.getOwnPropertyDescriptor(a,"FS_createPreloadedFile")||(a.FS_createPreloadedFile=function(){Le("'FS_createPreloadedFile' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ). Alternatively, forcing filesystem support (-s FORCE_FILESYSTEM=1) can export this for you")}),Object.getOwnPropertyDescriptor(a,"FS_createLazyFile")||(a.FS_createLazyFile=function(){Le("'FS_createLazyFile' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ). Alternatively, forcing filesystem support (-s FORCE_FILESYSTEM=1) can export this for you")}),Object.getOwnPropertyDescriptor(a,"FS_createLink")||(a.FS_createLink=function(){Le("'FS_createLink' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ). Alternatively, forcing filesystem support (-s FORCE_FILESYSTEM=1) can export this for you")}),Object.getOwnPropertyDescriptor(a,"FS_createDevice")||(a.FS_createDevice=function(){Le("'FS_createDevice' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ). Alternatively, forcing filesystem support (-s FORCE_FILESYSTEM=1) can export this for you")}),Object.getOwnPropertyDescriptor(a,"FS_unlink")||(a.FS_unlink=function(){Le("'FS_unlink' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ). Alternatively, forcing filesystem support (-s FORCE_FILESYSTEM=1) can export this for you")}),Object.getOwnPropertyDescriptor(a,"GL")||(a.GL=function(){Le("'GL' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(a,"dynamicAlloc")||(a.dynamicAlloc=function(){Le("'dynamicAlloc' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(a,"loadDynamicLibrary")||(a.loadDynamicLibrary=function(){Le("'loadDynamicLibrary' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(a,"loadWebAssemblyModule")||(a.loadWebAssemblyModule=function(){Le("'loadWebAssemblyModule' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(a,"getLEB")||(a.getLEB=function(){Le("'getLEB' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(a,"getFunctionTables")||(a.getFunctionTables=function(){Le("'getFunctionTables' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(a,"alignFunctionTables")||(a.alignFunctionTables=function(){Le("'alignFunctionTables' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(a,"registerFunctions")||(a.registerFunctions=function(){Le("'registerFunctions' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")}),a.addFunction=R,Object.getOwnPropertyDescriptor(a,"removeFunction")||(a.removeFunction=function(){Le("'removeFunction' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(a,"getFuncWrapper")||(a.getFuncWrapper=function(){Le("'getFuncWrapper' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(a,"prettyPrint")||(a.prettyPrint=function(){Le("'prettyPrint' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(a,"makeBigInt")||(a.makeBigInt=function(){Le("'makeBigInt' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(a,"dynCall")||(a.dynCall=function(){Le("'dynCall' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(a,"getCompilerSetting")||(a.getCompilerSetting=function(){Le("'getCompilerSetting' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(a,"stackSave")||(a.stackSave=function(){Le("'stackSave' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(a,"stackRestore")||(a.stackRestore=function(){Le("'stackRestore' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(a,"stackAlloc")||(a.stackAlloc=function(){Le("'stackAlloc' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(a,"establishStackSpace")||(a.establishStackSpace=function(){Le("'establishStackSpace' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(a,"print")||(a.print=function(){Le("'print' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(a,"printErr")||(a.printErr=function(){Le("'printErr' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(a,"getTempRet0")||(a.getTempRet0=function(){Le("'getTempRet0' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(a,"setTempRet0")||(a.setTempRet0=function(){Le("'setTempRet0' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(a,"callMain")||(a.callMain=function(){Le("'callMain' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(a,"abort")||(a.abort=function(){Le("'abort' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(a,"Pointer_stringify")||(a.Pointer_stringify=function(){Le("'Pointer_stringify' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(a,"warnOnce")||(a.warnOnce=function(){Le("'warnOnce' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")}),Object.getOwnPropertyDescriptor(a,"ALLOC_NORMAL")||Object.defineProperty(a,"ALLOC_NORMAL",{configurable:!0,get:function(){Le("'ALLOC_NORMAL' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")}}),Object.getOwnPropertyDescriptor(a,"ALLOC_STACK")||Object.defineProperty(a,"ALLOC_STACK",{configurable:!0,get:function(){Le("'ALLOC_STACK' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")}}),Object.getOwnPropertyDescriptor(a,"ALLOC_DYNAMIC")||Object.defineProperty(a,"ALLOC_DYNAMIC",{configurable:!0,get:function(){Le("'ALLOC_DYNAMIC' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")}}),Object.getOwnPropertyDescriptor(a,"ALLOC_NONE")||Object.defineProperty(a,"ALLOC_NONE",{configurable:!0,get:function(){Le("'ALLOC_NONE' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ)")}}),Object.getOwnPropertyDescriptor(a,"calledRun")||Object.defineProperty(a,"calledRun",{configurable:!0,get:function(){Le("'calledRun' was not exported. add it to EXTRA_EXPORTED_RUNTIME_METHODS (see the FAQ). Alternatively, forcing filesystem support (-s FORCE_FILESYSTEM=1) can export this for you")}});function Cr(e){N(0==be,'cannot call main when async dependencies remain! (listen on Module["onRuntimeInitialized"])'),N(0==ce.length,"cannot call main when preRun functions remain to be called");var t=(e=e||[]).length+1,i=Tr(4*(t+1));K[i>>2]=B(s);for(var r=1;r<t;r++)K[(i>>2)+r]=B(e[r-1]);K[(i>>2)+t]=0;try{Sr(a._main(t,i),!0)}catch(e){if(e instanceof vr)return;if("SimulateInfiniteLoop"==e)return void(A=!0);var n=e;e&&"object"==typeof e&&e.stack&&(n=[e,e.stack]),M("exception thrown: "+n),l(1,e)}finally{!0}}function Mr(e){function t(){cr||(cr=!0,L||(Me(),Ee(),a.onRuntimeInitialized&&a.onRuntimeInitialized(),wr&&Cr(e),we()))}e=e||_,be>0||(se(),Ce(),be>0||(a.setStatus?(a.setStatus("Running..."),setTimeout((function(){setTimeout((function(){a.setStatus("")}),1),t()}),1)):t(),le()))}function Er(){var e=C,t=M,i=!1;C=M=function(e){i=!0};try{Ke&&Ke(0)}catch(e){}C=e,M=t,i&&(E("stdio streams had content in them that was not flushed. you should set EXIT_RUNTIME to 1 (see the FAQ), or make sure to emit a newline when you printf etc."),E("(this may also be due to not including full filesystem support - try building with -s FORCE_FILESYSTEM=1)"))}function Sr(e,t){Er(),t&&A&&0===e||(A?t||M("exit("+e+") called, but EXIT_RUNTIME is not set, so halting execution but not exiting the runtime or preventing further async execution (build with EXIT_RUNTIME=1, if you want a true shutdown)"):(L=!0,e,Se(),a.onExit&&a.onExit(e)),l(e,new vr(e)))}if(xe=function e(){cr||Mr(),cr||(xe=e)},a.run=Mr,a.preInit)for("function"==typeof a.preInit&&(a.preInit=[a.preInit]);a.preInit.length>0;)a.preInit.pop()();var wr=!0;a.noInitialRun&&(wr=!1),A=!0,Mr(),t.exports=a}).call(this,e("_process"),"/libcpp")},{_process:3,fs:1,path:2}]},{},[7]);